(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{107:function(e,t,c){},108:function(e,t,c){"use strict";c.r(t);var a=c(1),r=c.n(a),n=c(29),s=c.n(n),o=(c(77),c(5)),i=c(11),u=c(7),d=c(4),l=c(2),p=c.n(l),j=c(6),b=c(12),h=c.n(b),O={signUp:function(e){return function(){var t=Object(j.a)(p.a.mark((function t(c){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.post("https://cozydeco.herokuapp.com/api/user/register",e,{withCredentials:!0});case 3:if((a=t.sent).data.success){t.next=6;break}return t.abrupt("return",a.data);case 6:return c({type:"LOG_IN_USER",payload:a.data.response}),t.abrupt("return",{success:!0,response:a.data.response});case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",{success:!1,response:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},logFromSession:function(){return function(){var e=Object(j.a)(p.a.mark((function e(t){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("https://cozydeco.herokuapp.com/api/user/validate",{withCredentials:!0});case 3:if((c=e.sent).data.success){e.next=6;break}throw new Error(c.data.response);case 6:t({type:"LOG_IN_USER",payload:c.data.response}),e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(0),t({type:"LOG_OUT"}),e.next=14,h.a.get("https://cozydeco.herokuapp.com/api/user/logout");case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},logIn:function(e){return function(){var t=Object(j.a)(p.a.mark((function t(c){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.post("https://cozydeco.herokuapp.com/api/user/login",e,{withCredentials:!0});case 3:if((a=t.sent).data.success){t.next=6;break}throw new Error(a.data.response);case 6:return c({type:"LOG_IN_USER",payload:a.data.response}),t.abrupt("return",{success:!0,response:a.data.response});case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",{success:!1,response:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},logOut:function(){return function(){var e=Object(j.a)(p.a.mark((function e(t){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("https://cozydeco.herokuapp.com/api/user/logout",{withCredentials:!0});case 3:if((c=e.sent).data.success){e.next=6;break}throw new Error(c.data.response);case 6:t({type:"LOG_OUT"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},manageUser:function(e){return function(){var t=Object(j.a)(p.a.mark((function t(c){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.put("https://cozydeco.herokuapp.com/api/user/manage",Object(d.a)({},e),{withCredentials:!0});case 3:if((a=t.sent).data.success){t.next=6;break}throw new Error(a.data.response);case 6:return t.abrupt("return",{success:!0});case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",{success:!1});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},m=O,f=c(3),x=c(14),g=c.n(x),v={addCartProduct:function(e){return function(t){t({type:"ADD_CART_PRODUCT",payload:e})}},deleteACartProduct:function(e){return function(t){t({type:"DELETE_ONE_CART_PRODUCT",payload:e})}},updateCartProduct:function(e){return function(t){return t({type:"UPDATE_CART_PRODUCT",payload:e}),{success:!0}}},deleteAllCartProduct:function(){return function(e){e({type:"DELETE_CART"})}},addCartLS:function(e){return function(){var t=Object(j.a)(p.a.mark((function t(c){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:"ADD_CART_LS",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},addNewOrder:function(e){return function(){var t=Object(j.a)(p.a.mark((function t(c){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("entr\xe9 al add new order al post"),t.next=4,h.a.post("https://cozydeco.herokuapp.com/api/order/new",Object(d.a)({},e),{withCredentials:!0});case 4:if(a=t.sent,console.log(a),a.data.success){t.next=8;break}throw new Error(a.data.response);case 8:return t.abrupt("return",{success:!0});case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",{success:!1,res:t.t0});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},addCard:function(e){return console.log(e),function(){var t=Object(j.a)(p.a.mark((function t(c){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.post("https://cozydeco.herokuapp.com/api/cards",{balances:e},{withCredentials:!0});case 3:if((a=t.sent).data.success){t.next=6;break}throw new Error(a.data.response);case 6:return t.abrupt("return",{success:!0});case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",{success:!1,res:t.t0});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},getCard:function(e){return function(){var t=Object(j.a)(p.a.mark((function t(c){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("https://cozydeco.herokuapp.com/api/card/".concat(e),{withCredentials:!0});case 3:if((a=t.sent).data.success){t.next=6;break}throw new Error;case 6:return t.abrupt("return",{success:!0,res:a.data.response});case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",{success:!1,res:t.t0});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},editCard:function(e){return function(){var t=Object(j.a)(p.a.mark((function t(c){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.put("https://cozydeco.herokuapp.com/api/card/".concat(e.code),Object(d.a)({},e),{withCredentials:!0});case 3:if((a=t.sent).data.success){t.next=6;break}throw new Error;case 6:return t.abrupt("return",{success:!0,res:a.data.response});case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",{success:!1,res:t.t0});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},payWithCreditCard:function(){return Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("https://cozydeco.herokuapp.com/api/payment/",{withCredentials:!0});case 3:if(e.sent.data.success){e.next=6;break}throw new Error;case 6:return e.abrupt("return",{success:!0});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))}},_=v,y=c(0),C={addCartProduct:_.addCartProduct},N=Object(u.b)((function(e){return{user:e.users.user,productsCart:e.cart.products}}),C)((function(e){var t,c=e.product,r=e.editShowCartCard,n=e.setProductAlert,s=e.addCartProduct,i=e.user,u=e.newClass,d=e.productsCart,l=Object(a.useState)(null),p=Object(f.a)(l,2),j=p[0],b=p[1],h=Object(a.useState)(""),O=Object(f.a)(h,2),m=O[0],x=O[1];Object(a.useEffect)((function(){i&&b(i.admin)}),[]);var v=d.find((function(e){return e.product._id===c._id&&"GiftCard"===e.product.category})),_=(null===(t=c.photo)||void 0===t?void 0:t.includes("http"))?c.photo:"https://cozydeco.herokuapp.com/".concat(c.photo);return Object(y.jsxs)("div",{className:g.a.wrapper,children:[Object(y.jsxs)("div",{className:g.a.container,children:[Object(y.jsx)(o.b,{to:"/product/".concat(c._id),children:Object(y.jsx)("div",{className:g.a.top,style:{backgroundImage:'url("'.concat(_,'")')}})}),Object(y.jsxs)("div",{className:g.a.bottom,children:[Object(y.jsxs)("div",{className:g.a.nameAndPrice,children:[Object(y.jsx)("h1",{children:c.name}),Object(y.jsx)("p",{style:{fontSize:"x-small",color:"brown"},children:m}),Object(y.jsxs)("div",{children:[Object(y.jsxs)("p",{className:0!==c.discount?g.a.sale:null,children:["$",c.price]}),0!==c.discount&&Object(y.jsxs)("p",{children:["$",((100-c.discount)/100*c.price).toFixed(2)]})]})]}),Object(y.jsxs)("div",{className:g.a.cardButtons,children:[!j&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("i",{style:{cursor:"pointer"},className:"fas fa-cart-plus fa-lg",onClick:v?function(){return x("No Stock")}:function(){var e={product:c,quantity:1};r(!0),n(e),s(e)}}),Object(y.jsx)(o.b,{to:"/product/".concat(c._id),children:Object(y.jsx)("i",{className:"fas fa-eye fa-lg"})})]}),j&&Object(y.jsx)(o.b,{to:"/productform/".concat(c._id),children:Object(y.jsx)("i",{className:"fas fa-pen fa-lg"})})]})]})]}),0!==c.discount&&Object(y.jsx)("div",{className:g.a.inside,children:Object(y.jsx)("div",{className:u?g.a.newClass:g.a.icon,children:u?"- ".concat(c.discount,"%"):"".concat(c.discount,"% OFF")})})]})})),w=c(27),P=c.n(w),k=function(e){var t=e.productAlert,c=e.showCartCard,a=e.editShowCartCard,r=t.product.photo.includes("http")?t.product.photo:"https://cozydeco.herokuapp.com/".concat(t.product.photo);return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{className:c?P.a.showCard:P.a.hideCard,children:Object(y.jsxs)("div",{className:P.a.cartCard,children:[Object(y.jsxs)("div",{className:P.a.topToast,children:[Object(y.jsx)("div",{children:Object(y.jsx)("div",{style:{backgroundImage:"url(".concat(r,")"),width:"100px",height:"100px",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},className:"h-4 w-4 rounded-full"})}),Object(y.jsxs)("div",{className:P.a.infoCart,children:[Object(y.jsx)("p",{children:t.product.name}),Object(y.jsxs)("p",{children:[t.quantity," x $",t.product.price]}),Object(y.jsx)("p",{className:P.a.bold,children:"Successfully added to cart!"})]}),Object(y.jsx)("div",{className:P.a.close,children:Object(y.jsx)("i",{onClick:function(){return a(!1)},className:"fas fa-times"})})]}),Object(y.jsxs)("div",{className:P.a.total,children:[Object(y.jsxs)("p",{children:["Total (",t.quantity,"product):"]}),Object(y.jsxs)("p",{children:["$ ",t.product.price]})]})]})})})},S={getProducts:function(){return function(){var e=Object(j.a)(p.a.mark((function e(t){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("https://cozydeco.herokuapp.com/api/products",{},{withCredentials:!0});case 3:if((c=e.sent).data.success){e.next=6;break}throw new Error("Failed to get new products");case 6:return console.log(c),console.log("mande el despacho"),t({type:"GET_ALL_PRODUCTS",payload:c.data.response}),console.log("retorne al componente"),e.abrupt("return",{success:!0});case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},addProduct:function(e){return function(){var t=Object(j.a)(p.a.mark((function t(c){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.post("https://cozydeco.herokuapp.com/api/product/add",e,{withCredentials:!0});case 3:if(!(a=t.sent).data.success){t.next=9;break}return c({type:"ADD_PRODUCT",payload:a.data.respose}),t.abrupt("return",a);case 9:throw new Error(a.data.response);case 10:t.next=15;break;case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",{success:!1,response:t.t0});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},getAProduct:function(e){return function(){var t=Object(j.a)(p.a.mark((function t(c){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("https://cozydeco.herokuapp.com/api/product/".concat(e));case 3:if((a=t.sent).data.success){t.next=6;break}throw new Error("Failed to get product");case 6:return c({type:"GET_PRODUCT",payload:a.data.response}),t.abrupt("return",{success:!0,res:a.data.response});case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",{success:!1,res:t.t0});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},findAProduct:function(e){return function(t){t({type:"FIND_A_PRODUCT",payload:e})}},modifyProduct:function(e,t){return Object(j.a)(p.a.mark((function c(){return p.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,h.a.put("https://cozydeco.herokuapp.com/api/product/".concat(e),t,{withCredentials:!0});case 3:if(c.sent.data.success){c.next=6;break}throw new Error("Error trying to modify the stock");case 6:return c.abrupt("return",{success:!0});case 9:return c.prev=9,c.t0=c.catch(0),c.abrupt("return",{success:!1});case 12:case"end":return c.stop()}}),c,null,[[0,9]])})))},getProductByCategory:function(e){return console.log(e),function(t){t({type:e?"GET_BY_CATEGORY":"GET_ALL",payload:e})}}},I=S,E=c(41),A=c(16),F=c.n(A),G={deleteACartProduct:_.deleteACartProduct,updateCartProduct:_.updateCartProduct},T=Object(u.b)(null,G)((function(e){var t=e.cartItem,c=e.deleteACartProduct,r=(e.setPriceTotal,e.updateCartProduct),n=Object(a.useState)(!0),s=Object(f.a)(n,2),o=s[0],i=s[1],u=function(e){i(!1);var c={product:t.product,quantity:"+"===e?t.quantity+1:t.quantity-1};r(c),i(!0)},d=t.product.photo.includes("http")?t.product.photo:"https://cozydeco.herokuapp.com/".concat(t.product.photo);return Object(y.jsxs)("div",{className:F.a.productInCart,children:[Object(y.jsx)("div",{className:F.a.productCartPhoto,style:{backgroundImage:'url("'.concat(d,'")')}}),Object(y.jsxs)("div",{className:F.a.productCartInfo,children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("h5",{children:t.product.name}),Object(y.jsx)("i",{style:{cursor:"pointer"},onClick:function(){return c(t.product._id)},className:"fas fa-trash-alt fa-1x"})]}),Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:F.a.counter,children:[Object(y.jsx)("i",{className:"fas fa-minus",onClick:t.quantity>1&&o?function(){return u("-")}:null}),Object(y.jsx)("p",{className:F.a.amountOrder,children:t.quantity}),Object(y.jsx)("i",{className:"fas fa-plus",onClick:t.product.stock>t.quantity&&o&&"GiftCard"!==t.product.category?function(){return u("+")}:null})]}),Object(y.jsxs)("p",{className:F.a.priceTotal,children:["$",0===t.product.discount?t.product.price:((100-t.product.discount)/100*t.product.price).toFixed(2)]}),Object(y.jsxs)("p",{className:F.a.priceTotal,children:["$",((0===t.product.discount?t.product.price:(100-t.product.discount)/100*t.product.price)*t.quantity).toFixed(2)]})]})]})]})})),M=Object(u.b)((function(e){return{products:e.cart.products,loginUser:e.users.user}}))((function(e){var t=e.onClickHandler,c=e.products,r=e.loginUser,n=Object(a.useState)(!1),s=Object(f.a)(n,2),u=s[0],d=s[1],l=Object(i.g)(),p=c.map((function(e){return 0===e.product.discount?e.product.price*e.quantity:(100-e.product.discount)/100*e.product.price*e.quantity})),j=function(){d(!1),t()};return Object(y.jsxs)("div",{className:F.a.cartContainer,children:[Object(y.jsxs)("div",{className:F.a.cartContainerHeader,children:[Object(y.jsx)("h3",{children:"SHOPPING CART"}),Object(y.jsx)("i",{onClick:j,className:"fas fa-times"})]}),Object(y.jsxs)("div",{className:F.a.cartContainerMain,children:[c.map((function(e){return Object(y.jsx)(T,{cartItem:e},e.product._id)})),c.length?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:F.a.divPrice,children:[Object(y.jsx)("h4",{children:"SUBTOTAL"}),Object(y.jsxs)("h4",{children:["$ ",p.reduce((function(e,t){return e+t})).toFixed(2)]})]}),Object(y.jsx)("div",{className:F.a.divSpan,children:u&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{children:"You must be logged in to make a purchase"}),Object(y.jsx)(o.b,{to:"/signin",onClick:j,children:"Sign In"})]})}),Object(y.jsxs)("div",{className:F.a.divButton,children:[Object(y.jsx)("button",{onClick:function(){r?(t(),l.push("/payment")):d(!0)},children:"FINALIZE PURCHASE"}),Object(y.jsx)(o.b,{to:"/products",children:Object(y.jsx)("button",{onClick:t,children:"KEEP SHOPPING"})})]})]}):Object(y.jsxs)("div",{className:F.a.warning,children:[Object(y.jsxs)("p",{children:[Object(y.jsx)("i",{className:"fas fa-exclamation fa-lg"})," You don't have any items in your cart."]}),Object(y.jsx)("p",{children:"Many products are waiting for you!"}),Object(y.jsxs)("div",{className:F.a.warningButton,children:[Object(y.jsx)(o.b,{to:"/products",onClick:j,children:Object(y.jsx)("button",{children:"START SHOPPING"})}),!r&&Object(y.jsx)(o.b,{to:"/signin",onClick:j,children:Object(y.jsx)("button",{children:"SIGN IN"})})]})]})]})]})})),R=c(25),U=c.n(R),D={logOut:m.logOut},B=Object(u.b)((function(e){return{loginUser:e.users.user}}),D)((function(e){var t=e.loginUser,c=e.logOut,r=e.viewCart,n=Object(a.useState)(!1),s=Object(f.a)(n,2),i=s[0],u=s[1],d=function(e){u(!i)};if(t)var l=t.photo.includes("http")?t.photo:"https://cozydeco.herokuapp.com/".concat(t.photo);return Object(y.jsxs)("header",{children:[Object(y.jsxs)("div",{className:U.a.userMenu,children:[Object(y.jsxs)("div",{children:[!t&&Object(y.jsx)("i",{className:"iconSocial fas fa-user fa-lg"}),t&&Object(y.jsx)("div",{className:"logoUser",style:{backgroundImage:"url('".concat(l,"')")}})]}),Object(y.jsx)("div",{className:U.a.iconsMenu,onClick:d,children:i?Object(y.jsx)("img",{className:U.a.iconItem,src:"https://img.icons8.com/material-outlined/48/000000/cancel--v1.png"}):Object(y.jsx)("img",{className:U.a.iconItem,src:"https://img.icons8.com/ios-filled/50/000000/menu--v1.png"})})]}),Object(y.jsx)("h1",{children:"COZY"}),Object(y.jsx)("div",{children:Object(y.jsxs)("nav",{children:[Object(y.jsx)(o.c,{active:!0,exact:!0,to:"/",children:"HOME"}),Object(y.jsx)(o.c,{active:!0,to:"/products",children:"STORE"}),!t&&Object(y.jsx)(o.c,{active:!0,to:"/signin",onClick:d,className:i?U.a.menu1:U.a.itemResponsive,children:"SIGN IN"}),!t&&Object(y.jsx)(o.c,{active:!0,to:"/signup",onClick:d,className:i?U.a.menu2:U.a.itemResponsive,children:"SIGN UP"}),t&&Object(y.jsx)(o.c,{active:!0,onClick:function(){c(),u(!i)},to:"/",className:i?U.a.menu1:U.a.itemResponsive,children:"SIGN OUT"}),t&&t.admin&&Object(y.jsx)(o.c,{to:"/admin",children:"ADMIN"}),!r&&Object(y.jsx)(E.a,{style:{padding:"0"},backgroundColor:"#61605e8a",toogleComponent:function(e){return Object(y.jsx)("i",{onClick:e,className:"iconSocial fas fa-shopping-cart fa-1x"})},offsetX:0,offsetY:0,children:function(e){return Object(y.jsx)(M,{onClickHandler:e})}})]})})]})})),q={getProducts:I.getProducts,getProductByCategory:I.getProductByCategory},L=Object(u.b)((function(e){return{products:e.products.products,productsCategory:e.products.productsCategory}}),q)((function(e){var t=e.products,c=e.getProducts,r=e.productsCategory,n=e.match,s=e.getProductByCategory,i=Object(a.useState)(!1),u=Object(f.a)(i,2),l=u[0],p=u[1],j=Object(a.useState)(null),b=Object(f.a)(j,2),h=b[0],O=b[1],m=Object(a.useState)(null),x=Object(f.a)(m,2),v=x[0],_=x[1],C=Object(a.useState)({category:null,subcategory:null}),w=Object(f.a)(C,2),P=w[0],S=w[1];Object(a.useEffect)((function(){window.scroll(0,0),document.title="COZY | STORE",t.length?s(n.params.category):c().then((function(e){return s(n.params.category)})),n.params.category?S({category:n.params.category,subcategory:null}):S({category:null,subcategory:null})}),[n.params]),v||r.sort((function(e,t){return e.stock-t.stock}));var I=function(e){p(e)};h&&setTimeout((function(){O(null)}),2500);var E=P.subcategory?r.filter((function(e){return e.subcategory===P.subcategory})):r,A=function(e){S(Object(d.a)(Object(d.a)({},P),{},{subcategory:e.target.value}))};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(B,{}),Object(y.jsxs)("div",{className:g.a.productsGallery,children:[Object(y.jsxs)("div",{className:g.a.filterContainer,children:[Object(y.jsxs)("div",{className:g.a.inputContainer,children:[Object(y.jsx)("div",{children:Object(y.jsx)(o.b,{to:"/products",children:"All products"})}),Object(y.jsxs)("div",{className:g.a.filterInside,children:[Object(y.jsx)(o.b,{to:"/products/Kitchenware",children:"Kitchenware"}),"Kitchenware"===P.category&&Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{type:"button",value:"Accesories",onClick:A}),Object(y.jsx)("input",{type:"button",value:"Glassware",onClick:A}),Object(y.jsx)("input",{type:"button",value:"Tableware",onClick:A})]})]}),Object(y.jsxs)("div",{className:g.a.filterInside,children:[Object(y.jsx)(o.b,{to:"/products/Bathroom",children:"Bathroom"}),"Bathroom"===P.category&&Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{type:"button",value:"Accesories",onClick:A}),Object(y.jsx)("input",{type:"button",value:"Mirrors",onClick:A})]})]}),Object(y.jsxs)("div",{className:g.a.filterInside,children:[Object(y.jsx)(o.b,{to:"/products/Decor",children:"Decor"}),"Decor"===P.category&&Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{type:"button",value:"Accesories",onClick:A}),Object(y.jsx)("input",{type:"button",value:"Home",onClick:A}),Object(y.jsx)("input",{type:"button",value:"Lighting",onClick:A})]})]}),Object(y.jsx)("div",{children:Object(y.jsx)(o.b,{to:"/products/GiftCard",children:"GitfCard"})}),Object(y.jsx)("div",{children:Object(y.jsx)(o.b,{to:"/products/sale",children:"Sale"})}),Object(y.jsx)("div",{className:g.a.sectiontSelect,children:Object(y.jsxs)("select",{onChange:function(e){"relevant"!==e.target.value?r.sort((function(t,c){return"minor"===e.target.value?t.price-c.price:c.price-t.price})):r.sort((function(e,t){return e.stock-t.stock})),_(e.target.value)},children:[Object(y.jsx)("option",{value:"relevant",children:"Most relevant"}),Object(y.jsx)("option",{value:"minor",children:"Lower to higher"}),Object(y.jsx)("option",{value:"mayor",children:"Higher to lower"})]})})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("hr",{}),Object(y.jsx)("h1",{children:"COZY"})]})]}),h&&Object(y.jsx)(k,{productAlert:h,showCartCard:l,editShowCartCard:I}),Object(y.jsx)("div",{className:g.a.productsCards,children:E.map((function(e){return Object(y.jsx)(N,{product:e,editShowCartCard:I,setProductAlert:O},e._id)}))})]})]})})),Y=c(15),z=c(26),H=c.n(z),V={addProduct:I.addProduct,findAProduct:I.findAProduct,modifyProduct:I.modifyProduct,getProducts:I.getProducts},Z=Object(u.b)((function(e){return{product:e.products.product}}),V)((function(e){var t=e.addProduct,c=e.modifyProduct,r=e.findAProduct,n=e.match,s=e.product,o=e.getProducts,u=n.params.id,l=Object(a.useState)(!0),b=Object(f.a)(l,2),h=b[0],O=b[1],m=Object(a.useState)(!1),x=Object(f.a)(m,2),g=x[0],v=x[1],_=Object(a.useState)({name:"",photo:null,stock:"",description:"",price:"",forSale:"",discount:"",category:"",subcategory:""}),C=Object(f.a)(_,2),N=C[0],w=C[1];Object(a.useEffect)((function(){window.scrollTo(0,0),r(u),u||(w({name:"",photo:null,stock:"",description:"",price:"",forSale:"",discount:"",category:"",subcategory:""}),O(!1))}),[]),Object(a.useEffect)((function(){s&&(P(),O(!1))}),[s]);var P=function(){w({name:s.name,photo:s.photo,stock:s.stock,description:s.description,price:s.price,forSale:s.forSale,discount:s.discount,category:s.category,subcategory:s.subcategory})},k=[],S=Object(i.g)();"Bathroom"===N.category?k=["Accesories","Mirrors"]:"Kitchenware"===N.category?k=["Accesories","Glassware","Tableware"]:"Decor"===N.category?k=["Accesories","Home","Lighting"]:"GiftCard"===N.category&&(k=["GiftCard"]);var I=function(e){w(Object(d.a)(Object(d.a)({},N),{},Object(Y.a)({},e.target.name,"photo"===e.target.name?e.target.files[0]:e.target.value)))},E=function(){var e=Object(j.a)(p.a.mark((function e(){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((c=new FormData).append("name",N.name),c.append("photo",N.photo),c.append("stock",N.stock),c.append("description",N.description),c.append("price",N.price),c.append("forSale",N.forSale),c.append("category",N.category),c.append("subcategory",N.subcategory),c.append("discount",N.discount),!Object.values(N).some((function(e){return""===e||"undefined"===typeof e}))){e.next=15;break}v(!0),e.next=27;break;case 15:return e.next=17,t(c);case 17:if(!e.sent.data.success){e.next=26;break}return e.next=21,o();case 21:return v(!1),S.push("/admin"),e.abrupt("return",!1);case 26:alert("Todo sali\xf3 mal!");case 27:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(j.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=new FormData).append("name",N.name),t.append("photo",N.photo),t.append("stock",N.stock),t.append("description",N.description),t.append("price",N.price),t.append("forSale",N.forSale),t.append("category",N.category),t.append("subcategory",N.subcategory),t.append("discount",N.discount),!Object.values(N).some((function(e){return""===e}))){e.next=15;break}alert("complete all the fields"),e.next=29;break;case 15:return e.next=17,c(u,t);case 17:if(!e.sent.success){e.next=28;break}return e.next=21,o();case 21:return a=e.sent,console.log("antes de pushear"),console.log(a),a.success&&S.push("/products"),e.abrupt("return",!1);case 28:alert("Todo sali\xf3 mal!");case 29:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return h?Object(y.jsx)("h4",{children:"Loading..."}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(B,{}),Object(y.jsx)("main",{calssName:H.a.mainForm,style:{backgroundImage:"/assets/home1.jpg"},children:Object(y.jsxs)("div",{className:H.a.formContainer,children:[u?Object(y.jsx)("h4",{children:"Edit Product"}):Object(y.jsx)("h4",{children:"New Product"}),Object(y.jsxs)("form",{className:H.a.productForm,children:[Object(y.jsx)("input",{type:"text",onChange:I,name:"name",placeholder:"Name",autoComplete:"nope",defaultValue:null===s||void 0===s?void 0:s.name}),Object(y.jsxs)("div",{className:H.a.picture,children:[Object(y.jsx)("input",{type:"file",onChange:I,name:"photo",placeholder:"Photo",autoComplete:"nope"}),Object(y.jsx)("div",{className:H.a.productPic,style:{backgroundImage:"url(".concat(null===s||void 0===s?void 0:s.photo,")")}})]}),Object(y.jsx)("textarea",{onChange:I,name:"description",placeholder:"Description",autoComplete:"nope",defaultValue:u?null===s||void 0===s?void 0:s.description:null}),Object(y.jsxs)("div",{className:H.a.price,children:[Object(y.jsx)("input",{type:"number",onChange:I,name:"stock",placeholder:"Stock",autoComplete:"nope",defaultValue:u?null===s||void 0===s?void 0:s.stock:null}),Object(y.jsx)("input",{type:"number",onChange:I,name:"price",placeholder:"Price",autoComplete:"nope",defaultValue:u?null===s||void 0===s?void 0:s.price:null})]}),Object(y.jsxs)("div",{className:H.a.saleInput,children:[Object(y.jsxs)("div",{className:H.a.saleRadios,children:[Object(y.jsx)("p",{children:"For Sale"}),Object(y.jsx)("input",{type:"radio",id:"true",name:"forSale",onChange:I,defaultValue:u?null===s||void 0===s?void 0:s.forSale:"true"}),Object(y.jsx)("label",{htmlFor:"true",children:"Yes"}),Object(y.jsx)("input",{type:"radio",id:"false",name:"forSale",onChange:I,defaultValue:u?null===s||void 0===s?void 0:s.forSale:"false"}),Object(y.jsx)("label",{htmlFor:"false",children:"No"})]}),Object(y.jsx)("input",{type:"number",onChange:I,name:"discount",placeholder:"Discount",autoComplete:"nope",defaultValue:u?null===s||void 0===s?void 0:s.discount:null})]}),Object(y.jsxs)("select",{name:"category",onChange:I,placeholder:"Category",defaultValue:u?null===s||void 0===s?void 0:s.category:null,children:[Object(y.jsx)("option",{children:"Category"}),["Bathroom","Kitchenware","Decor","GiftCard"].map((function(e,t){return Object(y.jsx)("option",{value:e,children:e},t)}))]}),Object(y.jsxs)("select",{name:"subcategory",onChange:I,placeholder:"Subcategory",defaultValue:u?null===s||void 0===s?void 0:s.subcategory:null,children:[Object(y.jsx)("option",{children:"Subcategory"}),k.map((function(e,t){return Object(y.jsx)("option",{value:e,children:e},t)}))]})]}),g&&Object(y.jsx)("p",{className:H.a.textError,children:"Complete all fields!"}),Object(y.jsx)("button",{className:H.a.formButton,onClick:u?function(){return A()}:function(){return E()},children:"Send"})]})})]})})),$=c(39),K=(c(59),{logIn:m.logIn}),W=Object(u.b)(null,K)((function(e){var t=e.history,c=e.logIn;Object(a.useEffect)((function(){document.title="COZY | Sign In"}),[]);var r=Object(a.useState)({password:"",eMail:""}),n=Object(f.a)(r,2),s=n[0],i=n[1],u=Object(a.useState)(""),l=Object(f.a)(u,2),b=l[0],h=l[1],O=function(e){i(Object(d.a)(Object(d.a)({},s),{},Object(Y.a)({},e.target.name,e.target.value)))},m=function(){var e=Object(j.a)(p.a.mark((function e(a){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={eMail:a.profileObj.email,password:a.profileObj.googleId,google:!0},e.next=3,c(r);case 3:(n=e.sent).success?t.push("/"):"Invalid username or pass"===n.response&&h("That google account does not exist");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(j.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object.values(s).some((function(e){return!e}))){e.next=2;break}return e.abrupt("return",h("Fill the empty fields"));case 2:return e.next=4,c(s);case 4:(a=e.sent).success?t.push("/"):h(a.response);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(B,{}),Object(y.jsx)("main",{className:"signin-main",children:Object(y.jsxs)("div",{className:"box",children:[Object(y.jsx)("div",{children:Object(y.jsx)("h1",{children:"Sign In"})}),Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"group",children:[Object(y.jsx)("input",{type:"text",required:!0,onChange:O,name:"eMail"}),Object(y.jsx)("span",{className:"highlight"}),Object(y.jsx)("span",{className:"bar"}),Object(y.jsx)("label",{children:"Email"})]}),Object(y.jsxs)("div",{className:"group",children:[Object(y.jsx)("input",{type:"password",required:!0,onChange:O,name:"password"}),Object(y.jsx)("span",{className:"highlight"}),Object(y.jsx)("span",{className:"bar"}),Object(y.jsx)("label",{children:"Password"})]}),Object(y.jsx)("button",{type:"submit",onClick:x,children:"Sign In"}),Object(y.jsx)("p",{children:"Or"}),Object(y.jsx)("div",{className:"googleButton",children:Object(y.jsx)($.GoogleLogin,{clientId:"825531110504-0ffdha8bsmqln05l9dtqhst3l984smsm.apps.googleusercontent.com",buttonText:"Sign in",onSuccess:m,cookiePolicy:"single_host_origin"})})]}),Object(y.jsx)("div",{className:"errorContainer",children:Object(y.jsx)("p",{children:b})}),Object(y.jsx)("div",{className:"footer-box",children:Object(y.jsx)(o.b,{to:"/signup",children:"You don't have an account? Sign up now!"})})]})})]})})),X={signUp:m.signUp},J=Object(u.b)(null,X)((function(e){var t=e.history,c=e.signUp,r=Object(a.useState)({firstName:"",lastName:"",password:"",eMail:"",photo:"",admin:!1,google:!1}),n=Object(f.a)(r,2),s=n[0],i=n[1],u=Object(a.useState)({}),l=Object(f.a)(u,2),b=l[0],h=l[1],O={firstName:null,lastName:null,eMail:null,password:null,emptyFields:null};Object(a.useEffect)((function(){document.title="COZY | Sign Up"}),[]);var m=function(e){i(Object(d.a)(Object(d.a)({},s),{},Object(Y.a)({},e.target.name,"photo"===e.target.name?e.target.files[0]:e.target.value)))},x=function(){var e=Object(j.a)(p.a.mark((function e(a){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={firstName:a.profileObj.givenName,lastName:a.profileObj.familyName,password:a.profileObj.googleId,photo:a.profileObj.imageUrl,eMail:a.profileObj.email,google:!0,admin:!1},e.next=3,c(r);case 3:e.sent.success?t.push("/"):h({emailGoogle:"That google account is already in use"});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(j.a)(p.a.mark((function e(){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=new FormData).append("firstName",s.firstName),a.append("lastName",s.lastName),a.append("password",s.password),a.append("eMail",s.eMail),a.append("photo",s.photo),a.append("admin",s.admin),a.append("google",s.google),!Object.values(s).some((function(e){return""===e}))){e.next=12;break}h({emptyFields:"There cannot be empty fields"}),e.next=16;break;case 12:return e.next=14,c(a);case 14:(r=e.sent).success?t.push("/"):(r.response.forEach((function(e){O[e.context.label]=e.message})),h(O));case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(B,{}),Object(y.jsx)("main",{className:"signup-main",children:Object(y.jsxs)("div",{className:"box",children:[Object(y.jsx)("h1",{children:"Sign Up"}),Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"group",children:[Object(y.jsx)("input",{type:"text",required:!0,onChange:m,name:"firstName"}),Object(y.jsx)("span",{className:"highlight"}),Object(y.jsx)("span",{className:"bar"}),Object(y.jsx)("label",{children:"Firstname"}),Object(y.jsx)("div",{children:b.firstName&&Object(y.jsx)("p",{className:"inputError",children:b.firstName})})]}),Object(y.jsxs)("div",{className:"group",children:[Object(y.jsx)("input",{type:"text",required:!0,onChange:m,name:"lastName"}),Object(y.jsx)("span",{className:"highlight"}),Object(y.jsx)("span",{className:"bar"}),Object(y.jsx)("label",{children:"Lastname"}),Object(y.jsx)("div",{children:b.lastName&&Object(y.jsx)("p",{className:"inputError",children:b.lastName})})]}),Object(y.jsxs)("div",{className:"group",children:[Object(y.jsx)("input",{type:"password",required:!0,onChange:m,name:"password"}),Object(y.jsx)("span",{className:"highlight"}),Object(y.jsx)("span",{className:"bar"}),Object(y.jsx)("label",{children:"Password"}),Object(y.jsx)("div",{children:b.password&&Object(y.jsx)("p",{className:"inputError",children:b.password})})]}),Object(y.jsxs)("div",{className:"group",children:[Object(y.jsx)("input",{type:"text",onChange:m,name:"eMail",required:!0}),Object(y.jsx)("span",{className:"highlight"}),Object(y.jsx)("span",{className:"bar"}),Object(y.jsx)("label",{children:"Email"}),Object(y.jsx)("div",{children:b.eMail&&Object(y.jsx)("p",{className:"inputError",children:b.eMail})})]}),Object(y.jsxs)("div",{className:"group",children:[Object(y.jsx)("input",{type:"file",onChange:m,name:"photo"}),Object(y.jsx)("label",{children:"Avatar"})]}),Object(y.jsx)("button",{type:"submit",onClick:g,children:"Sign Up"}),Object(y.jsx)("p",{children:"Or"}),Object(y.jsx)("div",{className:"googleButton",children:Object(y.jsx)($.GoogleLogin,{clientId:"825531110504-0ffdha8bsmqln05l9dtqhst3l984smsm.apps.googleusercontent.com",buttonText:"Sign up",onSuccess:x,cookiePolicy:"single_host_origin"})})]}),Object(y.jsxs)("div",{className:"errorContainer",children:[Object(y.jsx)("p",{children:b.emptyFields}),Object(y.jsx)("p",{children:b.emailGoogle})]}),Object(y.jsx)("div",{className:"footer-box",children:Object(y.jsx)(o.b,{to:"/signin",children:"You have an account? Sign in now!"})})]})})]})})),Q=c(32),ee=c(23),te=c.n(ee),ce=c(65),ae=c(66),re=c(71),ne=c(69),se=c(42),oe=c.n(se),ie=function(e){Object(re.a)(c,e);var t=Object(ne.a)(c);function c(){var e;return Object(ce.a)(this,c),(e=t.call(this)).state={accentPosition:0,showAccent:!1},e}return Object(ae.a)(c,[{key:"setAccentPosition",value:function(e){var t=e.nativeEvent.offsetX;this.setState({accentPosition:t})}},{key:"handleMouseEnter",value:function(e){this.setState({showAccent:!0,accentPosition:e.nativeEvent.offsetX})}},{key:"render",value:function(){var e=this,t=this.state,c={left:t.accentPosition-150,opacity:t.showAccent?100:0};return Object(y.jsxs)("button",{className:oe.a.button1,onMouseMove:function(t){return e.setAccentPosition(t)},onMouseEnter:function(t){return e.handleMouseEnter(t)},onMouseLeave:function(){return e.setState({showAccent:!1})},children:[Object(y.jsx)("div",{className:oe.a.buttonContent,children:this.props.children}),Object(y.jsx)("div",{className:oe.a.accent,style:c})]})}}]),c}(r.a.Component),ue=c(67),de=(c(102),function(e){var t=e.location,c=e.history,r=Object(a.useState)(!1),n=Object(f.a)(r,2),s=n[0],i=n[1],u=Object(a.useState)(p()),d=Object(f.a)(u,2),l=(d[0],d[1]);function p(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}Object(a.useEffect)((function(){function e(){l(p())}return c.replace(),t.state&&i(!0),window.scroll(0,0),document.title="COZY | Home",window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var j=p(),b=j.height,h=j.width,O=[{src:"https://i.postimg.cc/tR8xRKn9/bat.jpg",category:"Bathroom"},{src:"https://i.postimg.cc/nzm4F3LR/home8.jpg",category:"Kitchenware"},{src:"https://i.postimg.cc/J4Q2C5tc/deco.jpg",category:"Decor"},{src:"https://i.postimg.cc/3wdn2zCV/gitfcard-Home.png",category:"GiftCard"},{src:"https://i.postimg.cc/R0mhJ9vz/sale.jpg",category:"sale"}].map((function(e,t){return Object(y.jsx)("div",{style:{backgroundImage:"url('".concat(e.src,"')")},children:Object(y.jsx)(o.b,{to:"/products/".concat(e.category),children:Object(y.jsx)("button",{className:te.a.textButton,children:e.category})})},t)})),m=[{src:"./assets/6.png"},{src:"./assets/7.png"},{src:"./assets/8.png"},{src:"./assets/9.png"}].map((function(e,t){return Object(y.jsx)("div",{className:te.a.infoItem,style:{backgroundImage:"url('".concat(e.src,"')")}},t)}));return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(B,{}),Object(y.jsxs)("div",{className:te.a.home,children:[Object(y.jsx)(Q.Parallax,{bgImage:"/assets/home1.jpg",strength:b,children:Object(y.jsx)(o.b,{to:"/products",className:te.a.homeStore,children:Object(y.jsx)(ie,{children:"Check out our latest trends"})})}),Object(y.jsxs)(Q.Parallax,{strength:-200,className:te.a.categories,children:[Object(y.jsx)("h1",{children:"CATEGORIES"}),Object(y.jsx)("div",{className:te.a.galleryWrap,children:O})]}),Object(y.jsx)(Q.Parallax,{bgImage:"/assets/home5.jpg",strength:h>700?b/1:h/.85,children:Object(y.jsxs)("div",{className:te.a.quote,children:[Object(y.jsx)("h2",{children:"There's no place like home. "}),Object(y.jsx)("i",{className:"fas fa-quote-right"}),Object(y.jsx)("p",{children:"In Cozy we offer a wide variety of well-designed, functional home products. Whether your home decor leans towards minimalist or maximalist aesthetic, you'll find something to suit your style."})]})}),Object(y.jsx)(Q.Parallax,{strength:b/10,className:te.a.infoContainer,children:Object(y.jsx)("div",{className:te.a.fondoInfo,children:m})}),Object(y.jsx)(Q.Parallax,{bgImage:"/assets/home4.jpg",strength:h>700?-h/5.5:h/15,renderLayer:function(e){return Object(y.jsx)("div",{className:te.a.finalInfo,style:{background:"rgba(212, 197, 191, ".concat(2*e,")"),width:100*e,height:100*e}})}})]}),Object(y.jsx)(ue.a,{open:s,onClose:function(){i(!1)},center:!0,children:Object(y.jsx)("div",{className:te.a.modalContainer,style:{backgroundImage:"url('./assets/c.png')"},children:Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{children:"COZY"}),Object(y.jsx)("p",{children:"Thank you for making your purchase, come back later."})]})})})]})}),le=c(24),pe=c.n(le),je=function(){return Object(y.jsxs)("footer",{className:pe.a.footer,children:[Object(y.jsxs)("div",{className:pe.a.infoProduct,children:[Object(y.jsx)("h3",{children:"Categories"}),Object(y.jsx)(o.b,{to:"/products/Kitchenware",children:Object(y.jsx)("p",{children:"Kitchenware"})}),Object(y.jsx)(o.b,{to:"/products/Bathroom",children:Object(y.jsx)("p",{children:"Bathroom"})}),Object(y.jsx)(o.b,{to:"/products/Decor",children:Object(y.jsx)("p",{children:"Decor"})})]}),Object(y.jsxs)("div",{className:pe.a.infoService,children:[Object(y.jsx)("h3",{children:"Customer Service"}),Object(y.jsx)("p",{children:"Shipping"}),Object(y.jsx)("p",{children:"Payment Methods"}),Object(y.jsx)("p",{children:"Changes and returns"})]}),Object(y.jsxs)("div",{className:pe.a.infoContact,children:[Object(y.jsx)("h3",{children:"Contact"}),Object(y.jsxs)("div",{className:pe.a.iconResponsive,children:[Object(y.jsxs)("div",{className:pe.a.iconSocial,children:[Object(y.jsx)("i",{className:"fas fa-envelope fa-lg"}),Object(y.jsx)("p",{children:"cozydecodesign@gmail.com"})]}),Object(y.jsxs)("div",{className:pe.a.iconSocial,children:[Object(y.jsx)("i",{className:"fas fa-phone-square-alt fa-lg"}),Object(y.jsx)("p",{children:"+54 11 6789 8270"})]})]}),Object(y.jsxs)("div",{className:pe.a.iconSocial,children:[Object(y.jsx)("a",{href:"https://www.facebook.com/",target:"_blank",className:pe.a.iconFooter,children:Object(y.jsx)("i",{className:"fab fa-facebook-square fa-lg"})}),Object(y.jsx)("a",{href:"https://www.instagram.com/",target:"_blank",className:pe.a.iconFooter,children:Object(y.jsx)("i",{className:"fab fa-instagram-square fa-lg"})}),Object(y.jsx)("a",{href:"https://www.whatsapp.com/",target:"_blank",className:pe.a.iconFooter,children:Object(y.jsx)("i",{className:"fab fa-whatsapp-square fa-lg"})})]})]})]})},be=c(17),he=c.n(be),Oe={findAProduct:I.findAProduct,addCartProduct:_.addCartProduct,getProductByCategory:I.getProductByCategory,getProducts:I.getProducts},me=Object(u.b)((function(e){return{product:e.products.product,products:e.products.products,productsCategory:e.products.productsCategory}}),Oe)((function(e){var t=e.product,c=e.match,r=e.products,n=e.getProducts,s=e.findAProduct,o=e.addCartProduct,i=e.productsCategory,u=e.getProductByCategory,d=Object(a.useState)(1),l=Object(f.a)(d,2),p=l[0],j=l[1],b=Object(a.useState)(!0),h=Object(f.a)(b,2),O=h[0],m=h[1],x=Object(a.useState)(null),g=Object(f.a)(x,2),v=g[0],_=g[1],C=Object(a.useState)(!1),w=Object(f.a)(C,2),P=w[0],S=w[1],I=Object(a.useState)(!1),A=Object(f.a)(I,2),F=A[0],G=A[1],T=Object(a.useState)(""),R=Object(f.a)(T,2),U=R[0],D=R[1];Object(a.useEffect)((function(){window.scroll(0,0),r.length?(u(t.category),s(c.params.id),m(!1)):n().then((function(e){e.success&&(s(c.params.id),u(t.category),m(!1))}))}),[F]);var q=function(e){S(e)};if(O)return Object(y.jsx)("h1",{children:"LOADING..."});v&&setTimeout((function(){_(null)}),2500),console.log(i),console.log();var L=0===t.discount?t.price:((100-t.discount)/100*t.price).toFixed(2),Y=t.photo.includes("http")?t.photo:"https://cozydeco.herokuapp.com/".concat(t.photo);return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(B,{}),Object(y.jsxs)("div",{className:he.a.productSection,children:[v&&Object(y.jsx)(k,{productAlert:v,showCartCard:P,editShowCartCard:q}),Object(y.jsxs)("div",{className:he.a.mainContainer,children:[Object(y.jsx)("div",{className:he.a.productImage,style:{backgroundImage:'url("'.concat(Y,'")')}}),Object(y.jsxs)("div",{className:he.a.productInfo,children:[Object(y.jsx)("h2",{children:t.name}),Object(y.jsx)("p",{children:t.description}),Object(y.jsxs)("div",{children:[0!==t.discount&&Object(y.jsxs)("p",{className:0!==t.discount?he.a.sale:null,children:["$",t.price]}),Object(y.jsxs)("p",{className:he.a.priceFinal,children:["$",L]})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("i",{className:"far fa-credit-card fa-lg"}),Object(y.jsxs)("p",{className:he.a.interestCard,children:["3 payments of $",(1.1*L/3).toFixed(2)]})]}),Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:he.a.counter,children:[Object(y.jsx)("i",{className:"fas fa-minus",onClick:p>1?function(){return j(p-1)}:null}),Object(y.jsx)("p",{children:p}),Object(y.jsx)("i",{className:"fas fa-plus",onClick:function(){t.stock>p&&"GiftCard"!==t.category?j(p+1):D("No Stock")}})]}),Object(y.jsx)("button",{onClick:function(){S(!0);var e={product:t,quantity:p};_(e),o(e)},children:"Add to Cart"})]}),Object(y.jsx)("div",{className:he.a.divError,children:Object(y.jsx)("p",{children:U})}),Object(y.jsxs)("div",{className:he.a.shippingInfo,children:[Object(y.jsx)("i",{className:"fas fa-truck fa-lg"}),Object(y.jsx)("p",{children:"Free shipping on purchases from 200 dollars or more."})]}),Object(y.jsx)("p",{className:he.a.calculateSend,children:"Calculo de envio - CP"}),Object(y.jsx)(E.a,{style:{padding:"0"},backgroundColor:"#61605e8a",toogleComponent:function(e){return Object(y.jsx)("button",{style:{alignSelf:"center"},onClick:e,children:"Open Cart"})},offsetX:0,offsetY:0,children:function(e){return Object(y.jsx)(M,{onClickHandler:e})}})]})]}),Object(y.jsxs)("div",{className:he.a.suggestionContainer,children:[Object(y.jsx)("h3",{children:"Related Products"}),Object(y.jsx)("div",{className:he.a.suggestion,children:i.map((function(e){if(e._id!==c.params.id)return Object(y.jsx)("div",{onClick:function(){return G(!F)},className:he.a.productCardContainer,children:Object(y.jsx)(N,{setProductAlert:_,product:e,newClass:"newClass",editShowCartCard:q})})}))})]})]})]})})),fe=c(13),xe=c.n(fe),ge={getUsers:function(){return function(){var e=Object(j.a)(p.a.mark((function e(t){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("https://cozydeco.herokuapp.com/api/users",{withCredentials:!0});case 3:if((c=e.sent).data.success){e.next=6;break}return e.abrupt("return",c.data);case 6:return t({type:"GET_USERS",payload:c.data.response}),e.abrupt("return",{success:!0,response:c.data.response});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{success:!1,response:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},manageAdmin:function(e,t,c){return Object(j.a)(p.a.mark((function a(){var r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,h.a.put("https://cozydeco.herokuapp.com/api/user/admin/manage",{userToChange:e,actionToDo:!c},{headers:{Authorization:"Bearer "+t},withCredentials:!0});case 3:if(!(r=a.sent).data.success){a.next=6;break}return a.abrupt("return",r.data);case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))}},ve={getUsers:ge.getUsers,manageAdmin:ge.manageAdmin},_e=Object(u.b)((function(e){return{loginUser:e.users.user}}),ve)((function(e){var t=e.getUsers,c=e.manageAdmin,r=e.loginUser,n=Object(a.useState)([]),s=Object(f.a)(n,2),o=s[0],i=s[1],u=Object(a.useState)(!1),d=Object(f.a)(u,2),l=d[0],b=d[1],h=Object(a.useState)([]),O=Object(f.a)(h,2),m=O[0],x=O[1];Object(a.useEffect)((function(){var e=function(){var e=Object(j.a)(p.a.mark((function e(){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:(c=e.sent).success?i(c.response):console.log(c);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[l]);var g=function(){var e=Object(j.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="true"===t.target.dataset.admin,e.next=3,c(t.target.id,r.token,a);case 3:e.sent.success?b(!l):alert("error");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=m.length?m:o;return Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{children:"User list"}),Object(y.jsxs)("div",{className:xe.a.searchBar,children:[Object(y.jsx)("i",{className:"fas fa-search fa-lg"}),Object(y.jsx)("input",{type:"text",placeholder:"Search user..",onChange:function(e){var t=o.filter((function(t){return t.eMail.toLowerCase().startsWith(e.target.value.trim().toLowerCase())}));x(t)}})]})]}),Object(y.jsx)("div",{className:xe.a.userContainer,children:v.map((function(e){return Object(y.jsxs)("div",{className:xe.a.userCard,children:[Object(y.jsx)("div",{children:Object(y.jsx)("p",{className:e.admin?xe.a.admin:null,children:e.eMail})}),Object(y.jsx)("div",{children:Object(y.jsx)("button",{onClick:g,"data-admin":e.admin,id:e._id,children:e.admin?"Remove admin":"Give admin"},e.eMail)})]})}))})]})})),ye={modifyProduct:I.modifyProduct},Ce=Object(u.b)(null,ye)((function(e){var t=e.modifyProduct,c=e.product,r=e.fetch,n=Object(a.useState)(0),s=Object(f.a)(n,2),i=s[0],u=s[1];Object(a.useEffect)((function(){u(parseInt(c.stock))}),[c]);var d=function(){var e=Object(j.a)(p.a.mark((function e(c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(c.target.id,{stock:i});case 2:e.sent.success?r():alert("Fall\xf3");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:xe.a.stockCard,children:[Object(y.jsx)("div",{children:Object(y.jsx)("p",{children:c.name})}),Object(y.jsxs)("div",{className:xe.a.manageStock,children:[Object(y.jsx)("input",{value:i,onChange:function(e){u(parseInt(e.target.value))},type:"number"}),Object(y.jsx)("button",{id:c._id,onClick:d,children:"SET"}),Object(y.jsx)(o.b,{to:"/productform/".concat(c._id),children:Object(y.jsx)("button",{id:c._id,onClick:d,children:"EDIT"})})]})]})})),Ne={getProducts:I.getProducts},we=Object(u.b)((function(e){return{products:e.products.products}}),Ne)((function(e){var t=e.products,c=e.getProducts,r=Object(a.useState)(!1),n=Object(f.a)(r,2),s=n[0],i=n[1];Object(a.useEffect)((function(){var e=function(){var e=Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:e.sent.success||alert("Error");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[s]);var u=function(){i(!s)};return Object(y.jsxs)("div",{className:xe.a.stockContainer,children:[Object(y.jsx)("h1",{children:"Stock"}),Object(y.jsx)(o.b,{className:xe.a.addProduct,to:"/productform",children:Object(y.jsx)("i",{class:"fas fa-plus-circle fa-lg"})}),t.map((function(e){return Object(y.jsx)(Ce,{fetch:u,product:e},e._id)}))]})})),Pe={getProducts:I.getProducts},ke=Object(u.b)((function(e){return{products:e.products.products}}),Pe)((function(e){var t=e.getProducts,c=e.products,r=Object(a.useState)(null),n=Object(f.a)(r,2),s=n[0],o=n[1],i=Object(a.useState)(null),u=Object(f.a)(i,2),d=u[0],l=u[1];Object(a.useEffect)((function(){var e=function(){var e=Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:e.sent.success||alert("Error");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();0===c.length&&e()}),[]);var b=function(e,t){return e+t};return Object(a.useEffect)((function(){o(c.map((function(e){return e.sold})).reduce(b,0)),l(c.map((function(e){return e.discount>0?e.sold*(e.price*(1-e.discount/100)):e.sold*e.price})).reduce(b,0))}),[c]),Object(y.jsxs)("div",{className:xe.a.statsContainer,children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("i",{className:"fas fa-shopping-cart fa-2x"}),Object(y.jsxs)("p",{children:["Total sales: ",s]})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("i",{className:"fas fa-hand-holding-usd fa-2x"}),Object(y.jsxs)("p",{children:["Total profit: $",d&&d.toFixed(2)]})]})]})})),Se=function(){return Object(y.jsxs)("div",{className:xe.a.guideContainer,children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:"Admin Control Panel."}),Object(y.jsx)("hr",{}),Object(y.jsxs)("div",{children:[Object(y.jsx)("h3",{children:"In Statistics, you can see the total sales and the total profit."}),Object(y.jsx)("h3",{children:'If you\'re the owner, you have the tab "user list" to give the role of administrator to a user.'}),Object(y.jsx)("h3",{children:"In Manage Stock, any user with the administrator role will be able to edit the stock and information of any product."})]})]}),Object(y.jsx)("div",{children:Object(y.jsx)("h1",{className:xe.a.brand,children:"COZY"})})]})},Ie={logFromSession:m.logFromSession},Ee=Object(u.b)((function(e){return{loginUser:e.users.user}}),Ie)((function(e){var t=e.loginUser,c=Object(a.useState)({screen:"adminGuide"}),r=Object(f.a)(c,2),n=r[0],s=r[1];return Object(a.useEffect)((function(){document.title="COZY | Admin Dashboard"}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(B,{}),Object(y.jsx)("main",{className:xe.a.adminMain,children:Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:xe.a.topInfo,children:[Object(y.jsxs)("div",{onClick:function(){return s({screen:"statistics"})},children:[Object(y.jsx)("i",{className:"fas fa-sort-amount-up fa-lg"}),Object(y.jsx)("h2",{children:"Statistics"})]}),t.owner&&Object(y.jsxs)("div",{onClick:function(){return s({screen:"user"})},children:[Object(y.jsx)("i",{className:"far fa-user fa-lg"}),Object(y.jsx)("h2",{children:"Users list"})]}),Object(y.jsxs)("div",{onClick:function(){return s({screen:"stock"})},children:[Object(y.jsx)("i",{className:"fas fa-cart-plus fa-lg"}),Object(y.jsx)("h2",{children:"Manage Stock"})]})]}),Object(y.jsx)("hr",{}),Object(y.jsxs)("div",{className:xe.a.midInfo,children:["adminGuide"===n.screen&&Object(y.jsx)(Se,{}),"statistics"===n.screen&&Object(y.jsx)(ke,{}),"user"===n.screen&&Object(y.jsx)(_e,{}),"stock"===n.screen&&Object(y.jsx)(we,{})]})]})})]})})),Ae=c(8),Fe=c.n(Ae),Ge=function(e){var t=e.description,c=e.total,r=e.catchPagoErr,n=e.addNewOrderHandler,s=Object(a.useRef)();return Object(a.useEffect)((function(){window.myButton&&window.myButton.close(),window.myButton=window.paypal.Buttons({createOrder:function(e,a,r){return a.order.create({intent:"CAPTURE",purchase_units:[{description:t,amount:{value:c,currency_code:"USD"}}]})},onApprove:function(){var e=Object(j.a)(p.a.mark((function e(t,c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.order.capture();case 2:n();case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),onError:function(e){r()}}),window.myButton.render(s.current)})),Object(y.jsx)("div",{ref:s})},Te=c(40);c(106);c(48);var Me=c(31),Re=c.n(Me),Ue=function(e){var t=e.products,c=e.total;return Object(y.jsx)("div",{className:Re.a.conteinerSideProducts,children:Object(y.jsxs)("div",{className:Re.a.sideProducts,children:[Object(y.jsx)("h2",{children:"Shopping Cart "}),t.map((function(e){return Object(y.jsxs)("div",{className:Re.a.productInCart,children:[Object(y.jsx)("div",{className:Re.a.productCartPhoto,style:{backgroundImage:'url("'.concat(e.product.photo.includes("http")?e.product.photo:"http://localhost:4000/".concat(e.product.photo),'")')}}),Object(y.jsxs)("div",{className:Re.a.productCartInfo,children:[Object(y.jsx)(o.b,{to:"product/".concat(e.product._id),children:Object(y.jsx)("p",{children:e.product.name})}),Object(y.jsxs)("div",{children:[Object(y.jsxs)("p",{children:[e.quantity," u. X $",0===e.product.discount?e.product.price:((100-e.product.discount)/100*e.product.price).toFixed(2)]}),Object(y.jsxs)("p",{children:["Subtotal $",Object(y.jsxs)("span",{children:[((0===e.product.discount?e.product.price:(100-e.product.discount)/100*e.product.price)*e.quantity).toFixed(2)," "]})]})]})]})]},e.product._id)})),Object(y.jsxs)("div",{className:Re.a.totalPrice,children:[Object(y.jsxs)("p",{children:["Total Price ",Object(y.jsxs)("span",{children:[" $",c]})]}),Object(y.jsx)(o.b,{to:"/products",children:Object(y.jsx)("button",{children:"Edit Cart"})})]})]})})},De=c(70),Be=(c(107),{cvc:"",cardExpirationMonth:"",cardExpirationYear:"",focus:"cardNumber",cardholderName:"",cardNumber:"",issuer:""}),qe={payWithCreditCard:_.payWithCreditCard},Le=Object(u.b)(null,qe)((function(e){var t=e.addNewOrderHandler,c=e.catchPagoErr,r=e.payWithCreditCard,n=Object(a.useState)(Be),s=Object(f.a)(n,2),o=s[0],i=s[1],u=Object(a.useState)(!1),l=Object(f.a)(u,2),b=l[0],h=l[1],O=function(e){i(Object(d.a)(Object(d.a)({},o),{},Object(Y.a)({},e.target.dataset.name||e.target.name,e.target.value)))},m=function(e){i(Object(d.a)(Object(d.a)({},o),{},{focus:e.target.dataset.name||e.target.name}))},x=function(){var e=Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,r();case 4:if(e.sent.success){e.next=7;break}throw new Error("Payment failed");case 7:t(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c();case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"formContainer",children:[Object(y.jsx)(Te.a,{cvc:o.cvc,expiry:o.cardExpirationMonth+o.cardExpirationYear,name:o.cardholderName,number:o.cardNumber,focused:o.focus,brand:o.issuer}),b&&Object(y.jsx)("p",{children:"Processing payment... please wait!"}),!b&&Object(y.jsxs)("div",{className:"form",children:[Object(y.jsxs)("div",{className:"spacedInputs",children:[Object(y.jsx)("label",{htmlFor:"cardNumber",children:"Card number:"}),Object(y.jsx)("input",{type:"text",name:"cardNumber",id:"cardNumber",placeholder:"Card Number",onChange:O,onFocus:m,maxLength:19})," "]}),Object(y.jsxs)("div",{className:"spacedInputs",children:[Object(y.jsx)("label",{htmlFor:"cardholderName",children:"Full name:"}),Object(y.jsx)("input",{type:"text",name:"cardholderName",id:"cardholderName",placeholder:"Full Name",onChange:O,onFocus:m,maxLength:17})," "]}),Object(y.jsxs)("div",{className:"groupedInputs",children:[Object(y.jsx)("label",{htmlFor:"cvc",children:"CVC:"}),Object(y.jsx)("input",{type:"text",name:"cvc",id:"cvc",placeholder:"CVC",onChange:O,onFocus:m,maxLength:4})," ",Object(y.jsx)("label",{htmlFor:"cardExpirationMonth",children:"Month:"}),Object(y.jsx)("input",{type:"text",name:"cardExpirationMonth",placeholder:"MM",onChange:O,onFocus:m,maxLength:2})," ",Object(y.jsx)("label",{htmlFor:"cardExpirationYear",children:"Year:"}),Object(y.jsx)("input",{type:"text",name:"cardExpirationYear",placeholder:"YY",onChange:O,onFocus:m,maxLength:2})," "]})]}),!b&&Object(y.jsx)("button",{onClick:x,children:"Complete Payment"})]})})),Ye={manageUser:m.manageUser,addNewOrder:_.addNewOrder,getProducts:I.getProducts,addCard:_.addCard,getCard:_.getCard,editCard:_.editCard,deleteAllCartProduct:_.deleteAllCartProduct},ze=Object(u.b)((function(e){return{products:e.cart.products,loginUser:e.users.user}}),Ye)((function(e){var t=e.loginUser,c=e.products,r=e.manageUser,n=e.getProducts,s=e.editCard,i=e.addNewOrder,u=e.history,l=e.addCard,p=e.getCard,j=e.deleteAllCartProduct,b=Object(a.useState)(!1),h=Object(f.a)(b,2),O=h[0],m=h[1],x=Object(a.useState)(null),g=Object(f.a)(x,2),v=g[0],_=g[1],C=Object(a.useState)(null),N=Object(f.a)(C,2),w=N[0],P=N[1],k=Object(a.useState)(!0),S=Object(f.a)(k,2),I=S[0],E=S[1],A=Object(a.useState)(!1),F=Object(f.a)(A,2),G=F[0],T=F[1],M=Object(a.useState)(!0),R=Object(f.a)(M,2),U=R[0],D=R[1],q=Object(a.useState)(null),L=Object(f.a)(q,2),z=L[0],H=L[1],V=Object(a.useState)({type:null,enable:!1}),Z=Object(f.a)(V,2),$=Z[0],K=Z[1],W=Object(a.useState)({zipCode:"",number:"",city:"",street:"",phone:"",dni:"",firstName:t.firstName,lastName:t.lastName,eMail:t.eMail}),X=Object(f.a)(W,2),J=X[0],Q=X[1];Object(a.useEffect)((function(){window.scroll(0,0),document.title="COZY | PAYMENT"}),[]);var ee=c.map((function(e){return 0===e.product.discount?e.product.price*e.quantity:(100-e.product.discount)/100*e.product.price*e.quantity})),te=Object(a.useState)({products:c.map((function(e){return{productId:e.product._id,quantity:e.quantity}})),paymentMethod:{type:"",extraInfo:""},totalPrice:ee.reduce((function(e,t){return e+t}),0).toFixed(2)}),ce=Object(f.a)(te,2),ae=ce[0],re=ce[1],ne=c.filter((function(e){return"GiftCard"===e.product.category}));if(ne.length)var se=ne.map((function(e){return{balance:e.product.price}}));console.log(se);var oe=function(e){Q(Object(d.a)(Object(d.a)({},J),{},Object(Y.a)({},e.target.name,e.target.value)))},ie=function(e,t){re(Object(d.a)(Object(d.a)({},ae),{},{paymentMethod:{extraInfo:t?"giftCArd : $".concat(w," - ").concat(e.target.value," : $").concat(pe," "):null,type:t?"".concat(ae.paymentMethod.type," - ").concat(e.target.value):e.target.value}})),K(Object(d.a)(Object(d.a)({},$),{},{type:t?"".concat($.type," - ").concat(e.target.value):e.target.value})),t&&m(!0)},ue=function(){(console.log(se),se&&l(se).then((function(e){return console.log(e)})),ae.paymentMethod.extraInfo||"GiftCard"===ae.paymentMethod.type)&&s({balance:le<0?0:le,code:v});i(ae).then((function(e){K(Object(d.a)(Object(d.a)({},$),{},{enable:!1})),j(),n(),u.push("/",{view:!0})}))},de=new Date,le="number"===typeof w?(w-ae.totalPrice).toFixed(2):null,pe=Math.abs(le),je=function(){K(Object(d.a)(Object(d.a)({},$),{},{enable:!1})),T(!1),D(!1),E(!0),De.a.custom(Object(y.jsx)("div",{className:Fe.a.alertPago,children:Object(y.jsxs)("p",{children:[Object(y.jsx)("i",{className:"fas fa-exclamation-circle"})," We were unable to process the payment, please try again, or choose another payment method."]})}),{duration:3e3})};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(B,{viewCart:!0}),Object(y.jsxs)("div",{className:Fe.a.gatewayContainer,children:[Object(y.jsxs)("div",{className:Fe.a.checkoutInfo,children:[Object(y.jsx)("div",{className:Fe.a.totalPrice768,children:Object(y.jsx)(o.b,{to:"/products",children:Object(y.jsx)("button",{children:"Edit Cart"})})}),Object(y.jsx)("h1",{children:"Personal Info"}),Object(y.jsxs)("div",{className:Fe.a.inputMail,children:[Object(y.jsx)("label",{children:"Email:"}),Object(y.jsx)("input",{type:"text",required:!0,name:"eMail",defaultValue:J.eMail,disabled:!0})]}),Object(y.jsxs)("div",{className:Fe.a.inputDiv,children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"Name:"}),Object(y.jsx)("input",{type:"text",required:!0,name:"firstName",defaultValue:J.firstName,disabled:!0})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"Lastname:"}),Object(y.jsx)("input",{type:"text",required:!0,name:"lastName",defaultValue:J.lastName,disabled:!0})]})]}),Object(y.jsxs)("div",{className:Fe.a.inputDiv,children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"DNI:"}),Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{type:"text",required:!0,name:"dni",defaultValue:J.dni,onChange:oe,disabled:G}),Object(y.jsx)("span",{className:Fe.a.bar})]})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"Phone Number:"}),Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{type:"text",required:!0,name:"phone",defaultValue:J.phone,onChange:oe,disabled:G}),Object(y.jsx)("span",{className:Fe.a.bar})]})]})]}),Object(y.jsx)("h1",{children:"Shipment Info"}),Object(y.jsxs)("div",{className:Fe.a.inputDiv,children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"Adress:"}),Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{type:"text",required:!0,name:"street",defaultValue:J.street,onChange:oe,disabled:G}),Object(y.jsx)("span",{className:Fe.a.bar})]})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"Number:"}),Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{type:"text",required:!0,name:"number",defaultValue:J.number,onChange:oe,disabled:G}),Object(y.jsx)("span",{className:Fe.a.bar})]})]})]}),Object(y.jsxs)("div",{className:Fe.a.inputDiv,children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"City:"}),Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{type:"text",required:!0,name:"city",defaultValue:J.city,onChange:oe,disabled:G}),Object(y.jsx)("span",{className:Fe.a.bar})]})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"Zip Code:"}),Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{type:"text",required:!0,name:"zipCode",defaultValue:J.zipCode,onChange:oe,disabled:G}),Object(y.jsx)("span",{className:Fe.a.bar})]})]})]}),Object(y.jsx)("h1",{children:"Payment"}),Object(y.jsx)("div",{className:Fe.a.radioButtons,children:I?Object(y.jsxs)("div",{className:Fe.a.switchField,children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{type:"radio",id:"paypal",name:"payMethod",defaultValue:"PayPal",onChange:ie,onClick:function(){return D(!1)},disabled:G}),Object(y.jsx)("label",{for:"paypal",children:"Paypal"})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{type:"radio",id:"mercadopago",name:"payMethod",defaultValue:"MercadoPago",onChange:ie,onClick:function(){return D(!1)},disabled:G}),Object(y.jsx)("label",{for:"mercadopago",children:"Credit/Mercado Pago "})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{type:"radio",id:"giftcard",name:"payMethod",defaultValue:"GiftCard",onChange:ie,onClick:function(){return D(!1)},disabled:G}),Object(y.jsx)("label",{for:"giftcard",children:"Gift Card"})]})]}):Object(y.jsxs)("h2",{children:[ae.paymentMethod.type," "]})}),Object(y.jsx)("button",{className:Fe.a.checkOut,disabled:U,onClick:function(){Object.values(J).some((function(e){return""===e}))?H("You need to complete all the fields to continue!"):r(J).then((function(e){e.success?(K(Object(d.a)(Object(d.a)({},$),{},{enable:!0})),T(!0),E(!1),D(!0),H("")):H("The information provided is incorrect!")}))},children:"Checkout Order"}),Object(y.jsx)("p",{className:Fe.a.error,children:z}),$.enable&&$.type.includes("GiftCard")&&Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:Fe.a.giftCardCode,children:[Object(y.jsx)("label",{children:"Enter your Giftcard Code"}),Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{type:"text",required:!0,name:"giftCardCode",defaultValue:" ",onChange:function(e){_(e.target.value)}}),Object(y.jsx)("span",{className:Fe.a.bar})]}),Object(y.jsx)("button",{onClick:function(){p(v).then((function(e){e.success?P(e.res.balance):P("Invalid Giftcard code")}))},children:"Check balance"})]}),"string"===typeof w&&Object(y.jsx)("p",{className:Fe.a.error,children:w}),le<0&&Object(y.jsxs)("div",{className:Fe.a.paywithGiftC,children:[Object(y.jsxs)("div",{className:Fe.a.giftCardText,children:[Object(y.jsxs)("p",{children:["The available amount in your Giftcard is",Object(y.jsxs)("span",{children:[" $",w]})]}),Object(y.jsxs)("p",{children:["The total amount of your order",Object(y.jsxs)("span",{children:[" $",ae.totalPrice]})," is higher than the balance left in your GiftCard"," "]}),Object(y.jsxs)("p",{children:["The remaining amount is"," ",Object(y.jsxs)("span",{children:["$",Math.abs(le)]}),"."]})]}),Object(y.jsxs)("div",{className:Fe.a.switchField,children:[Object(y.jsx)("input",{type:"radio",id:"paypal",name:"payMethod",defaultValue:"PayPal",onChange:function(e){return ie(e,"add")},onClick:function(){return D(!1)},disabled:O}),Object(y.jsx)("label",{for:"paypal",children:"Paypal"}),Object(y.jsx)("input",{type:"radio",id:"mercadopago",name:"payMethod",defaultValue:"MercadoPago",onChange:function(e){return ie(e,"add")},onClick:function(){return D(!1)},disabled:O}),Object(y.jsx)("label",{for:"mercadopago",children:"Credit/Debit Card"})]})]}),le>0&&Object(y.jsxs)("div",{className:Fe.a.paywithGiftC,children:[Object(y.jsxs)("div",{className:Fe.a.giftCardText,children:[Object(y.jsxs)("p",{children:["The available amount in your Giftcard is",Object(y.jsxs)("span",{children:[" $",w]})]}),Object(y.jsxs)("p",{children:["The total amount of your order is",Object(y.jsxs)("span",{children:[" $",ae.totalPrice]})]}),Object(y.jsxs)("p",{children:["You have a remaining balance of"," ",Object(y.jsxs)("span",{children:["$",le]})]})]}),Object(y.jsx)("button",{className:Fe.a.checkOut,onClick:ue,children:"pagar"})]})]}),$.enable&&$.type.includes("PayPal")&&Object(y.jsx)(Ge,{description:"Cozy  ".concat(de.toLocaleDateString()),catchPagoErr:je,total:O?pe:ae.totalPrice,info:J,addNewOrderHandler:ue}),$.enable&&$.type.includes("MercadoPago")&&Object(y.jsx)(Le,{addNewOrderHandler:ue,total:O?pe:ae.totalPrice,catchPagoErr:je})]}),Object(y.jsx)(Ue,{products:c,total:ae.totalPrice})]})]})})),He={logFromSession:m.logFromSession,addCartLS:_.addCartLS},Ve=Object(u.b)((function(e){return{loginUser:e.users.user}}),He)((function(e){var t=e.loginUser,c=e.logFromSession,r=e.addCartLS;e.history;return Object(a.useEffect)((function(){t||c(),localStorage.getItem("cart")&&r(JSON.parse(localStorage.getItem("cart")))}),[]),Object(y.jsxs)(o.a,{children:[Object(y.jsxs)(i.d,{children:[Object(y.jsx)(i.b,{exact:!0,path:"/",component:de}),!t&&Object(y.jsx)(i.b,{path:"/signin",component:W}),!t&&Object(y.jsx)(i.b,{path:"/signup",component:J}),Object(y.jsx)(i.b,{exact:!0,path:"/products",component:L}),Object(y.jsx)(i.b,{path:"/products/:category",component:L}),Object(y.jsx)(i.b,{path:"/product/:id",component:me}),Object(y.jsx)(i.b,{exact:!0,path:"/productform",component:t&&t.admin?Z:de}),Object(y.jsx)(i.b,{path:"/productform/:id",component:t&&t.admin?Z:de}),t&&t.admin&&Object(y.jsx)(i.b,{path:"/admin",component:Ee}),t&&Object(y.jsx)(i.b,{path:"/payment",component:ze}),Object(y.jsx)(i.b,{path:"/paywithcard",component:Le}),Object(y.jsx)(i.a,{to:"/"})]}),Object(y.jsx)(je,{})]})})),Ze=c(35),$e=c(68),Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_IN_USER":return{user:Object(d.a)({},t.payload)};case"LOG_OUT":return{user:null};default:return e}},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[],productsCategory:[],product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_PRODUCTS":return Object(d.a)(Object(d.a)({},e),{},{products:t.payload,productsCategory:t.payload.filter((function(e){return e.stock>0}))});case"GET_PRODUCT":return Object(d.a)(Object(d.a)({},e),{},{product:t.payload});case"FIND_A_PRODUCT":return Object(d.a)(Object(d.a)({},e),{},{product:e.products.find((function(e){return e._id===t.payload}))});case"GET_ALL":return Object(d.a)(Object(d.a)({},e),{},{productsCategory:e.products.filter((function(e){return e.stock>0}))});case"GET_BY_CATEGORY":return Object(d.a)(Object(d.a)({},e),{},{productsCategory:"sale"!==t.payload?e.products.filter((function(e){return e.category===t.payload&&e.stock>0})):e.products.filter((function(e){return 0!==e.discount&&e.stock>0}))});default:return e}},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0,c=null;switch(t.type){case"ADD_CART_PRODUCT":var a=e.products.find((function(e){return e.product._id===t.payload.product._id}));return c=a?e.products.map((function(e){return e.product._id===t.payload.product._id?Object(d.a)(Object(d.a)({},e),{},{quantity:e.quantity+t.payload.quantity}):e})):e.products.concat(t.payload),localStorage.setItem("cart",JSON.stringify(c)),{products:a?e.products.map((function(e){return e.product._id===t.payload.product._id?Object(d.a)(Object(d.a)({},e),{},{quantity:e.quantity+t.payload.quantity}):e})):e.products.concat(t.payload)};case"DELETE_ONE_CART_PRODUCT":return c=e.products.filter((function(e){return e.product._id!==t.payload})),localStorage.setItem("cart",JSON.stringify(c)),{products:e.products.filter((function(e){return e.product._id!==t.payload}))};case"UPDATE_CART_PRODUCT":return c=e.products.map((function(e){return e.product._id===t.payload.product._id?Object(d.a)(Object(d.a)({},e),{},{quantity:t.payload.quantity}):e})),localStorage.setItem("cart",JSON.stringify(c)),{products:e.products.map((function(e){return e.product._id===t.payload.product._id?Object(d.a)(Object(d.a)({},e),{},{quantity:t.payload.quantity}):e}))};case"ADD_CART_LS":return{products:t.payload};case"DELETE_CART":return localStorage.removeItem("cart"),{products:[]};default:return e}},Je=Object(Ze.b)({users:Ke,products:We,cart:Xe}),Qe=Object(Ze.c)(Je,Object(Ze.a)($e.a));s.a.render(Object(y.jsx)(u.a,{store:Qe,children:Object(y.jsx)(Ve,{})}),document.getElementById("root"))},13:function(e,t,c){e.exports={adminMain:"Admin_adminMain__1gcZR",topInfo:"Admin_topInfo__bEnTf",midInfo:"Admin_midInfo__5YMgE",searchBar:"Admin_searchBar__1lflP",userContainer:"Admin_userContainer__2Ti3G",statsContainer:"Admin_statsContainer__3F4iK",userCard:"Admin_userCard__2kWQn",stockCard:"Admin_stockCard__MwAqp",manageStock:"Admin_manageStock__2_ojq",admin:"Admin_admin__2w2li",stockContainer:"Admin_stockContainer__12J2-",addProduct:"Admin_addProduct__1oBdN",guideContainer:"Admin_guideContainer__1ucfU",brand:"Admin_brand__3JMKa"}},14:function(e,t,c){e.exports={productsGallery:"ProductsGallery_productsGallery__1TFsx",productsCards:"ProductsGallery_productsCards__39kwc",wrapper:"ProductsGallery_wrapper__3UNVU",container:"ProductsGallery_container__1jO5D",top:"ProductsGallery_top__127m1",bottom:"ProductsGallery_bottom__2m017",nameAndPrice:"ProductsGallery_nameAndPrice__3X_UT",cardButtons:"ProductsGallery_cardButtons__qVQfC",fas:"ProductsGallery_fas__2_Vr1",inside:"ProductsGallery_inside__1mAJF",icon:"ProductsGallery_icon__2K-YW",newClass:"ProductsGallery_newClass__3dMqW",sale:"ProductsGallery_sale__3CXNT",filterContainer:"ProductsGallery_filterContainer__7Xa9f",inputContainer:"ProductsGallery_inputContainer__1zg3l",filterInside:"ProductsGallery_filterInside__3VWE3",sectiontSelect:"ProductsGallery_sectiontSelect__1STve"}},16:function(e,t,c){e.exports={cartContainer:"Cart_cartContainer__1-bxf",cartContainerHeader:"Cart_cartContainerHeader__11sJn",productCartPhoto:"Cart_productCartPhoto__3y0_J",cartContainerMain:"Cart_cartContainerMain__1NdBI",divPrice:"Cart_divPrice__2W9rG",divSpan:"Cart_divSpan__2_B1Z",divButton:"Cart_divButton__1q7ak",productInCart:"Cart_productInCart__22mk0",productCartInfo:"Cart_productCartInfo__3TBmF",counter:"Cart_counter__2GXMO",warning:"Cart_warning__nGOLl",warningButton:"Cart_warningButton__1apYT",priceTotal:"Cart_priceTotal__epx0z",amountOrder:"Cart_amountOrder__1ZGNX"}},17:function(e,t,c){e.exports={productSection:"Product_productSection__EMq02",mainContainer:"Product_mainContainer__2ihrJ",productImage:"Product_productImage__15Dvw",productInfo:"Product_productInfo__28nRk",suggestionContainer:"Product_suggestionContainer__3nHCx",suggestion:"Product_suggestion__Cdh7A",productCardContainer:"Product_productCardContainer__34JXb",counter:"Product_counter__23kxa","sc-bdfBQB":"Product_sc-bdfBQB__3vAff",efwhzj:"Product_efwhzj__1dilf",interestCard:"Product_interestCard__C3gvd",calculateSend:"Product_calculateSend__2McgV",sale:"Product_sale__crGYY","fa-plus":"Product_fa-plus__3bLvZ","fa-minus":"Product_fa-minus__1BLWH","fa-trash-alt":"Product_fa-trash-alt__uAWwR",divError:"Product_divError__gQX5e",shippingInfo:"Product_shippingInfo__v2L86",priceFinal:"Product_priceFinal__2Ode4"}},23:function(e,t,c){e.exports={home:"Home_home__YwGDK",homeStore:"Home_homeStore__1Ts2x",categories:"Home_categories__2zigw",galleryWrap:"Home_galleryWrap__CpF82",textButton:"Home_textButton__3hU8R",quote:"Home_quote__1aV7h",info:"Home_info__1BFVP",infoContainer:"Home_infoContainer__2tKE_",fondoInfo:"Home_fondoInfo__2-CUA",infoItem:"Home_infoItem__3G1kt"}},24:function(e,t,c){e.exports={footer:"Footer_footer__1O20_",socialNetworks:"Footer_socialNetworks___MRON",infoContact:"Footer_infoContact__3lIr4",iconSocial:"Footer_iconSocial__3BRSa",iconFooter:"Footer_iconFooter__3befA"}},25:function(e,t,c){e.exports={iconsMenu:"MenuResponsive_iconsMenu__1nNQd",menu:"MenuResponsive_menu__1e5XJ",userMenu:"MenuResponsive_userMenu__22pnr",menu1:"MenuResponsive_menu1__wS6K7",menu2:"MenuResponsive_menu2__1uw7I",itemResponsive:"MenuResponsive_itemResponsive__117sg",iconItem:"MenuResponsive_iconItem__Leig-"}},26:function(e,t,c){e.exports={formContainer:"ProductForm_formContainer__1XldU",mainForm:"ProductForm_mainForm__3XltR",picture:"ProductForm_picture__1f5J8",productPic:"ProductForm_productPic__52_Ck",productForm:"ProductForm_productForm__2GFQb",textError:"ProductForm_textError__1Yvxl",price:"ProductForm_price__3ikQY",saleInput:"ProductForm_saleInput__u7C4D",saleRadios:"ProductForm_saleRadios__3Z0SY",formButton:"ProductForm_formButton__3P0eX"}},27:function(e,t,c){e.exports={hideCard:"CartCard_hideCard__11m6H",showCard:"CartCard_showCard__tG4gd",cartCard:"CartCard_cartCard__2wavj",topToast:"CartCard_topToast__1rqgA",infoCart:"CartCard_infoCart__30ABV",bold:"CartCard_bold__1nK-C",total:"CartCard_total__2-YP4",close:"CartCard_close__3h-YL",buttonContainer:"CartCard_buttonContainer__2Cxjw"}},31:function(e,t,c){e.exports={conteinerSideProducts:"SideProducts_conteinerSideProducts__3ZEE_",sideProducts:"SideProducts_sideProducts__1S3NR",productInCart:"SideProducts_productInCart__3v6fU",productCartInfo:"SideProducts_productCartInfo__1aBLT",productCartPhoto:"SideProducts_productCartPhoto__2FLX0",totalPrice:"SideProducts_totalPrice__1Ir8y"}},42:function(e,t,c){e.exports={button1:"Button1_button1__KkYYx",buttonContent:"Button1_buttonContent__1uDaF",accent:"Button1_accent__2wz6a"}},48:function(e,t,c){e.exports={container:"MercadoPagoForm_container__Skthw",checkOut:"MercadoPagoForm_checkOut__2XOmR"}},59:function(e,t,c){},77:function(e,t,c){},8:function(e,t,c){e.exports={gatewayContainer:"PaymentGateway_gatewayContainer__1EZtk",checkoutInfo:"PaymentGateway_checkoutInfo__Sud6m",inputMail:"PaymentGateway_inputMail__3FRHH",inputDiv:"PaymentGateway_inputDiv__1D1GE",giftCardCode:"PaymentGateway_giftCardCode__ZmQ5D",checkOut:"PaymentGateway_checkOut__1er1i",error:"PaymentGateway_error__19mKx",giftCardText:"PaymentGateway_giftCardText__E_B1K",paywithGiftC:"PaymentGateway_paywithGiftC__ET85F",bar:"PaymentGateway_bar__lZe7U",switchField:"PaymentGateway_switchField__4SrSD",radioButtons:"PaymentGateway_radioButtons__1UsDI",alertPago:"PaymentGateway_alertPago__l8vvZ",totalPrice768:"PaymentGateway_totalPrice768__1SrO-",productInfo:"PaymentGateway_productInfo__1cjYx"}}},[[108,1,2]]]);
//# sourceMappingURL=main.2c19ceea.chunk.js.map