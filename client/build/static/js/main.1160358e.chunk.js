(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{110:function(e,t,c){"use strict";c.r(t);var r=c(1),a=c.n(r),n=c(28),s=c.n(n),o=(c(80),c(5)),i=c(11),u=c(7),d=c(73),l=c(4),p=c(2),j=c.n(p),b=c(6),h=c(12),m=c.n(h),O={signUp:function(e){return function(){var t=Object(b.a)(j.a.mark((function t(c){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.post("https://cozydeco.herokuapp.com/api/user/register",e,{withCredentials:!0});case 3:if((r=t.sent).data.success){t.next=6;break}return t.abrupt("return",r.data);case 6:return c({type:"LOG_IN_USER",payload:r.data.response}),t.abrupt("return",{success:!0,response:r.data.response});case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",{success:!1,response:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},logFromSession:function(){return function(){var e=Object(b.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("https://cozydeco.herokuapp.com/api/user/validate",{withCredentials:!0});case 3:if((c=e.sent).data.success){e.next=6;break}throw new Error(c.data.response);case 6:t({type:"LOG_IN_USER",payload:c.data.response}),e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(0),t({type:"LOG_OUT"}),e.next=14,m.a.get("https://cozydeco.herokuapp.com/api/user/logout");case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},logIn:function(e){return function(){var t=Object(b.a)(j.a.mark((function t(c){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.post("https://cozydeco.herokuapp.com/api/user/login",e,{withCredentials:!0});case 3:if((r=t.sent).data.success){t.next=6;break}throw new Error(r.data.response);case 6:return c({type:"LOG_IN_USER",payload:r.data.response}),t.abrupt("return",{success:!0,response:r.data.response});case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",{success:!1,response:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},logOut:function(){return function(){var e=Object(b.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("https://cozydeco.herokuapp.com/api/user/logout",{withCredentials:!0});case 3:if((c=e.sent).data.success){e.next=6;break}throw new Error(c.data.response);case 6:t({type:"LOG_OUT"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},manageUser:function(e){return function(){var t=Object(b.a)(j.a.mark((function t(c){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.put("https://cozydeco.herokuapp.com/api/user/manage",Object(l.a)({},e),{withCredentials:!0});case 3:if((r=t.sent).data.success){t.next=6;break}throw new Error(r.data.response);case 6:return t.abrupt("return",{success:!0});case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",{success:!1});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},f=O,x=c(3),g=c(15),v=c.n(g),_={addCartProduct:function(e){return function(t){t({type:"ADD_CART_PRODUCT",payload:e})}},deleteACartProduct:function(e){return function(t){t({type:"DELETE_ONE_CART_PRODUCT",payload:e})}},updateCartProduct:function(e){return function(t){return t({type:"UPDATE_CART_PRODUCT",payload:e}),{success:!0}}},deleteAllCartProduct:function(){return function(e){e({type:"DELETE_CART"})}},addCartLS:function(e){return function(){var t=Object(b.a)(j.a.mark((function t(c){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:"ADD_CART_LS",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},addNewOrder:function(e){return function(){var t=Object(b.a)(j.a.mark((function t(c){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("entr\xe9 al add new order al post"),t.next=4,m.a.post("https://cozydeco.herokuapp.com/api/order/new",Object(l.a)({},e),{withCredentials:!0});case 4:if(r=t.sent,console.log(r),r.data.success){t.next=8;break}throw new Error(r.data.response);case 8:return t.abrupt("return",{success:!0});case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",{success:!1,res:t.t0});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},addCard:function(e){return function(){var t=Object(b.a)(j.a.mark((function t(c){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.post("https://cozydeco.herokuapp.com/api/cards",Object(l.a)({},e),{withCredentials:!0});case 3:if((r=t.sent).data.success){t.next=6;break}throw new Error(r.data.response);case 6:return t.abrupt("return",{success:!0});case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",{success:!1,res:t.t0});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},getCard:function(e){return function(){var t=Object(b.a)(j.a.mark((function t(c){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.get("https://cozydeco.herokuapp.com/api/card/".concat(e),{withCredentials:!0});case 3:if((r=t.sent).data.success){t.next=6;break}throw new Error;case 6:return t.abrupt("return",{success:!0,res:r.data.response});case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",{success:!1,res:t.t0});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},editCard:function(e){return function(){var t=Object(b.a)(j.a.mark((function t(c){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.put("https://cozydeco.herokuapp.com/api/card/".concat(e.code),Object(l.a)({},e),{withCredentials:!0});case 3:if((r=t.sent).data.success){t.next=6;break}throw new Error;case 6:return t.abrupt("return",{success:!0,res:r.data.response});case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",{success:!1,res:t.t0});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},y=_,C=c(0),N={addCartProduct:y.addCartProduct},w=Object(u.b)((function(e){return{user:e.users.user}}),N)((function(e){var t,c=e.product,a=e.editShowCartCard,n=e.setProductAlert,s=e.addCartProduct,i=e.user,u=e.newClass,d=Object(r.useState)(null),l=Object(x.a)(d,2),p=l[0],j=l[1];Object(r.useEffect)((function(){i&&j(i.admin)}),[]);var b=(null===(t=c.photo)||void 0===t?void 0:t.includes("http"))?c.photo:"https://cozydeco.herokuapp.com/".concat(c.photo);return Object(C.jsxs)("div",{className:v.a.wrapper,children:[Object(C.jsxs)("div",{className:v.a.container,children:[Object(C.jsx)(o.b,{to:"/product/".concat(c._id),children:Object(C.jsx)("div",{className:v.a.top,style:{backgroundImage:'url("'.concat(b,'")')}})}),Object(C.jsxs)("div",{className:v.a.bottom,children:[Object(C.jsxs)("div",{className:v.a.nameAndPrice,children:[Object(C.jsx)("h1",{children:c.name}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("p",{className:0!==c.discount?v.a.sale:null,children:["$",c.price]}),0!==c.discount&&Object(C.jsxs)("p",{children:["$",((100-c.discount)/100*c.price).toFixed(2)]})]})]}),Object(C.jsxs)("div",{className:v.a.cardButtons,children:[!p&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("i",{style:{cursor:"pointer"},className:"fas fa-cart-plus fa-lg",onClick:function(){var e={product:c,quantity:1};a(!0),n(e),s(e)}}),Object(C.jsx)(o.b,{to:"/product/".concat(c._id),children:Object(C.jsx)("i",{className:"fas fa-eye fa-lg"})})]}),p&&Object(C.jsx)(o.b,{to:"/productform/".concat(c._id),children:Object(C.jsx)("i",{className:"fas fa-pen fa-lg"})})]})]})]}),0!==c.discount&&Object(C.jsx)("div",{className:v.a.inside,children:Object(C.jsx)("div",{className:u?v.a.newClass:v.a.icon,children:u?"- ".concat(c.discount,"%"):"".concat(c.discount,"% OFF")})})]})})),k=c(30),P=c.n(k),S=function(e){var t=e.productAlert,c=e.showCartCard,r=e.editShowCartCard,a=t.product.photo.includes("http")?t.product.photo:"https://cozydeco.herokuapp.com/".concat(t.product.photo);return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("div",{className:c?P.a.showCard:P.a.hideCard,children:Object(C.jsxs)("div",{className:P.a.cartCard,children:[Object(C.jsxs)("div",{className:P.a.topToast,children:[Object(C.jsx)("div",{children:Object(C.jsx)("div",{style:{backgroundImage:"url(".concat(a,")"),width:"70px",height:"70px",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},className:"h-4 w-4 rounded-full"})}),Object(C.jsxs)("div",{className:P.a.infoCart,children:[Object(C.jsx)("p",{children:t.product.name}),Object(C.jsxs)("p",{children:[t.quantity," x $",t.product.price]}),Object(C.jsx)("p",{className:"bold",children:"Successfully added to cart!"})]}),Object(C.jsx)("div",{className:"close",children:Object(C.jsx)("i",{onClick:function(){return r(!1)},className:"fas fa-times"})})]}),Object(C.jsxs)("div",{className:P.a.total,children:[Object(C.jsxs)("p",{children:["Total (",t.quantity,"product):"]}),Object(C.jsxs)("p",{children:["$ ",t.product.price]})]})]})})})},E={getProducts:function(){return function(){var e=Object(b.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("https://cozydeco.herokuapp.com/api/products",{},{withCredentials:!0});case 3:if((c=e.sent).data.success){e.next=6;break}throw new Error("Failed to get new products");case 6:return console.log(c),console.log("mande el despacho"),t({type:"GET_ALL_PRODUCTS",payload:c.data.response}),console.log("retorne al componente"),e.abrupt("return",{success:!0});case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},addProduct:function(e){return function(){var t=Object(b.a)(j.a.mark((function t(c){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.post("https://cozydeco.herokuapp.com/api/product/add",e,{withCredentials:!0});case 3:if(!(r=t.sent).data.success){t.next=9;break}return c({type:"ADD_PRODUCT",payload:r.data.respose}),t.abrupt("return",r);case 9:throw new Error(r.data.response);case 10:t.next=15;break;case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",{success:!1,response:t.t0});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},getAProduct:function(e){return function(){var t=Object(b.a)(j.a.mark((function t(c){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.get("https://cozydeco.herokuapp.com/api/product/".concat(e));case 3:if((r=t.sent).data.success){t.next=6;break}throw new Error("Failed to get product");case 6:return c({type:"GET_PRODUCT",payload:r.data.response}),t.abrupt("return",{success:!0,res:r.data.response});case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",{success:!1,res:t.t0});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},findAProduct:function(e){return function(t){t({type:"FIND_A_PRODUCT",payload:e})}},modifyProduct:function(e,t){return Object(b.a)(j.a.mark((function c(){return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,m.a.put("https://cozydeco.herokuapp.com/api/product/".concat(e),t,{withCredentials:!0});case 3:if(c.sent.data.success){c.next=6;break}throw new Error("Error trying to modify the stock");case 6:return c.abrupt("return",{success:!0});case 9:return c.prev=9,c.t0=c.catch(0),c.abrupt("return",{success:!1});case 12:case"end":return c.stop()}}),c,null,[[0,9]])})))},getProductByCategory:function(e){return function(t){t({type:e?"GET_BY_CATEGORY":"GET_ALL",payload:e})}}},I=E,T=c(42),A=c(17),F=c.n(A),M={deleteACartProduct:y.deleteACartProduct,updateCartProduct:y.updateCartProduct},G=Object(u.b)(null,M)((function(e){var t=e.cartItem,c=e.deleteACartProduct,a=(e.setPriceTotal,e.updateCartProduct),n=Object(r.useState)(!0),s=Object(x.a)(n,2),o=s[0],i=s[1],u=function(e){i(!1);var c={product:t.product,quantity:"+"===e?t.quantity+1:t.quantity-1};a(c),i(!0)},d=t.product.photo.includes("http")?t.product.photo:"https://cozydeco.herokuapp.com/".concat(t.product.photo);return Object(C.jsxs)("div",{className:F.a.productInCart,children:[Object(C.jsx)("div",{className:F.a.productCartPhoto,style:{backgroundImage:'url("'.concat(d,'")')}}),Object(C.jsxs)("div",{className:F.a.productCartInfo,children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("h5",{children:t.product.name}),Object(C.jsx)("i",{style:{cursor:"pointer"},onClick:function(){return c(t.product._id)},className:"fas fa-trash-alt fa-1x"})]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:F.a.counter,children:[Object(C.jsx)("i",{className:"fas fa-minus",onClick:t.quantity>1&&o?function(){return u("-")}:null}),Object(C.jsx)("p",{children:t.quantity}),Object(C.jsx)("i",{className:"fas fa-plus",onClick:t.product.stock>t.quantity&&o?function(){return u("+")}:null})]}),Object(C.jsxs)("p",{children:["$",0===t.product.discount?t.product.price:((100-t.product.discount)/100*t.product.price).toFixed(2)]}),Object(C.jsxs)("p",{children:["$",((0===t.product.discount?t.product.price:(100-t.product.discount)/100*t.product.price)*t.quantity).toFixed(2)]})]})]})]})})),R=Object(u.b)((function(e){return{products:e.cart.products,loginUser:e.users.user}}))((function(e){var t=e.onClickHandler,c=e.products,a=e.loginUser,n=Object(r.useState)(!1),s=Object(x.a)(n,2),u=s[0],d=s[1],l=Object(i.g)(),p=c.map((function(e){return 0===e.product.discount?e.product.price*e.quantity:(100-e.product.discount)/100*e.product.price*e.quantity})),j=function(){d(!1),t()};return Object(C.jsxs)("div",{className:F.a.cartContainer,children:[Object(C.jsxs)("div",{className:F.a.cartContainerHeader,children:[Object(C.jsx)("h3",{children:"SHOPPING CART"}),Object(C.jsx)("i",{onClick:j,className:"fas fa-times"})]}),Object(C.jsxs)("div",{className:F.a.cartContainerMain,children:[c.map((function(e){return Object(C.jsx)(G,{cartItem:e},e.product._id)})),c.length?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:F.a.divPrice,children:[Object(C.jsx)("h4",{children:"SUBTOTAL"}),Object(C.jsxs)("h4",{children:["$ ",p.reduce((function(e,t){return e+t})).toFixed(2)]})]}),Object(C.jsx)("div",{className:F.a.divSpan,children:u&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("span",{children:"You must be logged in to make a purchase"}),Object(C.jsx)(o.b,{to:"/signin",onClick:j,children:"Sign In"})]})}),Object(C.jsxs)("div",{className:F.a.divButton,children:[Object(C.jsx)("button",{onClick:function(){a?(t(),l.push("/payment")):d(!0)},children:"FINALIZE PURCHASE"}),Object(C.jsx)(o.b,{to:"/products",children:Object(C.jsx)("button",{onClick:t,children:"KEEP SHOPPING"})})]})]}):Object(C.jsxs)("div",{className:F.a.warning,children:[Object(C.jsxs)("p",{children:[Object(C.jsx)("i",{className:"fas fa-exclamation"})," You don't have any items in your cart."]}),Object(C.jsx)("p",{children:"Many products are waiting for you!"}),Object(C.jsxs)("div",{className:F.a.warningButton,children:[Object(C.jsx)(o.b,{to:"/products",onClick:j,children:Object(C.jsx)("button",{children:"START SHOPPING"})}),!a&&Object(C.jsx)(o.b,{to:"/signin",onClick:j,children:Object(C.jsx)("button",{children:"SIGN IN"})})]})]})]})]})})),D=c(24),U=c.n(D),q={logOut:f.logOut},B=Object(u.b)((function(e){return{loginUser:e.users.user}}),q)((function(e){var t=e.loginUser,c=e.logOut,a=e.viewCart,n=Object(r.useState)(!1),s=Object(x.a)(n,2),i=s[0],u=s[1],d=function(e){u(!i)};if(t)var l=t.photo.includes("http")?t.photo:"https://cozydeco.herokuapp.com/".concat(t.photo);return Object(C.jsxs)("header",{children:[Object(C.jsxs)("div",{className:U.a.userMenu,children:[Object(C.jsxs)("div",{children:[!t&&Object(C.jsx)("i",{className:"iconSocial fas fa-user fa-2x"}),t&&Object(C.jsx)("div",{className:"logoUser",style:{backgroundImage:"url('".concat(l,"')")}})]}),Object(C.jsx)("div",{className:U.a.iconsMenu,onClick:d,children:i?Object(C.jsx)("img",{className:U.a.iconItem,src:"https://img.icons8.com/material-outlined/48/000000/cancel--v1.png"}):Object(C.jsx)("img",{className:U.a.iconItem,src:"https://img.icons8.com/ios-filled/50/000000/menu--v1.png"})})]}),Object(C.jsx)("h1",{children:"COZY"}),Object(C.jsx)("div",{children:Object(C.jsxs)("nav",{children:[Object(C.jsx)(o.c,{active:!0,exact:!0,to:"/",children:"HOME"}),Object(C.jsx)(o.c,{active:!0,to:"/products",children:"STORE"}),!t&&Object(C.jsx)(o.c,{active:!0,to:"/signin",onClick:d,className:i?U.a.menu1:U.a.itemResponsive,children:"SIGN IN"}),!t&&Object(C.jsx)(o.c,{active:!0,to:"/signup",onClick:d,className:i?U.a.menu2:U.a.itemResponsive,children:"SIGN UP"}),t&&Object(C.jsx)(o.c,{active:!0,onClick:function(){c(),u(!i)},to:"/",className:i?U.a.menu1:U.a.itemResponsive,children:"SIGN OUT"}),t&&t.admin&&Object(C.jsx)(o.c,{to:"/admin",children:"ADMIN"}),!a&&Object(C.jsx)(T.a,{style:{padding:"0"},backgroundColor:"#61605e8a",toogleComponent:function(e){return Object(C.jsx)("i",{onClick:e,className:"iconSocial fas fa-shopping-cart fa-1x"})},offsetX:0,offsetY:0,children:function(e){return Object(C.jsx)(R,{onClickHandler:e})}})]})})]})})),L={getProducts:I.getProducts,getProductByCategory:I.getProductByCategory},z=Object(u.b)((function(e){return{products:e.products.products,productsCategory:e.products.productsCategory}}),L)((function(e){var t=e.products,c=e.getProducts,a=e.productsCategory,n=e.match,s=e.getProductByCategory,i=Object(r.useState)(!1),u=Object(x.a)(i,2),d=u[0],p=u[1],j=Object(r.useState)(null),b=Object(x.a)(j,2),h=b[0],m=b[1],O=Object(r.useState)(null),f=Object(x.a)(O,2),g=f[0],_=f[1],y=Object(r.useState)({category:null,subcategory:null}),N=Object(x.a)(y,2),k=N[0],P=N[1];Object(r.useEffect)((function(){window.scroll(0,0),document.title="COZY | STORE",t.length?s(n.params.category):c().then((function(e){return s(n.params.category)})),n.params.category?P({category:n.params.category,subcategory:null}):P({category:null,subcategory:null})}),[n.params]),g||a.sort((function(e,t){return e.stock-t.stock}));var E=function(e){p(e)};h&&setTimeout((function(){m(null)}),2500);var I=k.subcategory?a.filter((function(e){return e.subcategory===k.subcategory})):a,T=function(e){P(Object(l.a)(Object(l.a)({},k),{},{subcategory:e.target.value}))};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(B,{}),Object(C.jsxs)("div",{className:v.a.productsGallery,children:[Object(C.jsxs)("div",{className:v.a.filterContainer,children:[Object(C.jsxs)("div",{className:v.a.inputContainer,children:[Object(C.jsx)("div",{children:Object(C.jsx)(o.b,{to:"/products",children:"All products"})}),Object(C.jsxs)("div",{children:[Object(C.jsx)(o.b,{to:"/products/Kitchenware",children:"Kitchenware"}),"Kitchenware"===k.category&&Object(C.jsxs)("div",{children:[Object(C.jsx)("input",{type:"button",value:"Accesories",onClick:T}),Object(C.jsx)("input",{type:"button",value:"Glassware",onClick:T}),Object(C.jsx)("input",{type:"button",value:"Tableware",onClick:T})]})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)(o.b,{to:"/products/Bathroom",children:"Bathroom"}),"Bathroom"===k.category&&Object(C.jsxs)("div",{children:[Object(C.jsx)("input",{type:"button",value:"Accesories",onClick:T}),Object(C.jsx)("input",{type:"button",value:"Mirrors",onClick:T})]})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)(o.b,{to:"/products/Decor",children:"Decor"}),"Decor"===k.category&&Object(C.jsxs)("div",{children:[Object(C.jsx)("input",{type:"button",value:"Accesories",onClick:T}),Object(C.jsx)("input",{type:"button",value:"Home",onClick:T}),Object(C.jsx)("input",{type:"button",value:"Lighting",onClick:T})]})]}),Object(C.jsx)("div",{children:Object(C.jsx)(o.b,{to:"/products/GiftCard",children:"GitfCard"})}),Object(C.jsx)("div",{children:Object(C.jsx)(o.b,{to:"/products/sale",children:"Sale"})}),Object(C.jsx)("div",{children:Object(C.jsxs)("select",{onChange:function(e){"relevant"!==e.target.value?a.sort((function(t,c){return"minor"===e.target.value?t.price-c.price:c.price-t.price})):a.sort((function(e,t){return e.stock-t.stock})),_(e.target.value)},children:[Object(C.jsx)("option",{value:"relevant",children:"Most relevant"}),Object(C.jsx)("option",{value:"minor",children:"Lower to higher"}),Object(C.jsx)("option",{value:"mayor",children:"Higher to lower"})]})})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("hr",{}),Object(C.jsx)("h1",{children:"COZY"})]})]}),h&&Object(C.jsx)(S,{productAlert:h,showCartCard:d,editShowCartCard:E}),Object(C.jsx)("div",{className:v.a.productsCards,children:I.map((function(e){return Object(C.jsx)(w,{product:e,editShowCartCard:E,setProductAlert:m},e._id)}))})]})]})})),Y=c(14),H=c(26),V=c.n(H),$={addProduct:I.addProduct,findAProduct:I.findAProduct,modifyProduct:I.modifyProduct,getProducts:I.getProducts},K=Object(u.b)((function(e){return{product:e.products.product}}),$)((function(e){var t=e.addProduct,c=e.modifyProduct,a=e.findAProduct,n=e.match,s=e.product,o=e.getProducts,u=n.params.id,d=Object(r.useState)(!0),p=Object(x.a)(d,2),h=p[0],m=p[1],O=Object(r.useState)({name:"",photo:null,stock:"",description:"",price:"",forSale:"",discount:"",category:"",subcategory:""}),f=Object(x.a)(O,2),g=f[0],v=f[1];Object(r.useEffect)((function(){window.scrollTo(0,0),a(u),u||(v({name:"",photo:null,stock:"",description:"",price:"",forSale:"",discount:"",category:"",subcategory:""}),m(!1))}),[]),Object(r.useEffect)((function(){s&&(_(),m(!1))}),[s]);var _=function(){v({name:s.name,photo:s.photo,stock:s.stock,description:s.description,price:s.price,forSale:s.forSale,discount:s.discount,category:s.category,subcategory:s.subcategory})},y=[],N=Object(i.g)();"Bathroom"===g.category?y=["Accesories","Mirrors"]:"Kitchenware"===g.category?y=["Accesories","Glassware","Tableware"]:"Decor"===g.category?y=["Accesories","Home","Lighting"]:"GiftCard"===g.category&&(y=["GiftCard"]);var w=function(e){v(Object(l.a)(Object(l.a)({},g),{},Object(Y.a)({},e.target.name,"photo"===e.target.name?e.target.files[0]:e.target.value)))},k=function(){var e=Object(b.a)(j.a.mark((function e(){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((c=new FormData).append("name",g.name),c.append("photo",g.photo),c.append("stock",g.stock),c.append("description",g.description),c.append("price",g.price),c.append("forSale",g.forSale),c.append("category",g.category),c.append("subcategory",g.subcategory),c.append("discount",g.discount),!Object.values(g).some((function(e){return""===e}))){e.next=15;break}alert("complete all the fields"),e.next=26;break;case 15:return e.next=17,t(c);case 17:if(!e.sent.data.success){e.next=25;break}return e.next=21,o();case 21:return N.push("/admin"),e.abrupt("return",!1);case 25:alert("Todo sali\xf3 mal!");case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(b.a)(j.a.mark((function e(){var t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=new FormData).append("name",g.name),t.append("photo",g.photo),t.append("stock",g.stock),t.append("description",g.description),t.append("price",g.price),t.append("forSale",g.forSale),t.append("category",g.category),t.append("subcategory",g.subcategory),t.append("discount",g.discount),!Object.values(g).some((function(e){return""===e}))){e.next=15;break}alert("complete all the fields"),e.next=29;break;case 15:return e.next=17,c(u,t);case 17:if(!e.sent.success){e.next=28;break}return e.next=21,o();case 21:return r=e.sent,console.log("antes de pushear"),console.log(r),r.success&&N.push("/products"),e.abrupt("return",!1);case 28:alert("Todo sali\xf3 mal!");case 29:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return h?Object(C.jsx)("h4",{children:"Loading..."}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(B,{}),Object(C.jsx)("main",{calssName:V.a.mainForm,style:{backgroundImage:"/assets/home1.jpg"},children:Object(C.jsxs)("div",{className:V.a.formContainer,children:[u?Object(C.jsx)("h4",{children:"Edit Product"}):Object(C.jsx)("h4",{children:"New Product"}),Object(C.jsxs)("form",{className:V.a.productForm,children:[Object(C.jsx)("input",{type:"text",onChange:w,name:"name",placeholder:"Name",autoComplete:"nope",defaultValue:null===s||void 0===s?void 0:s.name}),Object(C.jsxs)("div",{className:V.a.picture,children:[Object(C.jsx)("input",{type:"file",onChange:w,name:"photo",placeholder:"Photo",autoComplete:"nope"}),Object(C.jsx)("div",{className:V.a.productPic,style:{backgroundImage:"url(".concat(null===s||void 0===s?void 0:s.photo,")")}})]}),Object(C.jsx)("textarea",{onChange:w,name:"description",placeholder:"Description",autoComplete:"nope",defaultValue:u?null===s||void 0===s?void 0:s.description:null}),Object(C.jsxs)("div",{className:V.a.price,children:[Object(C.jsx)("input",{type:"number",onChange:w,name:"stock",placeholder:"Stock",autoComplete:"nope",defaultValue:u?null===s||void 0===s?void 0:s.stock:null}),Object(C.jsx)("input",{type:"number",onChange:w,name:"price",placeholder:"Price",autoComplete:"nope",defaultValue:u?null===s||void 0===s?void 0:s.price:null})]}),Object(C.jsxs)("div",{className:V.a.saleInput,children:[Object(C.jsxs)("div",{className:V.a.saleRadios,children:[Object(C.jsx)("p",{children:"For Sale"}),Object(C.jsx)("input",{type:"radio",id:"true",name:"forSale",onChange:w,defaultValue:u?null===s||void 0===s?void 0:s.forSale:"true"}),Object(C.jsx)("label",{htmlFor:"true",children:"Yes"}),Object(C.jsx)("input",{type:"radio",id:"false",name:"forSale",onChange:w,defaultValue:u?null===s||void 0===s?void 0:s.forSale:"false"}),Object(C.jsx)("label",{htmlFor:"false",children:"No"})]}),Object(C.jsx)("input",{type:"number",onChange:w,name:"discount",placeholder:"Discount",autoComplete:"nope",defaultValue:u?null===s||void 0===s?void 0:s.discount:null})]}),Object(C.jsxs)("select",{name:"category",onChange:w,placeholder:"Category",defaultValue:u?null===s||void 0===s?void 0:s.category:null,children:[Object(C.jsx)("option",{children:"Category"}),["Bathroom","Kitchenware","Decor","GiftCard"].map((function(e,t){return Object(C.jsx)("option",{value:e,children:e},t)}))]}),Object(C.jsxs)("select",{name:"subcategory",onChange:w,placeholder:"Subcategory",defaultValue:u?null===s||void 0===s?void 0:s.subcategory:null,children:[Object(C.jsx)("option",{children:"Subcategory"}),y.map((function(e,t){return Object(C.jsx)("option",{value:e,children:e},t)}))]})]}),Object(C.jsx)("button",{className:V.a.formButton,onClick:u?function(){return P()}:function(){return k()},children:"Send"})]})})]})})),J=c(41),Z=(c(60),{logIn:f.logIn}),X=Object(u.b)(null,Z)((function(e){var t=e.history,c=e.logIn;Object(r.useEffect)((function(){document.title="COZY | Sign In"}),[]);var a=Object(r.useState)({password:"",eMail:""}),n=Object(x.a)(a,2),s=n[0],i=n[1],u=Object(r.useState)(""),d=Object(x.a)(u,2),p=d[0],h=d[1],m=function(e){i(Object(l.a)(Object(l.a)({},s),{},Object(Y.a)({},e.target.name,e.target.value)))},O=function(){var e=Object(b.a)(j.a.mark((function e(r){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={eMail:r.profileObj.email,password:r.profileObj.googleId,google:!0},e.next=3,c(a);case 3:(n=e.sent).success?t.push("/"):"Invalid username or pass"===n.response&&h("That google account does not exist");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(b.a)(j.a.mark((function e(){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object.values(s).some((function(e){return!e}))){e.next=2;break}return e.abrupt("return",h("Fill the empty fields"));case 2:return e.next=4,c(s);case 4:(r=e.sent).success?t.push("/"):h(r.response);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(B,{}),Object(C.jsx)("main",{className:"signin-main",children:Object(C.jsxs)("div",{className:"box",children:[Object(C.jsx)("div",{children:Object(C.jsx)("h1",{children:"Sign In"})}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:"group",children:[Object(C.jsx)("input",{type:"text",required:!0,onChange:m,name:"eMail"}),Object(C.jsx)("span",{className:"highlight"}),Object(C.jsx)("span",{className:"bar"}),Object(C.jsx)("label",{children:"Email"})]}),Object(C.jsxs)("div",{className:"group",children:[Object(C.jsx)("input",{type:"password",required:!0,onChange:m,name:"password"}),Object(C.jsx)("span",{className:"highlight"}),Object(C.jsx)("span",{className:"bar"}),Object(C.jsx)("label",{children:"Password"})]}),Object(C.jsx)("button",{type:"submit",onClick:f,children:"Sign In"}),Object(C.jsx)("p",{children:"Or"}),Object(C.jsx)("div",{className:"googleButton",children:Object(C.jsx)(J.GoogleLogin,{clientId:"825531110504-5if5ceqkaqcvcu2dppipo8q3j7hvnn9k.apps.googleusercontent.com",buttonText:"Sign in",onSuccess:O,cookiePolicy:"single_host_origin"})})]}),Object(C.jsx)("div",{className:"errorContainer",children:Object(C.jsx)("p",{children:p})}),"|",Object(C.jsx)("div",{className:"footer-box",children:Object(C.jsx)(o.b,{to:"/signup",children:"You don't have an account? Sign up now!"})})]})})]})})),W={signUp:f.signUp},Q=Object(u.b)(null,W)((function(e){var t=e.history,c=e.signUp,a=Object(r.useState)({firstName:"",lastName:"",password:"",eMail:"",photo:"",admin:!1,google:!1}),n=Object(x.a)(a,2),s=n[0],i=n[1],u=Object(r.useState)({}),d=Object(x.a)(u,2),p=d[0],h=d[1],m={firstName:null,lastName:null,eMail:null,password:null,emptyFields:null};Object(r.useEffect)((function(){document.title="COZY | Sign Up"}),[]);var O=function(e){i(Object(l.a)(Object(l.a)({},s),{},Object(Y.a)({},e.target.name,"photo"===e.target.name?e.target.files[0]:e.target.value)))},f=function(){var e=Object(b.a)(j.a.mark((function e(r){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={firstName:r.profileObj.givenName,lastName:r.profileObj.familyName,password:r.profileObj.googleId,photo:r.profileObj.imageUrl,eMail:r.profileObj.email,google:!0,admin:!1},e.next=3,c(a);case 3:e.sent.success?t.push("/"):h({emailGoogle:"That google account is already in use"});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(b.a)(j.a.mark((function e(){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=new FormData).append("firstName",s.firstName),r.append("lastName",s.lastName),r.append("password",s.password),r.append("eMail",s.eMail),r.append("photo",s.photo),r.append("admin",s.admin),r.append("google",s.google),!Object.values(s).some((function(e){return""===e}))){e.next=12;break}h({emptyFields:"There cannot be empty fields"}),e.next=16;break;case 12:return e.next=14,c(r);case 14:(a=e.sent).success?t.push("/"):(a.response.forEach((function(e){m[e.context.label]=e.message})),h(m));case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(B,{}),Object(C.jsx)("main",{className:"signup-main",children:Object(C.jsxs)("div",{className:"box",children:[Object(C.jsx)("h1",{children:"Sign Up"}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:"group",children:[Object(C.jsx)("input",{type:"text",required:!0,onChange:O,name:"firstName"}),Object(C.jsx)("span",{className:"highlight"}),Object(C.jsx)("span",{className:"bar"}),Object(C.jsx)("label",{children:"Firstname"}),Object(C.jsx)("div",{children:p.firstName&&Object(C.jsx)("p",{className:"inputError",children:p.firstName})})]}),Object(C.jsxs)("div",{className:"group",children:[Object(C.jsx)("input",{type:"text",required:!0,onChange:O,name:"lastName"}),Object(C.jsx)("span",{className:"highlight"}),Object(C.jsx)("span",{className:"bar"}),Object(C.jsx)("label",{children:"Lastname"}),Object(C.jsx)("div",{children:p.lastName&&Object(C.jsx)("p",{className:"inputError",children:p.lastName})})]}),Object(C.jsxs)("div",{className:"group",children:[Object(C.jsx)("input",{type:"password",required:!0,onChange:O,name:"password"}),Object(C.jsx)("span",{className:"highlight"}),Object(C.jsx)("span",{className:"bar"}),Object(C.jsx)("label",{children:"Password"}),Object(C.jsx)("div",{children:p.password&&Object(C.jsx)("p",{className:"inputError",children:p.password})})]}),Object(C.jsxs)("div",{className:"group",children:[Object(C.jsx)("input",{type:"text",onChange:O,name:"eMail",required:!0}),Object(C.jsx)("span",{className:"highlight"}),Object(C.jsx)("span",{className:"bar"}),Object(C.jsx)("label",{children:"Email"}),Object(C.jsx)("div",{children:p.eMail&&Object(C.jsx)("p",{className:"inputError",children:p.eMail})})]}),Object(C.jsxs)("div",{className:"group",children:[Object(C.jsx)("input",{type:"file",onChange:O,name:"photo"}),Object(C.jsx)("label",{children:"Avatar"})]}),Object(C.jsx)("button",{type:"submit",onClick:g,children:"Sign Up"}),Object(C.jsx)("p",{children:"Or"}),Object(C.jsx)("div",{className:"googleButton",children:Object(C.jsx)(J.GoogleLogin,{clientId:"825531110504-5if5ceqkaqcvcu2dppipo8q3j7hvnn9k.apps.googleusercontent.com",buttonText:"Sign up",onSuccess:f,cookiePolicy:"single_host_origin"})})]}),Object(C.jsxs)("div",{className:"errorContainer",children:[Object(C.jsx)("p",{children:p.emptyFields}),Object(C.jsx)("p",{children:p.emailGoogle})]}),Object(C.jsx)("div",{className:"footer-box",children:Object(C.jsx)(o.b,{to:"/signin",children:"You have an account? Sign in now!"})})]})})]})})),ee=c(31),te=c(25),ce=c.n(te),re=c(66),ae=c(67),ne=c(74),se=c(71),oe=c(43),ie=c.n(oe),ue=function(e){Object(ne.a)(c,e);var t=Object(se.a)(c);function c(){var e;return Object(re.a)(this,c),(e=t.call(this)).state={accentPosition:0,showAccent:!1},e}return Object(ae.a)(c,[{key:"setAccentPosition",value:function(e){var t=e.nativeEvent.offsetX;this.setState({accentPosition:t})}},{key:"handleMouseEnter",value:function(e){this.setState({showAccent:!0,accentPosition:e.nativeEvent.offsetX})}},{key:"render",value:function(){var e=this,t=this.state,c={left:t.accentPosition-150,opacity:t.showAccent?100:0};return Object(C.jsxs)("button",{className:ie.a.button1,onMouseMove:function(t){return e.setAccentPosition(t)},onMouseEnter:function(t){return e.handleMouseEnter(t)},onMouseLeave:function(){return e.setState({showAccent:!1})},children:[Object(C.jsx)("div",{className:ie.a.buttonContent,children:this.props.children}),Object(C.jsx)("div",{className:ie.a.accent,style:c})]})}}]),c}(a.a.Component),de=c(68),le=(c(105),function(e){var t=e.location;console.log(t.state);var c=Object(r.useState)(!1),a=Object(x.a)(c,2),n=a[0],s=a[1],i=Object(r.useState)(l()),u=Object(x.a)(i,2),d=(u[0],u[1]);function l(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}Object(r.useEffect)((function(){function e(){d(l())}return t.state&&s(!0),window.scroll(0,0),document.title="COZY | Home",window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var p=l(),j=p.height,b=p.width,h=[{src:"https://i.postimg.cc/tR8xRKn9/bat.jpg",category:"Bathroom"},{src:"https://i.postimg.cc/nzm4F3LR/home8.jpg",category:"Kitchenware"},{src:"https://i.postimg.cc/J4Q2C5tc/deco.jpg",category:"Decor"},{src:"https://i.postimg.cc/3wdn2zCV/gitfcard-Home.png",category:"GiftCard"},{src:"https://i.postimg.cc/R0mhJ9vz/sale.jpg",category:"sale"}].map((function(e,t){return Object(C.jsx)("div",{style:{backgroundImage:"url('".concat(e.src,"')")},children:Object(C.jsx)(o.b,{to:"/products/".concat(e.category),children:Object(C.jsx)("button",{className:ce.a.textButton,children:e.category})})},t)})),m=[{src:"./assets/6.png"},{src:"./assets/7.png"},{src:"./assets/8.png"},{src:"./assets/9.png"}].map((function(e,t){return Object(C.jsx)("div",{className:ce.a.infoItem,style:{backgroundImage:"url('".concat(e.src,"')")}},t)}));return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(B,{}),Object(C.jsxs)("div",{className:ce.a.home,children:[Object(C.jsx)(ee.Parallax,{bgImage:"/assets/home1.jpg",strength:j,children:Object(C.jsx)(o.b,{to:"/products",className:ce.a.homeStore,children:Object(C.jsx)(ue,{children:"Check out our latest trends"})})}),Object(C.jsxs)(ee.Parallax,{strength:-200,className:ce.a.categories,children:[Object(C.jsx)("h1",{children:"CATEGORIES"}),Object(C.jsx)("div",{className:ce.a.galleryWrap,children:h})]}),Object(C.jsx)(ee.Parallax,{bgImage:"/assets/home5.jpg",strength:b>700?j/1:b/.85,children:Object(C.jsxs)("div",{className:ce.a.quote,children:[Object(C.jsx)("h2",{children:"There's no place like home. "}),Object(C.jsx)("i",{className:"fas fa-quote-right"}),Object(C.jsx)("p",{children:"In Cozy we offer a wide variety of well-designed, functional home products. Whether your home decor leans towards minimalist or maximalist aesthetic, you'll find something to suit your style."})]})}),Object(C.jsx)(ee.Parallax,{strength:j/10,className:ce.a.infoContainer,children:Object(C.jsx)("div",{className:ce.a.fondoInfo,children:m})}),Object(C.jsx)(ee.Parallax,{bgImage:"/assets/home4.jpg",strength:b>700?-b/5.5:b/15,renderLayer:function(e){return Object(C.jsx)("div",{className:ce.a.finalInfo,style:{background:"rgba(212, 197, 191, ".concat(2*e,")"),width:100*e,height:100*e}})}})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("button",{onClick:function(){return s(!0)},children:"Open modal"}),Object(C.jsx)(de.a,{open:n,onClose:function(){s(!1)},center:!0,children:Object(C.jsx)("h2",{children:"Simple centered modal"})})]})]})}),pe=c(23),je=c.n(pe),be=function(){return Object(C.jsxs)("footer",{className:je.a.footer,children:[Object(C.jsxs)("div",{className:je.a.infoProduct,children:[Object(C.jsx)("h3",{children:"Categories"}),Object(C.jsx)(o.b,{to:"/products/Kitchenware",children:Object(C.jsx)("p",{children:"Kitchenware"})}),Object(C.jsx)(o.b,{to:"/products/Bathroom",children:Object(C.jsx)("p",{children:"Bathroom"})}),Object(C.jsx)(o.b,{to:"/products/Decor",children:Object(C.jsx)("p",{children:"Decor"})})]}),Object(C.jsxs)("div",{className:je.a.infoService,children:[Object(C.jsx)("h3",{children:"Customer Service"}),Object(C.jsx)("p",{children:"Shipping"}),Object(C.jsx)("p",{children:"Payment Methods"}),Object(C.jsx)("p",{children:"Changes and returns"})]}),Object(C.jsxs)("div",{className:je.a.infoContact,children:[Object(C.jsx)("h3",{children:"Contact"}),Object(C.jsxs)("div",{className:je.a.iconResponsive,children:[Object(C.jsxs)("div",{className:je.a.iconSocial,children:[Object(C.jsx)("i",{className:"fas fa-envelope fa-lg"}),Object(C.jsx)("p",{children:"cozydecodesign@gmail.com"})]}),Object(C.jsxs)("div",{className:je.a.iconSocial,children:[Object(C.jsx)("i",{className:"fas fa-phone-square-alt fa-lg"}),Object(C.jsx)("p",{children:"+54 11 6789 8270"})]})]}),Object(C.jsxs)("div",{className:je.a.iconSocial,children:[Object(C.jsx)("a",{href:"https://www.facebook.com/",target:"_blank",className:je.a.iconFooter,children:Object(C.jsx)("i",{className:"fab fa-facebook-square fa-lg"})}),Object(C.jsx)("a",{href:"https://www.instagram.com/",target:"_blank",className:je.a.iconFooter,children:Object(C.jsx)("i",{className:"fab fa-instagram-square fa-lg"})}),Object(C.jsx)("a",{href:"https://www.whatsapp.com/",target:"_blank",className:je.a.iconFooter,children:Object(C.jsx)("i",{className:"fab fa-whatsapp-square fa-lg"})})]})]})]})},he=c(22),me=c.n(he),Oe={findAProduct:I.findAProduct,addCartProduct:y.addCartProduct,getProductByCategory:I.getProductByCategory,getProducts:I.getProducts},fe=Object(u.b)((function(e){return{product:e.products.product,products:e.products.products,productsCategory:e.products.productsCategory}}),Oe)((function(e){var t=e.product,c=e.match,a=e.products,n=e.getProducts,s=e.findAProduct,o=e.addCartProduct,i=e.productsCategory,u=e.getProductByCategory,d=Object(r.useState)(1),l=Object(x.a)(d,2),p=l[0],j=l[1],b=Object(r.useState)(!0),h=Object(x.a)(b,2),m=h[0],O=h[1],f=Object(r.useState)(null),g=Object(x.a)(f,2),v=g[0],_=g[1],y=Object(r.useState)(!1),N=Object(x.a)(y,2),k=N[0],P=N[1],E=Object(r.useState)(!1),I=Object(x.a)(E,2),A=I[0],F=I[1];Object(r.useEffect)((function(){window.scroll(0,0),a.length?(u(t.category),s(c.params.id),O(!1)):n().then((function(e){e.success&&(s(c.params.id),u(t.category),O(!1))}))}),[A]);var M=function(e){P(e)};if(m)return Object(C.jsx)("h1",{children:"LOADING..."});v&&setTimeout((function(){_(null)}),2500);var G=0===t.discount?t.price:((100-t.discount)/100*t.price).toFixed(2),D=t.photo.includes("http")?t.photo:"https://cozydeco.herokuapp.com/".concat(t.photo);return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(B,{}),Object(C.jsxs)("div",{className:me.a.productSection,children:[v&&Object(C.jsx)(S,{productAlert:v,showCartCard:k,editShowCartCard:M}),Object(C.jsxs)("div",{className:me.a.mainContainer,children:[Object(C.jsx)("div",{className:me.a.productImage,style:{backgroundImage:'url("'.concat(D,'")')}}),Object(C.jsxs)("div",{className:me.a.productInfo,children:[Object(C.jsx)("h2",{children:t.name}),Object(C.jsx)("p",{children:t.description}),Object(C.jsxs)("div",{children:[0!==t.discount&&Object(C.jsxs)("p",{className:0!==t.discount?me.a.sale:null,children:["$",t.price]}),Object(C.jsxs)("p",{children:["$",G]})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("i",{className:"far fa-credit-card fa-lg"}),Object(C.jsxs)("p",{className:me.a.interestCard,children:["3 payments of $",(1.1*G/3).toFixed(2)]})]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:me.a.counter,children:[Object(C.jsx)("i",{className:"fas fa-minus",onClick:p>1?function(){return j(p-1)}:null}),Object(C.jsx)("p",{children:p}),Object(C.jsx)("i",{className:"fas fa-plus",onClick:function(){t.stock===p?alert("no hay stock"):j(p+1)}})]}),Object(C.jsx)("button",{onClick:function(){P(!0);var e={product:t,quantity:p};_(e),o(e)},children:"Add to Cart"})]}),Object(C.jsxs)("div",{className:me.a.shippingInfo,children:[Object(C.jsx)("i",{className:"fas fa-truck fa-lg"}),Object(C.jsx)("p",{children:"Free shipping on purchases from 200 dollars or more."})]}),Object(C.jsx)("p",{className:me.a.calculateSend,children:"Calculo de envio - CP"}),Object(C.jsx)(T.a,{style:{padding:"0"},backgroundColor:"#61605e8a",toogleComponent:function(e){return Object(C.jsx)("button",{style:{alignSelf:"center"},onClick:e,children:"Open Cart"})},offsetX:0,offsetY:0,children:function(e){return Object(C.jsx)(R,{onClickHandler:e})}})]})]}),Object(C.jsxs)("div",{className:me.a.suggestionContainer,children:[Object(C.jsx)("h3",{children:"Related Products"}),Object(C.jsx)("div",{className:me.a.suggestion,children:i.map((function(e){if(e._id!==c.params.id)return Object(C.jsx)("div",{onClick:function(){return F(!A)},className:me.a.productCardContainer,children:Object(C.jsx)(w,{setProductAlert:_,product:e,newClass:"newClass",editShowCartCard:M})})}))})]})]})]})})),xe=c(13),ge=c.n(xe),ve={getUsers:function(){return function(){var e=Object(b.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("https://cozydeco.herokuapp.com/api/users",{withCredentials:!0});case 3:if((c=e.sent).data.success){e.next=6;break}return e.abrupt("return",c.data);case 6:return t({type:"GET_USERS",payload:c.data.response}),e.abrupt("return",{success:!0,response:c.data.response});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{success:!1,response:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},manageAdmin:function(e,t,c){return Object(b.a)(j.a.mark((function r(){var a;return j.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,m.a.put("https://cozydeco.herokuapp.com/api/user/admin/manage",{userToChange:e,actionToDo:!c},{headers:{Authorization:"Bearer "+t},withCredentials:!0});case 3:if(!(a=r.sent).data.success){r.next=6;break}return r.abrupt("return",a.data);case 6:r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),console.log(r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))}},_e={getUsers:ve.getUsers,manageAdmin:ve.manageAdmin},ye=Object(u.b)((function(e){return{loginUser:e.users.user}}),_e)((function(e){var t=e.getUsers,c=e.manageAdmin,a=e.loginUser,n=Object(r.useState)([]),s=Object(x.a)(n,2),o=s[0],i=s[1],u=Object(r.useState)(!1),d=Object(x.a)(u,2),l=d[0],p=d[1],h=Object(r.useState)([]),m=Object(x.a)(h,2),O=m[0],f=m[1];Object(r.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:(c=e.sent).success?i(c.response):console.log(c);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[l]);var g=function(){var e=Object(b.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="true"===t.target.dataset.admin,e.next=3,c(t.target.id,a.token,r);case 3:e.sent.success?p(!l):alert("error");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=O.length?O:o;return Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("h2",{children:"User list"}),Object(C.jsxs)("div",{className:ge.a.searchBar,children:[Object(C.jsx)("i",{className:"fas fa-search"}),Object(C.jsx)("input",{type:"text",placeholder:"Search user..",onChange:function(e){var t=o.filter((function(t){return t.eMail.toLowerCase().startsWith(e.target.value.trim().toLowerCase())}));f(t)}})]})]}),Object(C.jsx)("div",{className:ge.a.userContainer,children:v.map((function(e){return Object(C.jsxs)("div",{className:ge.a.userCard,children:[Object(C.jsx)("div",{children:Object(C.jsx)("p",{className:e.admin?ge.a.admin:null,children:e.eMail})}),Object(C.jsx)("div",{children:Object(C.jsx)("button",{onClick:g,"data-admin":e.admin,id:e._id,children:e.admin?"Remove admin":"Give admin"},e.eMail)})]})}))})]})})),Ce={modifyProduct:I.modifyProduct},Ne=Object(u.b)(null,Ce)((function(e){var t=e.modifyProduct,c=e.product,a=e.fetch,n=Object(r.useState)(0),s=Object(x.a)(n,2),i=s[0],u=s[1];Object(r.useEffect)((function(){u(parseInt(c.stock))}),[c]);var d=function(){var e=Object(b.a)(j.a.mark((function e(c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(c.target.id,{stock:i});case 2:e.sent.success?a():alert("Fall\xf3");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{className:ge.a.stockCard,children:[Object(C.jsx)("div",{children:Object(C.jsx)("p",{children:c.name})}),Object(C.jsxs)("div",{className:ge.a.manageStock,children:[Object(C.jsx)("input",{value:i,onChange:function(e){u(parseInt(e.target.value))},type:"number"}),Object(C.jsx)("button",{id:c._id,onClick:d,children:"SET"}),Object(C.jsx)(o.b,{to:"/productform/".concat(c._id),children:Object(C.jsx)("button",{id:c._id,onClick:d,children:"EDIT"})})]})]})})),we={getProducts:I.getProducts},ke=Object(u.b)((function(e){return{products:e.products.products}}),we)((function(e){var t=e.products,c=e.getProducts,a=Object(r.useState)(!1),n=Object(x.a)(a,2),s=n[0],o=n[1];Object(r.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:e.sent.success||alert("Error");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[s]);var i=function(){o(!s)};return Object(C.jsxs)("div",{className:ge.a.stockContainer,children:[Object(C.jsx)("h1",{children:"Stock"}),t.map((function(e){return Object(C.jsx)(Ne,{fetch:i,product:e},e._id)}))]})})),Pe={getProducts:I.getProducts},Se=Object(u.b)((function(e){return{products:e.products.products}}),Pe)((function(e){var t=e.getProducts,c=e.products,a=Object(r.useState)(null),n=Object(x.a)(a,2),s=n[0],o=n[1],i=Object(r.useState)(null),u=Object(x.a)(i,2),d=u[0],l=u[1];Object(r.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:e.sent.success||alert("Error");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();0===c.length&&e()}),[]);var p=function(e,t){return e+t};return Object(r.useEffect)((function(){o(c.map((function(e){return e.sold})).reduce(p,0)),l(c.map((function(e){return e.discount>0?e.sold*(e.price*(1-e.discount/100)):e.sold*e.price})).reduce(p,0))}),[c]),Object(C.jsxs)("div",{className:ge.a.statsContainer,children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("i",{className:"fas fa-shopping-cart fa-2x"}),Object(C.jsxs)("p",{children:["Total sales: ",s]})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("i",{className:"fas fa-hand-holding-usd fa-2x"}),Object(C.jsxs)("p",{children:["Total profit: $",d&&d.toFixed(2)]})]})]})})),Ee=function(){return Object(C.jsxs)("div",{className:ge.a.guideContainer,children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("h1",{children:"Admin Control Panel."}),Object(C.jsx)("hr",{}),Object(C.jsxs)("div",{children:[Object(C.jsx)("h3",{children:"In Statistics, you can see the total sales and the total profit."}),Object(C.jsx)("h3",{children:'If you\'re the owner, you have the tab "user list" to give the role of administrator to a user.'}),Object(C.jsx)("h3",{children:"In Manage Stock, any user with the administrator role will be able to edit the stock and information of any product."})]})]}),Object(C.jsx)("div",{children:Object(C.jsx)("h1",{className:ge.a.brand,children:"COZY"})})]})},Ie={logFromSession:f.logFromSession},Te=Object(u.b)((function(e){return{loginUser:e.users.user}}),Ie)((function(e){var t=e.loginUser,c=Object(r.useState)({screen:"adminGuide"}),a=Object(x.a)(c,2),n=a[0],s=a[1];return Object(r.useEffect)((function(){document.title="COZY | Admin Dashboard"}),[]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(B,{}),Object(C.jsx)("main",{className:ge.a.adminMain,children:Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:ge.a.topInfo,children:[Object(C.jsxs)("div",{onClick:function(){return s({screen:"statistics"})},children:[Object(C.jsx)("i",{className:"fas fa-sort-amount-up fa-2x"}),Object(C.jsx)("h2",{children:"Statistics"})]}),t.owner&&Object(C.jsxs)("div",{onClick:function(){return s({screen:"user"})},children:[Object(C.jsx)("i",{className:"far fa-user fa-2x"}),Object(C.jsx)("h2",{children:"Users list"})]}),Object(C.jsxs)("div",{onClick:function(){return s({screen:"stock"})},children:[Object(C.jsx)("i",{className:"fas fa-cart-plus fa-2x"}),Object(C.jsx)("h2",{children:"Manage Stock"})]}),Object(C.jsx)(o.b,{to:"/productform/",children:Object(C.jsxs)("div",{children:[Object(C.jsx)("i",{className:"fas fa-pen fa-lg"}),Object(C.jsx)("h2",{children:"Add Product"})]})})]}),Object(C.jsx)("hr",{}),Object(C.jsxs)("div",{className:ge.a.midInfo,children:["adminGuide"===n.screen&&Object(C.jsx)(Ee,{}),"statistics"===n.screen&&Object(C.jsx)(Se,{}),"user"===n.screen&&Object(C.jsx)(ye,{}),"stock"===n.screen&&Object(C.jsx)(ke,{})]})]})})]})})),Ae=c(72),Fe=c(9),Me=c.n(Fe),Ge=function(e){var t=e.description,c=e.total,a=(e.order,e.addNewOrderHandler),n=Object(r.useRef)();return Object(r.useEffect)((function(){window.myButton&&window.myButton.close(),window.myButton=window.paypal.Buttons({createOrder:function(e,r,a){return r.order.create({intent:"CAPTURE",purchase_units:[{description:t,amount:{value:c,currency_code:"USD"}}]})},onApprove:function(){var e=Object(b.a)(j.a.mark((function e(t,c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.order.capture();case 2:console.log("entra a on aprove"),a();case 4:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),onError:function(e){alert("Hubo un error!"),console.log(e)}}),window.myButton.render(n.current)})),Object(C.jsx)("div",{ref:n})},Re=c(69);c(109);function De(e){var t=Object(r.useState)(void 0),c=Object(x.a)(t,2),a=c[0],n=c[1],s=function(e,t){var c=Object(r.useState)({}),a=Object(x.a)(c,2),n=a[0],s=a[1];return Object(r.useEffect)((function(){var c=document.createElement("script");return c.src=e,c.async=!0,c.onload=function(){return s(Object(Y.a)({},t,window[t]))},document.body.appendChild(c),function(){document.body.removeChild(c)}}),[e]),n}("https://sdk.mercadopago.com/js/v2","MercadoPago"),o=s.MercadoPago,i={id:"form-checkout",cardholderName:{id:"form-checkout__cardholderName",placeholder:"Titular de la tarjeta"},cardholderEmail:{id:"form-checkout__cardholderEmail",placeholder:"E-mail"},cardNumber:{id:"form-checkout__cardNumber",placeholder:"N\xfamero de la tarjeta"},cardExpirationMonth:{id:"form-checkout__cardExpirationMonth",placeholder:"Mes de vencimiento"},cardExpirationYear:{id:"form-checkout__cardExpirationYear",placeholder:"A\xf1o de vencimiento"},securityCode:{id:"form-checkout__securityCode",placeholder:"C\xf3digo de seguridad"},installments:{id:"form-checkout__installments",placeholder:"Cuotas"},identificationType:{id:"form-checkout__identificationType",placeholder:"Tipo de documento"},identificationNumber:{id:"form-checkout__identificationNumber",placeholder:"N\xfamero de documento"},issuer:{id:"form-checkout__issuer",placeholder:"Banco emisor"}};return Object(r.useEffect)((function(){if(o)var t=new o("TEST-17812741-dd00-4207-b735-b9d1d47d8d96").cardForm({amount:e,autoMount:!0,form:i,callbacks:{onFormMounted:function(e){if(e)return console.warn("Form Mounted handling error: ",e)},onSubmit:function(c){c.preventDefault();var r=t.getCardFormData(),a=r.paymentMethodId,s=r.issuerId,o=r.cardholderEmail,i=(r.amount,r.token),u=r.installments,d=r.identificationNumber,l=r.identificationType;fetch("https://cozydeco.herokuapp.com/api/process-payment",{method:"POST",headers:{"Access-Control-Allow-Origin":"*","Access-Control-Request-Method":"GET, POST, DELETE, PUT, OPTIONS","Content-Type":"application/json"},body:JSON.stringify({token:i,issuer_id:s,payment_method_id:a,transaction_amount:parseInt(e),installments:Number(u),description:"Descripci\xf3n del producto",payer:{email:o,identification:{type:l,number:d}}})}).then((function(e){return e.json()})).then((function(e){return n(e)})).catch((function(e){return n(e)}))},onFetching:function(e){var t=document.querySelector(".progress-bar");return t.removeAttribute("value"),function(){return t.setAttribute("value","0")}}}})}),[o]),a}var Ue=c(49),qe=c.n(Ue),Be={cvc:"",cardExpirationMonth:"",cardExpirationYear:"",focus:"cardNumber",cardholderName:"",cardNumber:"",issuer:""};function Le(e){var t,c=e.total,a=e.addNewOrderHandler,n=e.catchMercadoPagoErr,s=Object(r.useState)(Be),o=Object(x.a)(s,2),i=o[0],u=o[1],d=De(c),p=function(e){u(Object(l.a)(Object(l.a)({},i),{},Object(Y.a)({},e.target.dataset.name||e.target.name,e.target.value)))},j=function(e){u(Object(l.a)(Object(l.a)({},i),{},{focus:e.target.dataset.name||e.target.name}))};return Object(C.jsxs)("div",{className:qe.a.container,children:[Object(C.jsx)(Re.a,{cvc:i.cvc,expiry:i.cardExpirationMonth+i.cardExpirationYear,name:i.cardholderName,number:i.cardNumber,focused:i.focus,brand:i.issuer}),Object(C.jsxs)("form",{c:!0,id:"form-checkout",children:[Object(C.jsx)("div",{className:"form-control",children:Object(C.jsx)("input",{type:"tel",name:"cardNumber",id:"form-checkout__cardNumber",onChange:p,onFocus:j})}),Object(C.jsxs)("div",{className:"form-control",children:[Object(C.jsx)("input",{type:"tel",name:"cardExpirationMonth",id:"form-checkout__cardExpirationMonth",onChange:p,onFocus:j}),Object(C.jsx)("input",{type:"tel",name:"cardExpirationYear",id:"form-checkout__cardExpirationYear",onChange:p,onFocus:j}),Object(C.jsx)("input",{type:"tel",name:"cvc",id:"form-checkout__securityCode",onChange:p,onFocus:j})]}),Object(C.jsxs)("div",{className:"form-control",children:[Object(C.jsx)("input",{type:"text",name:"cardholderName",id:"form-checkout__cardholderName",onChange:p,onFocus:j}),Object(C.jsx)("input",{type:"email",name:"cardholderEmail",id:"form-checkout__cardholderEmail",onFocus:j})]}),Object(C.jsxs)("div",{className:"form-control",children:[Object(C.jsx)("select",{name:"issuer",id:"form-checkout__issuer",on:!0}),Object(C.jsx)("select",{name:"identificationType",id:"form-checkout__identificationType"})]}),Object(C.jsx)("div",{className:"form-control",children:Object(C.jsx)("input",{type:"text",name:"identificationNumber",id:"form-checkout__identificationNumber"})}),Object(C.jsx)("div",{className:"form-control",children:Object(C.jsx)("select",{name:"installments",id:"form-checkout__installments"})}),Object(C.jsx)("div",{className:"form-control",children:Object(C.jsx)("button",{className:qe.a.checkOut,type:"submit",id:"form-checkout__submit",children:"Make the Payment"})}),Object(C.jsx)("progress",{value:"0",className:"progress-bar",children:"Cargando..."})]}),d&&(t=d,void("approved"===t.status?(console.log("aprobado"),a()):(console.log("rechazado"),n())))]})}var ze=c(34),Ye=c.n(ze),He=function(e){var t=e.products,c=e.total;return Object(C.jsxs)("div",{className:Ye.a.sideProducts,children:[Object(C.jsx)("h2",{children:"Shopping Cart "}),t.map((function(e){return Object(C.jsxs)("div",{className:Ye.a.productInCart,children:[Object(C.jsx)("div",{className:Ye.a.productCartPhoto,style:{backgroundImage:'url("'.concat(e.product.photo.includes("http")?e.product.photo:"http://localhost:4000/".concat(e.product.photo),'")')}}),Object(C.jsxs)("div",{className:Ye.a.productCartInfo,children:[Object(C.jsx)(o.b,{to:"product/".concat(e.product._id),children:Object(C.jsx)("h5",{children:e.product.name})}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("p",{children:[e.quantity," u. X $",0===e.product.discount?e.product.price:((100-e.product.discount)/100*e.product.price).toFixed(2)]}),Object(C.jsxs)("p",{children:["Subtotal $",Object(C.jsxs)("span",{children:[((0===e.product.discount?e.product.price:(100-e.product.discount)/100*e.product.price)*e.quantity).toFixed(2)," "]})]})]})]})]},e.product._id)})),Object(C.jsxs)("div",{className:Ye.a.totalPrice,children:[Object(C.jsxs)("p",{children:["Total Price ",Object(C.jsxs)("span",{children:["$",c]})]}),Object(C.jsx)(o.b,{to:"/products",children:Object(C.jsx)("button",{children:"Edit Cart"})})]})]})},Ve={manageUser:f.manageUser,addNewOrder:y.addNewOrder,getProducts:I.getProducts,addCard:y.addCard,getCard:y.getCard,editCard:y.editCard,deleteAllCartProduct:y.deleteAllCartProduct},$e=Object(u.b)((function(e){return{products:e.cart.products,loginUser:e.users.user}}),Ve)((function(e){var t=e.loginUser,c=e.products,a=e.manageUser,n=e.getProducts,s=e.editCard,o=e.addNewOrder,i=e.history,u=e.addCard,d=e.getCard,p=e.deleteAllCartProduct,j=Object(r.useState)(!1),b=Object(x.a)(j,2),h=b[0],m=b[1],O=Object(r.useState)(null),f=Object(x.a)(O,2),g=f[0],v=f[1],_=Object(r.useState)(null),y=Object(x.a)(_,2),N=y[0],w=y[1],k=Object(r.useState)(!0),P=Object(x.a)(k,2),S=P[0],E=P[1],I=Object(r.useState)(!1),T=Object(x.a)(I,2),A=T[0],F=T[1],M=Object(r.useState)(!0),G=Object(x.a)(M,2),R=G[0],D=G[1],U=Object(r.useState)(null),q=Object(x.a)(U,2),L=q[0],z=q[1],H=Object(r.useState)({type:null,enable:!1}),V=Object(x.a)(H,2),$=V[0],K=V[1],J=Object(r.useState)({zipCode:"",number:"",city:"",street:"",phone:"",dni:"",firstName:t.firstName,lastName:t.lastName,eMail:t.eMail}),Z=Object(x.a)(J,2),X=Z[0],W=Z[1];Object(r.useEffect)((function(){window.scroll(0,0),document.title="COZY | PAYMENT"}),[]);var Q=c.map((function(e){return 0===e.product.discount?e.product.price*e.quantity:(100-e.product.discount)/100*e.product.price*e.quantity})),ee=Object(r.useState)({products:c.map((function(e){return{productId:e.product._id,quantity:e.quantity}})),paymentMethod:{type:"",extraInfo:""},totalPrice:Q.reduce((function(e,t){return e+t}),0).toFixed(2)}),te=Object(x.a)(ee,2),ce=te[0],re=te[1];Object(r.useEffect)((function(e){re(Object(l.a)(Object(l.a)({},ce),{},{totalPrice:Q.reduce((function(e,t){return e+t}),0).toFixed(2)}))}),[c]);var ae=c.filter((function(e){return"GiftCard"===e.product.category}));if(ae.length)var ne=ae.map((function(e){return{balance:e.product.price}}));var se=function(e){W(Object(l.a)(Object(l.a)({},X),{},Object(Y.a)({},e.target.name,e.target.value)))},oe=function(e,t){re(Object(l.a)(Object(l.a)({},ce),{},{paymentMethod:{extraInfo:t?"giftCArd : $".concat(N," - ").concat(e.target.value," : $").concat(le," "):null,type:t?"".concat(ce.paymentMethod.type," - ").concat(e.target.value):e.target.value}})),K(Object(l.a)(Object(l.a)({},$),{},{type:t?"".concat($.type," - ").concat(e.target.value):e.target.value})),t&&m(!0)},ie=function(){(console.log("entre a addneworderHandler"),ne&&u.apply(void 0,Object(Ae.a)(ne)).then((function(e){return console.log(e)})),ce.paymentMethod.extraInfo||"GiftCard"===ce.paymentMethod.type)&&s({balance:de<0?0:de,code:g});o(ce).then((function(e){K(Object(l.a)(Object(l.a)({},$),{},{enable:!1})),p(),n(),i.push("/",{view:!0})}))},ue=new Date,de="number"===typeof N?(N-ce.totalPrice).toFixed(2):null,le=Math.abs(de);return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(B,{viewCart:!0}),Object(C.jsxs)("div",{className:Me.a.gatewayContainer,children:[Object(C.jsxs)("div",{className:Me.a.checkoutInfo,children:[Object(C.jsx)("h1",{onClick:function(){return i.push("/",!0)},children:"Personal Info"}),Object(C.jsxs)("div",{className:Me.a.inputMail,children:[Object(C.jsx)("label",{children:"Email"}),Object(C.jsx)("input",{type:"text",required:!0,name:"eMail",defaultValue:X.eMail,disabled:!0})]}),Object(C.jsxs)("div",{className:Me.a.inputDiv,children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"Name"}),Object(C.jsx)("input",{type:"text",required:!0,name:"firstName",defaultValue:X.firstName,disabled:!0})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"Lastname"}),Object(C.jsx)("input",{type:"text",required:!0,name:"lastName",defaultValue:X.lastName,disabled:!0})]})]}),Object(C.jsxs)("div",{className:Me.a.inputDiv,children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"DNI"}),Object(C.jsxs)("div",{children:[Object(C.jsx)("input",{type:"text",required:!0,name:"dni",defaultValue:X.dni,onChange:se,disabled:A}),Object(C.jsx)("span",{className:Me.a.bar})]})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"Phone Number"}),Object(C.jsxs)("div",{children:[Object(C.jsx)("input",{type:"text",required:!0,name:"phone",defaultValue:X.phone,onChange:se,disabled:A}),Object(C.jsx)("span",{className:Me.a.bar})]})]})]}),Object(C.jsx)("h1",{children:"Shipment Info"}),Object(C.jsxs)("div",{className:Me.a.inputDiv,children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"Adress"}),Object(C.jsxs)("div",{children:[Object(C.jsx)("input",{type:"text",required:!0,name:"street",defaultValue:X.street,onChange:se,disabled:A}),Object(C.jsx)("span",{className:Me.a.bar})]})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"Number:"}),Object(C.jsxs)("div",{children:[Object(C.jsx)("input",{type:"text",required:!0,name:"number",defaultValue:X.number,onChange:se,disabled:A}),Object(C.jsx)("span",{className:Me.a.bar})]})]})]}),Object(C.jsxs)("div",{className:Me.a.inputDiv,children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"City"}),Object(C.jsxs)("div",{children:[Object(C.jsx)("input",{type:"text",required:!0,name:"city",defaultValue:X.city,onChange:se,disabled:A}),Object(C.jsx)("span",{className:Me.a.bar})]})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"Zip Code"}),Object(C.jsxs)("div",{children:[Object(C.jsx)("input",{type:"text",required:!0,name:"zipCode",defaultValue:X.zipCode,onChange:se,disabled:A}),Object(C.jsx)("span",{className:Me.a.bar})]})]})]}),Object(C.jsx)("h1",{children:"Payment"}),Object(C.jsx)("div",{className:Me.a.radioButtons,children:S?Object(C.jsxs)("div",{className:Me.a.switchField,children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("input",{type:"radio",id:"paypal",name:"payMethod",defaultValue:"PayPal",onChange:oe,onClick:function(){return D(!1)},disabled:A}),Object(C.jsx)("label",{for:"paypal",children:"Paypal"})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("input",{type:"radio",id:"mercadopago",name:"payMethod",defaultValue:"MercadoPago",onChange:oe,onClick:function(){return D(!1)},disabled:A}),Object(C.jsx)("label",{for:"mercadopago",children:"Credit/Mercado Pago "})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("input",{type:"radio",id:"giftcard",name:"payMethod",defaultValue:"GiftCard",onChange:oe,onClick:function(){return D(!1)},disabled:A}),Object(C.jsx)("label",{for:"giftcard",children:"Gift Card"})]})]}):Object(C.jsxs)("h2",{children:[ce.paymentMethod.type," "]})}),Object(C.jsx)("button",{className:Me.a.checkOut,disabled:R,onClick:function(){Object.values(X).some((function(e){return""===e}))?z("You need to complete all the fields to continue!"):a(X).then((function(e){e.success?(K(Object(l.a)(Object(l.a)({},$),{},{enable:!0})),F(!0),E(!1),D(!0),z("")):z("The information provided is incorrect!")}))},children:"Checkout Order"}),Object(C.jsx)("p",{className:Me.a.error,children:L}),$.enable&&$.type.includes("GiftCard")&&Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:Me.a.giftCardCode,children:[Object(C.jsx)("label",{children:"Enter your Giftcard Code"}),Object(C.jsxs)("div",{children:[Object(C.jsx)("input",{type:"text",required:!0,name:"giftCardCode",defaultValue:" ",onChange:function(e){v(e.target.value)}}),Object(C.jsx)("span",{className:Me.a.bar})]}),Object(C.jsx)("button",{onClick:function(){d(g).then((function(e){e.success?w(e.res.balance):w("Invalid Giftcard code")}))},children:"Check balance"})]}),"string"===typeof N&&Object(C.jsx)("p",{className:Me.a.error,children:N}),de<0&&Object(C.jsxs)("div",{className:Me.a.paywithGiftC,children:[Object(C.jsxs)("div",{className:Me.a.giftCardText,children:[Object(C.jsxs)("p",{children:["The available amount in your Giftcard is",Object(C.jsxs)("span",{children:[" $",N]})]}),Object(C.jsxs)("p",{children:["The total amount of your order",Object(C.jsxs)("span",{children:[" $",ce.totalPrice]})," is higher than the balance left in your GiftCard"," "]}),Object(C.jsxs)("p",{children:["The remaining amount is"," ",Object(C.jsxs)("span",{children:["$",Math.abs(de)]}),"."]})]}),Object(C.jsxs)("div",{className:Me.a.switchField,children:[Object(C.jsx)("input",{type:"radio",id:"paypal",name:"payMethod",defaultValue:"PayPal",onChange:function(e){return oe(e,"add")},onClick:function(){return D(!1)},disabled:h}),Object(C.jsx)("label",{for:"paypal",children:"Paypal"}),Object(C.jsx)("input",{type:"radio",id:"mercadopago",name:"payMethod",defaultValue:"MercadoPago",onChange:function(e){return oe(e,"add")},onClick:function(){return D(!1)},disabled:h}),Object(C.jsx)("label",{for:"mercadopago",children:"Credit/Debit Card"})]})]}),de>0&&Object(C.jsxs)("div",{className:Me.a.paywithGiftC,children:[Object(C.jsxs)("div",{className:Me.a.giftCardText,children:[Object(C.jsxs)("p",{children:["The available amount in your Giftcard is",Object(C.jsxs)("span",{children:[" $",N]})]}),Object(C.jsxs)("p",{children:["The total amount of your order is",Object(C.jsxs)("span",{children:[" $",ce.totalPrice]})]}),Object(C.jsxs)("p",{children:["You have a remaining balance of"," ",Object(C.jsxs)("span",{children:["$",de]})]})]}),Object(C.jsx)("button",{className:Me.a.checkOut,onClick:ie,children:"pagar"})]})]}),$.enable&&$.type.includes("PayPal")&&Object(C.jsx)(Ge,{description:"Cozy  ".concat(ue.toLocaleDateString()),total:h?le:ce.totalPrice,order:ce,info:X,addNewOrderHandler:ie}),$.enable&&$.type.includes("MercadoPago")&&Object(C.jsx)(Le,{addNewOrderHandler:ie,total:h?String(le):ce.totalPrice,catchMercadoPagoErr:function(){K(Object(l.a)(Object(l.a)({},$),{},{enable:!1})),F(!1),D(!1),E(!0),alert("We were unable to process the payment, please try again, or choose another payment method. ")}})]}),Object(C.jsx)(He,{products:c,total:ce.totalPrice})]})]})})),Ke={logFromSession:f.logFromSession,addCartLS:y.addCartLS},Je=Object(u.b)((function(e){return{loginUser:e.users.user}}),Ke)((function(e){var t=e.loginUser,c=e.logFromSession,a=e.addCartLS;e.history;return Object(r.useEffect)((function(){t||c(),localStorage.getItem("cart")&&a(JSON.parse(localStorage.getItem("cart")))}),[]),Object(C.jsxs)(o.a,{children:[Object(C.jsx)(d.a,{}),Object(C.jsxs)(i.d,{children:[Object(C.jsx)(i.b,{exact:!0,path:"/",component:le}),!t&&Object(C.jsx)(i.b,{path:"/signin",component:X}),!t&&Object(C.jsx)(i.b,{path:"/signup",component:Q}),Object(C.jsx)(i.b,{exact:!0,path:"/products",component:z}),Object(C.jsx)(i.b,{path:"/products/:category",component:z}),Object(C.jsx)(i.b,{path:"/product/:id",component:fe}),Object(C.jsx)(i.b,{exact:!0,path:"/productform",component:t&&t.admin?K:le}),Object(C.jsx)(i.b,{path:"/productform/:id",component:t&&t.admin?K:le}),t&&t.admin&&Object(C.jsx)(i.b,{path:"/admin",component:Te}),t&&Object(C.jsx)(i.b,{path:"/payment",component:$e}),Object(C.jsx)(i.a,{to:"/"})]}),Object(C.jsx)(be,{})]})})),Ze=c(36),Xe=c(70),We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_IN_USER":return{user:Object(l.a)({},t.payload)};case"LOG_OUT":return{user:null};default:return e}},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[],productsCategory:[],product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_PRODUCTS":return Object(l.a)(Object(l.a)({},e),{},{products:t.payload,productsCategory:t.payload.filter((function(e){return e.stock>0}))});case"GET_PRODUCT":return Object(l.a)(Object(l.a)({},e),{},{product:t.payload});case"FIND_A_PRODUCT":return Object(l.a)(Object(l.a)({},e),{},{product:e.products.find((function(e){return e._id===t.payload}))});case"GET_ALL":return Object(l.a)(Object(l.a)({},e),{},{productsCategory:e.products.filter((function(e){return e.stock>0}))});case"GET_BY_CATEGORY":return Object(l.a)(Object(l.a)({},e),{},{productsCategory:"sale"!==t.payload?e.products.filter((function(e){return e.category===t.payload&&e.stock>0})):e.products.filter((function(e){return 0!==e.discount&&e.stock>0}))});default:return e}},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0,c=null;switch(t.type){case"ADD_CART_PRODUCT":var r=e.products.find((function(e){return e.product._id===t.payload.product._id}));return c=r?e.products.map((function(e){return e.product._id===t.payload.product._id?Object(l.a)(Object(l.a)({},e),{},{quantity:e.quantity+t.payload.quantity}):e})):e.products.concat(t.payload),localStorage.setItem("cart",JSON.stringify(c)),{products:r?e.products.map((function(e){return e.product._id===t.payload.product._id?Object(l.a)(Object(l.a)({},e),{},{quantity:e.quantity+t.payload.quantity}):e})):e.products.concat(t.payload)};case"DELETE_ONE_CART_PRODUCT":return c=e.products.filter((function(e){return e.product._id!==t.payload})),localStorage.setItem("cart",JSON.stringify(c)),{products:e.products.filter((function(e){return e.product._id!==t.payload}))};case"UPDATE_CART_PRODUCT":return c=e.products.map((function(e){return e.product._id===t.payload.product._id?Object(l.a)(Object(l.a)({},e),{},{quantity:t.payload.quantity}):e})),localStorage.setItem("cart",JSON.stringify(c)),{products:e.products.map((function(e){return e.product._id===t.payload.product._id?Object(l.a)(Object(l.a)({},e),{},{quantity:t.payload.quantity}):e}))};case"ADD_CART_LS":return{products:t.payload};case"DELETE_CART":return localStorage.removeItem("cart"),{products:[]};default:return e}},tt=Object(Ze.b)({users:We,products:Qe,cart:et}),ct=Object(Ze.c)(tt,Object(Ze.a)(Xe.a));s.a.render(Object(C.jsx)(u.a,{store:ct,children:Object(C.jsx)(Je,{})}),document.getElementById("root"))},13:function(e,t,c){e.exports={adminMain:"Admin_adminMain__1gcZR",topInfo:"Admin_topInfo__bEnTf",midInfo:"Admin_midInfo__5YMgE",searchBar:"Admin_searchBar__1lflP",userContainer:"Admin_userContainer__2Ti3G",statsContainer:"Admin_statsContainer__3F4iK",userCard:"Admin_userCard__2kWQn",stockCard:"Admin_stockCard__MwAqp",manageStock:"Admin_manageStock__2_ojq",admin:"Admin_admin__2w2li",stockContainer:"Admin_stockContainer__12J2-",guideContainer:"Admin_guideContainer__1ucfU",brand:"Admin_brand__3JMKa"}},15:function(e,t,c){e.exports={productsGallery:"ProductsGallery_productsGallery__1TFsx",productsCards:"ProductsGallery_productsCards__39kwc",wrapper:"ProductsGallery_wrapper__3UNVU",container:"ProductsGallery_container__1jO5D",top:"ProductsGallery_top__127m1",bottom:"ProductsGallery_bottom__2m017",nameAndPrice:"ProductsGallery_nameAndPrice__3X_UT",cardButtons:"ProductsGallery_cardButtons__qVQfC",fas:"ProductsGallery_fas__2_Vr1",inside:"ProductsGallery_inside__1mAJF",icon:"ProductsGallery_icon__2K-YW",newClass:"ProductsGallery_newClass__3dMqW",sale:"ProductsGallery_sale__3CXNT",filterContainer:"ProductsGallery_filterContainer__7Xa9f",inputContainer:"ProductsGallery_inputContainer__1zg3l"}},17:function(e,t,c){e.exports={cartContainer:"Cart_cartContainer__1-bxf",cartContainerHeader:"Cart_cartContainerHeader__11sJn",productCartPhoto:"Cart_productCartPhoto__3y0_J",cartContainerMain:"Cart_cartContainerMain__1NdBI",divPrice:"Cart_divPrice__2W9rG",divSpan:"Cart_divSpan__2_B1Z",divButton:"Cart_divButton__1q7ak",productInCart:"Cart_productInCart__22mk0",productCartInfo:"Cart_productCartInfo__3TBmF",counter:"Cart_counter__2GXMO",warning:"Cart_warning__nGOLl",warningButton:"Cart_warningButton__1apYT"}},22:function(e,t,c){e.exports={productSection:"Product_productSection__EMq02",mainContainer:"Product_mainContainer__2ihrJ",productImage:"Product_productImage__15Dvw",productInfo:"Product_productInfo__28nRk",shippingInfo:"Product_shippingInfo__v2L86",suggestionContainer:"Product_suggestionContainer__3nHCx",suggestion:"Product_suggestion__Cdh7A",productCardContainer:"Product_productCardContainer__34JXb",counter:"Product_counter__23kxa","sc-bdfBQB":"Product_sc-bdfBQB__3vAff",efwhzj:"Product_efwhzj__1dilf",interestCard:"Product_interestCard__C3gvd",calculateSend:"Product_calculateSend__2McgV",sale:"Product_sale__crGYY","fa-plus":"Product_fa-plus__3bLvZ","fa-minus":"Product_fa-minus__1BLWH","fa-trash-alt":"Product_fa-trash-alt__uAWwR"}},23:function(e,t,c){e.exports={footer:"Footer_footer__1O20_",socialNetworks:"Footer_socialNetworks___MRON",infoContact:"Footer_infoContact__3lIr4",iconSocial:"Footer_iconSocial__3BRSa",iconFooter:"Footer_iconFooter__3befA",iconContact:"Footer_iconContact__31z3o",iconResponsive:"Footer_iconResponsive__1-iiF"}},24:function(e,t,c){e.exports={iconsMenu:"MenuResponsive_iconsMenu__1nNQd",menu:"MenuResponsive_menu__1e5XJ",userMenu:"MenuResponsive_userMenu__22pnr",menu1:"MenuResponsive_menu1__wS6K7",menu2:"MenuResponsive_menu2__1uw7I",itemResponsive:"MenuResponsive_itemResponsive__117sg",iconItem:"MenuResponsive_iconItem__Leig-"}},25:function(e,t,c){e.exports={home:"Home_home__YwGDK",homeStore:"Home_homeStore__1Ts2x",categories:"Home_categories__2zigw",galleryWrap:"Home_galleryWrap__CpF82",textButton:"Home_textButton__3hU8R",quote:"Home_quote__1aV7h",info:"Home_info__1BFVP",infoContainer:"Home_infoContainer__2tKE_",fondoInfo:"Home_fondoInfo__2-CUA",infoItem:"Home_infoItem__3G1kt"}},26:function(e,t,c){e.exports={formContainer:"ProductForm_formContainer__1XldU",mainForm:"ProductForm_mainForm__3XltR",picture:"ProductForm_picture__1f5J8",productPic:"ProductForm_productPic__52_Ck",productForm:"ProductForm_productForm__2GFQb",price:"ProductForm_price__3ikQY",saleInput:"ProductForm_saleInput__u7C4D",saleRadios:"ProductForm_saleRadios__3Z0SY",formButton:"ProductForm_formButton__3P0eX"}},30:function(e,t,c){e.exports={hideCard:"CartCard_hideCard__11m6H",showCard:"CartCard_showCard__tG4gd",cartCard:"CartCard_cartCard__2wavj",topToast:"CartCard_topToast__1rqgA",infoCart:"CartCard_infoCart__30ABV",bold:"CartCard_bold__1nK-C",total:"CartCard_total__2-YP4",close:"CartCard_close__3h-YL",buttonContainer:"CartCard_buttonContainer__2Cxjw"}},34:function(e,t,c){e.exports={sideProducts:"SideProducts_sideProducts__1S3NR",productInCart:"SideProducts_productInCart__3v6fU",productCartInfo:"SideProducts_productCartInfo__1aBLT",productCartPhoto:"SideProducts_productCartPhoto__2FLX0",totalPrice:"SideProducts_totalPrice__1Ir8y"}},43:function(e,t,c){e.exports={button1:"Button1_button1__KkYYx",buttonContent:"Button1_buttonContent__1uDaF",accent:"Button1_accent__2wz6a"}},49:function(e,t,c){e.exports={container:"MercadoPagoForm_container__Skthw",checkOut:"MercadoPagoForm_checkOut__2XOmR"}},60:function(e,t,c){},80:function(e,t,c){},9:function(e,t,c){e.exports={gatewayContainer:"PaymentGateway_gatewayContainer__1EZtk",checkoutInfo:"PaymentGateway_checkoutInfo__Sud6m",inputMail:"PaymentGateway_inputMail__3FRHH",inputDiv:"PaymentGateway_inputDiv__1D1GE",giftCardCode:"PaymentGateway_giftCardCode__ZmQ5D",checkOut:"PaymentGateway_checkOut__1er1i",error:"PaymentGateway_error__19mKx",giftCardText:"PaymentGateway_giftCardText__E_B1K",paywithGiftC:"PaymentGateway_paywithGiftC__ET85F",bar:"PaymentGateway_bar__lZe7U",radioButtons:"PaymentGateway_radioButtons__1UsDI",switchField:"PaymentGateway_switchField__4SrSD"}}},[[110,1,2]]]);
//# sourceMappingURL=main.1160358e.chunk.js.map