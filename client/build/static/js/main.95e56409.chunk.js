(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{104:function(e,t,c){"use strict";c.r(t);var r=c(1),a=c.n(r),n=c(33),s=c.n(n),o=(c(75),c(5)),i=c(10),u=c(7),d=c(69),l=c(4),p=c(2),j=c.n(p),b=c(6),h=c(11),m=c.n(h),f={signUp:function(e){return function(){var t=Object(b.a)(j.a.mark((function t(c){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.post("https://cozydeco.herokuapp.com/api/user/register",e,{withCredentials:!0});case 3:if((r=t.sent).data.success){t.next=6;break}return t.abrupt("return",r.data);case 6:return c({type:"LOG_IN_USER",payload:r.data.response}),t.abrupt("return",{success:!0,response:r.data.response});case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",{success:!1,response:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},logFromSession:function(){return function(){var e=Object(b.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("https://cozydeco.herokuapp.com/api/user/validate",{withCredentials:!0});case 3:if((c=e.sent).data.success){e.next=6;break}throw new Error(c.data.response);case 6:t({type:"LOG_IN_USER",payload:c.data.response}),e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(0),t({type:"LOG_OUT"}),e.next=14,m.a.get("https://cozydeco.herokuapp.com/api/user/logout");case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},logIn:function(e){return function(){var t=Object(b.a)(j.a.mark((function t(c){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.post("https://cozydeco.herokuapp.com/api/user/login",e,{withCredentials:!0});case 3:if((r=t.sent).data.success){t.next=6;break}throw new Error(r.data.response);case 6:return c({type:"LOG_IN_USER",payload:r.data.response}),t.abrupt("return",{success:!0,response:r.data.response});case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",{success:!1,response:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},logOut:function(){return function(){var e=Object(b.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("https://cozydeco.herokuapp.com/api/user/logout",{withCredentials:!0});case 3:if((c=e.sent).data.success){e.next=6;break}throw new Error(c.data.response);case 6:t({type:"LOG_OUT"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},manageUser:function(e){return function(){var t=Object(b.a)(j.a.mark((function t(c){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.put("https://cozydeco.herokuapp.com/api/user/manage",Object(l.a)({},e),{withCredentials:!0});case 3:if((r=t.sent).data.success){t.next=6;break}throw new Error(r.data.response);case 6:return t.abrupt("return",{success:!0});case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",{success:!1});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},O=f,x=c(3),g=c(14),v=c.n(g),_={addCartProduct:function(e){return function(t){t({type:"ADD_CART_PRODUCT",payload:e})}},deleteACartProduct:function(e){return function(t){t({type:"DELETE_ONE_CART_PRODUCT",payload:e})}},updateCartProduct:function(e){return function(t){return t({type:"UPDATE_CART_PRODUCT",payload:e}),{success:!0}}},deleteAllCartProduct:function(){return function(e){e({type:"DELETE_CART"})}},addCartLS:function(e){return function(){var t=Object(b.a)(j.a.mark((function t(c){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:"ADD_CART_LS",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},addNewOrder:function(e){return function(){var t=Object(b.a)(j.a.mark((function t(c){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.post("https://cozydeco.herokuapp.com/api/order/new",Object(l.a)({},e),{withCredentials:!0});case 3:if((r=t.sent).data.success){t.next=6;break}throw new Error(r.data.response);case 6:return t.abrupt("return",{success:!0});case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",{success:!1,res:t.t0});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},addCard:function(e){return function(){var t=Object(b.a)(j.a.mark((function t(c){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.post("https://cozydeco.herokuapp.com/api/cards",Object(l.a)({},e),{withCredentials:!0});case 3:if((r=t.sent).data.success){t.next=6;break}throw new Error(r.data.response);case 6:return t.abrupt("return",{success:!0});case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",{success:!1,res:t.t0});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},getCard:function(e){return function(){var t=Object(b.a)(j.a.mark((function t(c){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.get("https://cozydeco.herokuapp.com/api/card/".concat(e),{withCredentials:!0});case 3:if((r=t.sent).data.success){t.next=6;break}throw new Error;case 6:return t.abrupt("return",{success:!0,res:r.data.response});case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",{success:!1,res:t.t0});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},editCard:function(e){return function(){var t=Object(b.a)(j.a.mark((function t(c){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.put("https://cozydeco.herokuapp.com/api/card/".concat(e.code),Object(l.a)({},e),{withCredentials:!0});case 3:if((r=t.sent).data.success){t.next=6;break}throw new Error;case 6:return t.abrupt("return",{success:!0,res:r.data.response});case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",{success:!1,res:t.t0});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},C=_,y=c(0),N={addCartProduct:C.addCartProduct},w=Object(u.b)((function(e){return{user:e.users.user}}),N)((function(e){var t,c=e.product,a=e.editShowCartCard,n=e.setProductAlert,s=e.addCartProduct,i=e.user,u=e.newClass,d=Object(r.useState)(null),l=Object(x.a)(d,2),p=l[0],j=l[1];Object(r.useEffect)((function(){i&&j(i.admin)}),[]);var b=(null===(t=c.photo)||void 0===t?void 0:t.includes("http"))?c.photo:"https://cozydeco.herokuapp.com/".concat(c.photo);return Object(y.jsxs)("div",{className:v.a.wrapper,children:[Object(y.jsxs)("div",{className:v.a.container,children:[Object(y.jsx)(o.b,{to:"/product/".concat(c._id),children:Object(y.jsx)("div",{className:v.a.top,style:{backgroundImage:'url("'.concat(b,'")')}})}),Object(y.jsxs)("div",{className:v.a.bottom,children:[Object(y.jsxs)("div",{className:v.a.nameAndPrice,children:[Object(y.jsx)("h1",{children:c.name}),Object(y.jsxs)("div",{children:[Object(y.jsxs)("p",{className:0!==c.discount?v.a.sale:null,children:["$",c.price]}),0!==c.discount&&Object(y.jsxs)("p",{children:["$",((100-c.discount)/100*c.price).toFixed(2)]})]})]}),Object(y.jsxs)("div",{className:v.a.cardButtons,children:[!p&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("i",{className:"fas fa-cart-plus fa-lg",onClick:function(){var e={product:c,quantity:1};n(e),a(!0),s(e)}}),Object(y.jsx)(o.b,{to:"/product/".concat(c._id),children:Object(y.jsx)("i",{className:"fas fa-eye fa-lg"})})]}),p&&Object(y.jsx)(o.b,{to:"/productform/".concat(c._id),children:Object(y.jsx)("i",{className:"fas fa-pen fa-lg"})})]})]})]}),0!==c.discount&&Object(y.jsx)("div",{className:v.a.inside,children:Object(y.jsx)("div",{className:u?v.a.newClass:v.a.icon,children:u?"- ".concat(c.discount,"%"):"".concat(c.discount,"% OFF")})})]})})),k=c(29),P=c.n(k),S=function(e){var t=e.productAlert,c=e.showCartCard,r=e.editShowCartCard,a=t.product.photo.includes("http")?t.product.photo:"https://cozydeco.herokuapp.com/".concat(t.product.photo);return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{className:c?P.a.showCard:P.a.hideCard,children:Object(y.jsxs)("div",{className:P.a.cartCard,children:[Object(y.jsxs)("div",{className:P.a.topToast,children:[Object(y.jsx)("div",{children:Object(y.jsx)("div",{style:{backgroundImage:"url(".concat(a,")"),width:"70px",height:"70px",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},className:"h-4 w-4 rounded-full"})}),Object(y.jsxs)("div",{className:P.a.infoCart,children:[Object(y.jsx)("p",{children:t.product.name}),Object(y.jsxs)("p",{children:[t.quantity," x $",t.product.price]}),Object(y.jsx)("p",{className:"bold",children:"Successfully added to cart!"})]}),Object(y.jsx)("div",{className:"close",children:Object(y.jsx)("i",{onClick:function(){return r(!1)},className:"fas fa-times"})})]}),Object(y.jsxs)("div",{className:P.a.total,children:[Object(y.jsxs)("p",{children:["Total (",t.quantity,"product):"]}),Object(y.jsxs)("p",{children:["$ ",t.product.price]})]})]})})})},E={getProducts:function(){return function(){var e=Object(b.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("https://cozydeco.herokuapp.com/api/products",{},{withCredentials:!0});case 3:return c=e.sent,t({type:"GET_ALL_PRODUCTS",payload:c.data.response}),e.abrupt("return",{success:!0,res:c.data.response});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1,res:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},addProduct:function(e){return function(){var t=Object(b.a)(j.a.mark((function t(c){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.post("https://cozydeco.herokuapp.com/api/product/add",e,{withCredentials:!0});case 3:if(!(r=t.sent).data.success){t.next=9;break}return c({type:"ADD_PRODUCT",payload:r.data.respose}),t.abrupt("return",r);case 9:throw new Error(r.data.response);case 10:t.next=15;break;case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",{success:!1,response:t.t0});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},getAProduct:function(e){return function(){var t=Object(b.a)(j.a.mark((function t(c){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.get("https://cozydeco.herokuapp.com/api/product/".concat(e));case 3:return r=t.sent,c({type:"GET_PRODUCT",payload:r.data.response}),t.abrupt("return",{success:!0,res:r.data.response});case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",{success:!1,res:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},findAProduct:function(e){return function(t){t({type:"FIND_A_PRODUCT",payload:e})}},modifyProduct:function(e,t){return Object(b.a)(j.a.mark((function c(){return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,m.a.put("https://cozydeco.herokuapp.com/api/product/".concat(e),t,{withCredentials:!0});case 3:if(c.sent.data.success){c.next=6;break}throw new Error("Error trying to modify the stock");case 6:return c.abrupt("return",{success:!0});case 9:return c.prev=9,c.t0=c.catch(0),c.abrupt("return",{success:!1});case 12:case"end":return c.stop()}}),c,null,[[0,9]])})))},getProductByCategory:function(e){return function(t){t({type:e?"GET_BY_CATEGORY":"GET_ALL",payload:e})}}},I=E,A={getProducts:I.getProducts,getProductByCategory:I.getProductByCategory},T=Object(u.b)((function(e){return{products:e.products.products,productsCategory:e.products.productsCategory}}),A)((function(e){var t=e.products,c=e.getProducts,a=e.productsCategory,n=e.match,s=e.getProductByCategory,i=Object(r.useState)(!1),u=Object(x.a)(i,2),d=u[0],p=u[1],j=Object(r.useState)(null),b=Object(x.a)(j,2),h=b[0],m=b[1],f=Object(r.useState)(null),O=Object(x.a)(f,2),g=O[0],_=O[1],C=Object(r.useState)({category:null,subcategory:null}),N=Object(x.a)(C,2),k=N[0],P=N[1];Object(r.useEffect)((function(){window.scroll(0,0),document.title="COZY | STORE",t.length?s(n.params.category):c(),n.params.category?P({category:n.params.category,subcategory:null}):P({category:null,subcategory:null})}),[n.params]),g||a.sort((function(e,t){return e.stock-t.stock}));var E=function(e){p(e)};h&&setTimeout((function(){m(null)}),2500);var I=k.subcategory?a.filter((function(e){return e.subcategory===k.subcategory})):a,A=function(e){P(Object(l.a)(Object(l.a)({},k),{},{subcategory:e.target.value}))};return Object(y.jsxs)("div",{className:v.a.productsGallery,children:[h&&Object(y.jsx)(S,{productAlert:h,showCartCard:d,editShowCartCard:E}),Object(y.jsx)("div",{className:v.a.productsCards,children:I.map((function(e){return Object(y.jsx)(w,{product:e,editShowCartCard:E,setProductAlert:m},e._id)}))}),Object(y.jsxs)("div",{className:v.a.filterContainer,children:[Object(y.jsxs)("div",{className:v.a.inputContainer,children:[Object(y.jsx)("div",{children:Object(y.jsx)(o.b,{to:"/products",children:"All products"})}),Object(y.jsxs)("div",{children:[Object(y.jsx)(o.b,{to:"/products/Kitchenware",children:"Kitchenware"}),"Kitchenware"===k.category&&Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{type:"button",value:"Accesories",onClick:A}),Object(y.jsx)("input",{type:"button",value:"Glassware",onClick:A}),Object(y.jsx)("input",{type:"button",value:"Tableware",onClick:A})]})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)(o.b,{to:"/products/Bathroom",children:"Bathroom"}),"Bathroom"===k.category&&Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{type:"button",value:"Accesories",onClick:A}),Object(y.jsx)("input",{type:"button",value:"Mirrors",onClick:A})]})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)(o.b,{to:"/products/Decor",children:"Decor"}),"Decor"===k.category&&Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{type:"button",value:"Accesories",onClick:A}),Object(y.jsx)("input",{type:"button",value:"Home",onClick:A}),Object(y.jsx)("input",{type:"button",value:"Lighting",onClick:A})]})]}),Object(y.jsx)("div",{children:Object(y.jsx)(o.b,{to:"/products/GiftCard",children:"GitfCard"})}),Object(y.jsx)("div",{children:Object(y.jsxs)("select",{onChange:function(e){"relevant"!==e.target.value?a.sort((function(t,c){return"minor"===e.target.value?t.price-c.price:c.price-t.price})):a.sort((function(e,t){return e.stock-t.stock})),_(e.target.value)},children:[Object(y.jsx)("option",{value:"relevant",children:"Most relevant"}),Object(y.jsx)("option",{value:"minor",children:"Lower to higher"}),Object(y.jsx)("option",{value:"mayor",children:"Higher to lower"})]})})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("hr",{}),Object(y.jsx)("h1",{children:"COZY"})]})]})]})})),M=c(13),F=c(25),G=c.n(F),U={addProduct:I.addProduct,findAProduct:I.findAProduct,modifyProduct:I.modifyProduct,getProducts:I.getProducts},q=Object(u.b)((function(e){return{product:e.products.product}}),U)((function(e){var t=e.addProduct,c=e.modifyProduct,a=e.findAProduct,n=e.match,s=e.product,o=e.getProducts,u=n.params.id,d=Object(r.useState)(!0),p=Object(x.a)(d,2),h=p[0],m=p[1],f=Object(r.useState)({name:"",photo:null,stock:"",description:"",price:"",forSale:"",discount:"",category:"",subcategory:""}),O=Object(x.a)(f,2),g=O[0],v=O[1];Object(r.useEffect)((function(){window.scrollTo(0,0),a(u)}),[]),Object(r.useEffect)((function(){s&&(_(),m(!1))}),[s]);var _=function(){v({name:s.name,photo:s.photo,stock:s.stock,description:s.description,price:s.price,forSale:s.forSale,discount:s.discount,category:s.category,subcategory:s.subcategory})},C=[],N=Object(i.g)();"Bathroom"===g.category?C=["Accesories","Mirrors"]:"Kitchenware"===g.category?C=["Accesories","Glassware","Tableware"]:"Decor"===g.category?C=["Accesories","Home","Lighting"]:"GiftCard"===g.category&&(C=["GiftCard"]);var w=function(e){v(Object(l.a)(Object(l.a)({},g),{},Object(M.a)({},e.target.name,"photo"===e.target.name?e.target.files[0]:e.target.value)))},k=function(){var e=Object(b.a)(j.a.mark((function e(){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((c=new FormData).append("name",g.name),c.append("photo",g.photo),c.append("stock",g.stock),c.append("description",g.description),c.append("price",g.price),c.append("forSale",g.forSale),c.append("category",g.category),c.append("subcategory",g.subcategory),c.append("discount",g.discount),!Object.values(g).some((function(e){return""===e}))){e.next=15;break}alert("complete all the fields"),e.next=24;break;case 15:return e.next=17,t(c);case 17:if(!e.sent.data.success){e.next=23;break}return alert("Producto cargado"),e.abrupt("return",!1);case 23:alert("Todo sali\xf3 mal!");case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return h?Object(y.jsx)("h4",{children:"Loading..."}):Object(y.jsx)("main",{calssName:G.a.mainForm,style:{backgroundImage:"/assets/home1.jpg"},children:Object(y.jsxs)("div",{className:G.a.formContainer,children:[u?Object(y.jsx)("h4",{children:"Edit Product"}):Object(y.jsx)("h4",{children:"New Product"}),Object(y.jsxs)("form",{className:G.a.productForm,children:[Object(y.jsx)("input",{type:"text",onChange:w,name:"name",placeholder:"Name",autoComplete:"nope",defaultValue:null===s||void 0===s?void 0:s.name}),Object(y.jsxs)("div",{className:G.a.picture,children:[Object(y.jsx)("input",{type:"file",onChange:w,name:"photo",placeholder:"Photo",autoComplete:"nope"}),Object(y.jsx)("div",{className:G.a.productPic,style:{backgroundImage:"url(".concat(null===s||void 0===s?void 0:s.photo,")")}})]}),Object(y.jsx)("textarea",{onChange:w,name:"description",placeholder:"Description",autoComplete:"nope",defaultValue:u?null===s||void 0===s?void 0:s.description:null}),Object(y.jsxs)("div",{className:G.a.price,children:[Object(y.jsx)("input",{type:"number",onChange:w,name:"stock",placeholder:"Stock",autoComplete:"nope",defaultValue:u?null===s||void 0===s?void 0:s.stock:null}),Object(y.jsx)("input",{type:"number",onChange:w,name:"price",placeholder:"Price",autoComplete:"nope",defaultValue:u?null===s||void 0===s?void 0:s.price:null})]}),Object(y.jsxs)("div",{className:G.a.saleInput,children:[Object(y.jsxs)("div",{className:G.a.saleRadios,children:[Object(y.jsx)("p",{children:"For Sale"}),Object(y.jsx)("input",{type:"radio",id:"true",name:"forSale",onChange:w,defaultValue:u?null===s||void 0===s?void 0:s.forSale:"true"}),Object(y.jsx)("label",{htmlFor:"true",children:"Yes"}),Object(y.jsx)("input",{type:"radio",id:"false",name:"forSale",onChange:w,defaultValue:u?null===s||void 0===s?void 0:s.forSale:"false"}),Object(y.jsx)("label",{htmlFor:"false",children:"No"})]}),Object(y.jsx)("input",{type:"number",onChange:w,name:"discount",placeholder:"Discount",autoComplete:"nope",defaultValue:u?null===s||void 0===s?void 0:s.discount:null})]}),Object(y.jsxs)("select",{name:"category",onChange:w,placeholder:"Category",defaultValue:u?null===s||void 0===s?void 0:s.category:null,children:[Object(y.jsx)("option",{children:"Category"}),["Bathroom","Kitchenware","Decor","GiftCard"].map((function(e,t){return Object(y.jsx)("option",{value:e,children:e},t)}))]}),Object(y.jsxs)("select",{name:"subcategory",onChange:w,placeholder:"Subcategory",defaultValue:u?null===s||void 0===s?void 0:s.subcategory:null,children:[Object(y.jsx)("option",{children:"Subcategory"}),C.map((function(e,t){return Object(y.jsx)("option",{value:e,children:e},t)}))]})]}),Object(y.jsx)("button",{className:G.a.formButton,onClick:u?function(){c(u,g).then((function(e){if(!e.success)throw new Error("Product wasn't updated");o().then((function(e){if(!e.success)throw new Error("Products weren't updated");N.push("/products")}))})).catch((function(e){return console.log(e)}))}:function(){return k()},children:"Send"})]})})})),R=c(40),D=(c(56),{logIn:O.logIn}),B=Object(u.b)(null,D)((function(e){var t=e.history,c=e.logIn;Object(r.useEffect)((function(){document.title="COZY | Sign In"}),[]);var a=Object(r.useState)({password:"",eMail:""}),n=Object(x.a)(a,2),s=n[0],i=n[1],u=Object(r.useState)(""),d=Object(x.a)(u,2),p=d[0],h=d[1],m=function(e){i(Object(l.a)(Object(l.a)({},s),{},Object(M.a)({},e.target.name,e.target.value)))},f=function(){var e=Object(b.a)(j.a.mark((function e(r){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={eMail:r.profileObj.email,password:r.profileObj.googleId,google:!0},e.next=3,c(a);case 3:(n=e.sent).success?t.push("/"):"Invalid username or pass"===n.response&&h("That google account does not exist");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(j.a.mark((function e(){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object.values(s).some((function(e){return!e}))){e.next=2;break}return e.abrupt("return",h("Fill the empty fields"));case 2:return e.next=4,c(s);case 4:(r=e.sent).success?t.push("/"):h(r.response);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsx)("main",{className:"signin-main",children:Object(y.jsxs)("div",{className:"box",children:[Object(y.jsx)("div",{children:Object(y.jsx)("h1",{children:"Sign In"})}),Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"group",children:[Object(y.jsx)("input",{type:"text",required:!0,onChange:m,name:"eMail"}),Object(y.jsx)("span",{className:"highlight"}),Object(y.jsx)("span",{className:"bar"}),Object(y.jsx)("label",{children:"Email"})]}),Object(y.jsxs)("div",{className:"group",children:[Object(y.jsx)("input",{type:"password",required:!0,onChange:m,name:"password"}),Object(y.jsx)("span",{className:"highlight"}),Object(y.jsx)("span",{className:"bar"}),Object(y.jsx)("label",{children:"Password"})]}),Object(y.jsx)("button",{type:"submit",onClick:O,children:"Sign In"}),Object(y.jsx)("p",{children:"Or"}),Object(y.jsx)("div",{className:"googleButton",children:Object(y.jsx)(R.GoogleLogin,{clientId:"825531110504-5if5ceqkaqcvcu2dppipo8q3j7hvnn9k.apps.googleusercontent.com",buttonText:"Sign in",onSuccess:f,cookiePolicy:"single_host_origin"})})]}),Object(y.jsx)("div",{className:"errorContainer",children:Object(y.jsx)("p",{children:p})}),"|",Object(y.jsx)("div",{className:"footer-box",children:Object(y.jsx)(o.b,{to:"/signup",children:"You don't have an account? Sign up now!"})})]})})})),L={signUp:O.signUp},z=Object(u.b)(null,L)((function(e){var t=e.history,c=e.signUp,a=Object(r.useState)({firstName:"",lastName:"",password:"",eMail:"",photo:"",admin:!1,google:!1}),n=Object(x.a)(a,2),s=n[0],i=n[1],u=Object(r.useState)({}),d=Object(x.a)(u,2),p=d[0],h=d[1],m={firstName:null,lastName:null,eMail:null,password:null,emptyFields:null};Object(r.useEffect)((function(){document.title="COZY | Sign Up"}),[]);var f=function(e){i(Object(l.a)(Object(l.a)({},s),{},Object(M.a)({},e.target.name,"photo"===e.target.name?e.target.files[0]:e.target.value)))},O=function(){var e=Object(b.a)(j.a.mark((function e(r){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={firstName:r.profileObj.givenName,lastName:r.profileObj.familyName,password:r.profileObj.googleId,photo:r.profileObj.imageUrl,eMail:r.profileObj.email,google:!0,admin:!1},e.next=3,c(a);case 3:e.sent.success?t.push("/"):h({emailGoogle:"That google account is already in use"});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(b.a)(j.a.mark((function e(){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=new FormData).append("firstName",s.firstName),r.append("lastName",s.lastName),r.append("password",s.password),r.append("eMail",s.eMail),r.append("photo",s.photo),r.append("admin",s.admin),r.append("google",s.google),!Object.values(s).some((function(e){return""===e}))){e.next=12;break}h({emptyFields:"There cannot be empty fields"}),e.next=16;break;case 12:return e.next=14,c(r);case 14:(a=e.sent).success?t.push("/"):(a.response.forEach((function(e){m[e.context.label]=e.message})),h(m));case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsx)("main",{className:"signup-main",children:Object(y.jsxs)("div",{className:"box",children:[Object(y.jsx)("h1",{children:"Sign Up"}),Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"group",children:[Object(y.jsx)("input",{type:"text",required:!0,onChange:f,name:"firstName"}),Object(y.jsx)("span",{className:"highlight"}),Object(y.jsx)("span",{className:"bar"}),Object(y.jsx)("label",{children:"Firstname"}),Object(y.jsx)("div",{children:p.firstName&&Object(y.jsx)("p",{className:"inputError",children:p.firstName})})]}),Object(y.jsxs)("div",{className:"group",children:[Object(y.jsx)("input",{type:"text",required:!0,onChange:f,name:"lastName"}),Object(y.jsx)("span",{className:"highlight"}),Object(y.jsx)("span",{className:"bar"}),Object(y.jsx)("label",{children:"Lastname"}),Object(y.jsx)("div",{children:p.lastName&&Object(y.jsx)("p",{className:"inputError",children:p.lastName})})]}),Object(y.jsxs)("div",{className:"group",children:[Object(y.jsx)("input",{type:"password",required:!0,onChange:f,name:"password"}),Object(y.jsx)("span",{className:"highlight"}),Object(y.jsx)("span",{className:"bar"}),Object(y.jsx)("label",{children:"Password"}),Object(y.jsx)("div",{children:p.password&&Object(y.jsx)("p",{className:"inputError",children:p.password})})]}),Object(y.jsxs)("div",{className:"group",children:[Object(y.jsx)("input",{type:"text",onChange:f,name:"eMail",required:!0}),Object(y.jsx)("span",{className:"highlight"}),Object(y.jsx)("span",{className:"bar"}),Object(y.jsx)("label",{children:"Email"}),Object(y.jsx)("div",{children:p.eMail&&Object(y.jsx)("p",{className:"inputError",children:p.eMail})})]}),Object(y.jsxs)("div",{className:"group",children:[Object(y.jsx)("input",{type:"file",onChange:f,name:"photo"}),Object(y.jsx)("label",{children:"Avatar"})]}),Object(y.jsx)("button",{type:"submit",onClick:g,children:"Sign Up"}),Object(y.jsx)("p",{children:"Or"}),Object(y.jsx)("div",{className:"googleButton",children:Object(y.jsx)(R.GoogleLogin,{clientId:"825531110504-5if5ceqkaqcvcu2dppipo8q3j7hvnn9k.apps.googleusercontent.com",buttonText:"Sign up",onSuccess:O,cookiePolicy:"single_host_origin"})})]}),Object(y.jsxs)("div",{className:"errorContainer",children:[Object(y.jsx)("p",{children:p.emptyFields}),Object(y.jsx)("p",{children:p.emailGoogle})]}),Object(y.jsx)("div",{className:"footer-box",children:Object(y.jsx)(o.b,{to:"/signin",children:"You have an account? Sign in now!"})})]})})})),Y=c(31),H=c(23),V=c.n(H),$=c(58),J=c(59),K=c(70),X=c(67),Z=c(41),W=c.n(Z),Q=function(e){Object(K.a)(c,e);var t=Object(X.a)(c);function c(){var e;return Object($.a)(this,c),(e=t.call(this)).state={accentPosition:0,showAccent:!1},e}return Object(J.a)(c,[{key:"setAccentPosition",value:function(e){var t=e.nativeEvent.offsetX;this.setState({accentPosition:t})}},{key:"handleMouseEnter",value:function(e){this.setState({showAccent:!0,accentPosition:e.nativeEvent.offsetX})}},{key:"render",value:function(){var e=this,t=this.state,c={left:t.accentPosition-150,opacity:t.showAccent?100:0};return Object(y.jsxs)("button",{className:W.a.button1,onMouseMove:function(t){return e.setAccentPosition(t)},onMouseEnter:function(t){return e.handleMouseEnter(t)},onMouseLeave:function(){return e.setState({showAccent:!1})},children:[Object(y.jsx)("div",{className:W.a.buttonContent,children:this.props.children}),Object(y.jsx)("div",{className:W.a.accent,style:c})]})}}]),c}(a.a.Component),ee=function(){var e=Object(r.useState)(a()),t=Object(x.a)(e,2),c=(t[0],t[1]);function a(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}Object(r.useEffect)((function(){function e(){c(a())}return window.scroll(0,0),document.title="COZY | Home",window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var n=a(),s=n.height,i=n.width,u=[{src:"https://i.postimg.cc/tR8xRKn9/bat.jpg",category:"Bathroom"},{src:"https://i.postimg.cc/nzm4F3LR/home8.jpg",category:"Kitchenware"},{src:"https://i.postimg.cc/J4Q2C5tc/deco.jpg",category:"Decor"},{src:"https://i.postimg.cc/3wdn2zCV/gitfcard-Home.png",category:"GiftCard"},{src:"https://i.postimg.cc/R0mhJ9vz/sale.jpg",category:"sale"}].map((function(e,t){return Object(y.jsx)("div",{style:{backgroundImage:"url('".concat(e.src,"')")},children:Object(y.jsx)(o.b,{to:"/products/".concat(e.category),children:Object(y.jsx)("button",{className:V.a.textButton,children:e.category})})},t)})),d=[{src:"./assets/6.png"},{src:"./assets/7.png"},{src:"./assets/8.png"},{src:"./assets/9.png"}].map((function(e,t){return Object(y.jsx)("div",{className:V.a.infoItem,style:{backgroundImage:"url('".concat(e.src,"')")}},t)}));return Object(y.jsxs)("div",{className:V.a.home,children:[Object(y.jsx)(Y.Parallax,{bgImage:"/assets/home1.jpg",strength:s,children:Object(y.jsx)(o.b,{to:"/products",className:V.a.homeStore,children:Object(y.jsx)(Q,{children:"Check out our latest trends"})})}),Object(y.jsxs)(Y.Parallax,{strength:-200,className:V.a.categories,children:[Object(y.jsx)("h1",{children:"CATEGORIES"}),Object(y.jsx)("div",{className:V.a.galleryWrap,children:u})]}),Object(y.jsx)(Y.Parallax,{bgImage:"/assets/home5.jpg",strength:i>700?s/1:i/.85,children:Object(y.jsxs)("div",{className:V.a.quote,children:[Object(y.jsx)("h2",{children:"There's no place like home. "}),Object(y.jsx)("i",{class:"fas fa-quote-right"}),Object(y.jsx)("p",{children:"In Cozy we offer a wide variety of well-designed, functional home products. Whether your home decor leans towards minimalist or maximalist aesthetic, you'll find something to suit your style."})]})}),Object(y.jsx)(Y.Parallax,{strength:s/10,className:V.a.infoContainer,children:Object(y.jsx)("div",{className:V.a.fondoInfo,children:d})}),Object(y.jsx)(Y.Parallax,{bgImage:"/assets/home4.jpg",strength:i>700?-i/5.5:i/11,renderLayer:function(e){return Object(y.jsx)("div",{className:V.a.finalInfo,style:{background:"rgba(212, 197, 191, ".concat(2*e,")"),width:100*e,height:100*e}})}})]})},te=function(){var e=function(){};return Object(y.jsxs)("div",{style:{display:"flex"},children:[Object(y.jsxs)("div",{className:"wrapper",children:[Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)("div",{className:"top",style:{backgroundImage:'url("https://primedia.primark.com/i/primark/210076792-01?w=1000&h=1000&img404=missing_product&v=1633488792993&locale=en-*,*")',height:"350px",width:"250px"}}),Object(y.jsxs)("div",{className:"bottom",children:[Object(y.jsxs)("div",{className:"nameAndPrice",children:[Object(y.jsx)("h1",{children:"Producto"}),Object(y.jsx)("p",{children:"$1200"})]}),Object(y.jsxs)("div",{className:"cardButtons",children:[Object(y.jsx)("i",{className:"fas fa-cart-plus fa-2x",onClick:e}),Object(y.jsx)("i",{className:"fas fa-eye fa-2x"})]})]})]}),Object(y.jsx)("div",{className:"inside",children:Object(y.jsx)("div",{className:"icon",children:"SALE"})})]}),Object(y.jsx)("button",{onClick:e,children:"Carrito"}),Object(y.jsx)(S,{})]})},ce=c(30),re=c(16),ae=c.n(re),ne={deleteACartProduct:C.deleteACartProduct,updateCartProduct:C.updateCartProduct},se=Object(u.b)(null,ne)((function(e){var t=e.cartItem,c=e.deleteACartProduct,a=(e.setPriceTotal,e.updateCartProduct),n=Object(r.useState)(!0),s=Object(x.a)(n,2),o=s[0],i=s[1],u=function(e){i(!1);var c={product:t.product,quantity:"+"===e?t.quantity+1:t.quantity-1};a(c),i(!0)},d=t.product.photo.includes("http")?t.product.photo:"https://cozydeco.herokuapp.com/".concat(t.product.photo);return Object(y.jsxs)("div",{className:ae.a.productInCart,children:[Object(y.jsx)("div",{className:ae.a.productCartPhoto,style:{backgroundImage:'url("'.concat(d,'")')}}),Object(y.jsxs)("div",{className:ae.a.productCartInfo,children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("h5",{children:t.product.name}),Object(y.jsx)("i",{onClick:function(){return c(t.product._id)},className:"fas fa-trash-alt fa-1x"})]}),Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:ae.a.counter,children:[Object(y.jsx)("i",{className:"fas fa-minus",onClick:t.quantity>1&&o?function(){return u("-")}:null}),Object(y.jsx)("p",{children:t.quantity}),Object(y.jsx)("i",{className:"fas fa-plus",onClick:t.product.stock>t.quantity&&o?function(){return u("+")}:null})]}),Object(y.jsxs)("p",{children:["$",0===t.product.discount?t.product.price:((100-t.product.discount)/100*t.product.price).toFixed(2)]}),Object(y.jsxs)("p",{children:["$",((0===t.product.discount?t.product.price:(100-t.product.discount)/100*t.product.price)*t.quantity).toFixed(2)]})]})]})]})})),oe=Object(u.b)((function(e){return{products:e.cart.products,loginUser:e.users.user}}),{})((function(e){var t=e.onClickHandler,c=e.products,a=e.loginUser,n=Object(r.useState)(!1),s=Object(x.a)(n,2),u=s[0],d=s[1],l=Object(i.g)(),p=c.map((function(e){return 0===e.product.discount?e.product.price*e.quantity:(100-e.product.discount)/100*e.product.price*e.quantity})),j=function(){d(!1),t()};return Object(y.jsxs)("div",{className:ae.a.cartContainer,children:[Object(y.jsxs)("div",{className:ae.a.cartContainerHeader,children:[Object(y.jsx)("h3",{children:"SHOPPING CART"}),Object(y.jsx)("i",{onClick:j,className:"fas fa-times"})]}),Object(y.jsxs)("div",{className:ae.a.cartContainerMain,children:[c.map((function(e){return Object(y.jsx)(se,{cartItem:e},e.product._id)})),c.length?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:ae.a.divPrice,children:[Object(y.jsx)("h4",{children:"SUBTOTAL"}),Object(y.jsxs)("h4",{children:["$ ",p.reduce((function(e,t){return e+t})).toFixed(2)]})]}),Object(y.jsx)("div",{className:ae.a.divSpan,children:u&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{children:"You must be logged in to make a purchase"}),Object(y.jsx)(o.b,{to:"/signin",onClick:j,children:"Sign In"})]})}),Object(y.jsx)("div",{className:ae.a.divButton,children:Object(y.jsx)("button",{onClick:function(){a?(t(),l.push("/payment")):d(!0)},children:"END PURCHASE"})})]}):Object(y.jsxs)("div",{className:ae.a.warning,children:[Object(y.jsxs)("p",{children:[Object(y.jsx)("i",{className:"fas fa-exclamation"})," You don't have any items in your cart."]}),Object(y.jsx)("p",{children:"Many products are waiting for you!"}),Object(y.jsxs)("div",{className:ae.a.warningButton,children:[Object(y.jsx)(o.b,{to:"/products",onClick:j,children:Object(y.jsx)("button",{children:"START SHOPPING"})}),Object(y.jsx)(o.b,{to:"/signin",onClick:j,children:Object(y.jsx)("button",{children:"SIGN IN"})})]})]})]})]})})),ie={logOut:O.logOut},ue=(Object(u.b)((function(e){return{loginUser:e.users.user}}),ie)((function(e){var t=e.loginUser,c=e.logOut;if(t)var r=t.photo.includes("http")?t.photo:"https://cozydeco.herokuapp.com/".concat(t.photo);return Object(y.jsxs)("header",{children:[Object(y.jsxs)("div",{children:[!t&&Object(y.jsx)("i",{className:"iconSocial fas fa-user fa-2x"}),t&&Object(y.jsx)("div",{className:"logoUser",style:{backgroundImage:"url('".concat(r,"')")}})]}),Object(y.jsx)("h1",{children:"COZY"}),Object(y.jsx)("div",{className:"navContainer",children:Object(y.jsxs)("nav",{children:[Object(y.jsx)(o.c,{active:!0,exact:!0,to:"/",children:"HOME"}),Object(y.jsx)(o.c,{active:!0,to:"/products",children:"STORE"}),!t&&Object(y.jsx)(o.c,{active:!0,to:"/signin",children:"SIGN IN"}),!t&&Object(y.jsx)(o.c,{active:!0,to:"/signup",children:"SIGN UP"}),t&&Object(y.jsx)(o.c,{active:!0,onClick:function(){c()},to:"/",children:"SIGN OUT"}),t&&t.admin&&Object(y.jsx)(o.c,{to:"/admin",children:"ADMIN"}),Object(y.jsx)(ce.a,{style:{padding:"0"},backgroundColor:"#61605e8a",toogleComponent:function(e){return Object(y.jsx)("i",{onClick:e,className:"iconSocial fas fa-shopping-cart fa-1x"})},offsetX:0,offsetY:0,children:function(e){return Object(y.jsx)(oe,{onClickHandler:e})}})]})})]})})),c(22)),de=c.n(ue),le=function(){return Object(y.jsxs)("footer",{className:de.a.footer,children:[Object(y.jsxs)("div",{className:de.a.infoProduct,children:[Object(y.jsx)("h3",{children:"Categories"}),Object(y.jsx)(o.b,{to:"/products/Kitchenware",children:Object(y.jsx)("p",{children:"Kitchenware"})}),Object(y.jsx)(o.b,{to:"/products/Bathroom",children:Object(y.jsx)("p",{children:"Bathroom"})}),Object(y.jsx)(o.b,{to:"/products/Decor",children:Object(y.jsx)("p",{children:"Decor"})})]}),Object(y.jsxs)("div",{className:de.a.infoService,children:[Object(y.jsx)("h3",{children:"Customer Service"}),Object(y.jsx)("p",{children:"Shipping"}),Object(y.jsx)("p",{children:"Payment Methods"}),Object(y.jsx)("p",{children:"Changes and returns"})]}),Object(y.jsxs)("div",{className:de.a.infoContact,children:[Object(y.jsx)("h3",{children:"Contact"}),Object(y.jsxs)("div",{className:de.a.iconResponsive,children:[Object(y.jsxs)("div",{className:de.a.iconSocial,children:[Object(y.jsx)("i",{class:"fas fa-envelope fa-lg"}),Object(y.jsx)("p",{children:"cozydecodesign@gmail.com"})]}),Object(y.jsxs)("div",{className:de.a.iconSocial,children:[Object(y.jsx)("i",{class:"fas fa-phone-square-alt fa-lg"}),Object(y.jsx)("p",{children:"+54 11 6789 8270"})]})]}),Object(y.jsxs)("div",{className:de.a.iconSocial,children:[Object(y.jsx)("a",{href:"https://www.facebook.com/",target:"_blank",className:de.a.iconSocial,children:Object(y.jsx)("i",{class:"fab fa-facebook-square fa-lg"})}),Object(y.jsx)("a",{href:"https://www.instagram.com/",target:"_blank",className:de.a.iconSocial,children:Object(y.jsx)("i",{class:"fab fa-instagram-square fa-lg"})}),Object(y.jsx)("a",{href:"https://www.whatsapp.com/",target:"_blank",className:de.a.iconSocial,children:Object(y.jsx)("i",{class:"fab fa-whatsapp-square fa-lg"})})]})]})]})},pe=c(21),je=c.n(pe),be={findAProduct:I.findAProduct,addCartProduct:C.addCartProduct,getProductByCategory:I.getProductByCategory,getProducts:I.getProducts},he=Object(u.b)((function(e){return{product:e.products.product,products:e.products.products,productsCategory:e.products.productsCategory}}),be)((function(e){var t=e.product,c=e.match,a=e.products,n=e.getProducts,s=e.findAProduct,o=e.addCartProduct,i=e.productsCategory,u=e.getProductByCategory,d=Object(r.useState)(1),l=Object(x.a)(d,2),p=l[0],j=l[1],b=Object(r.useState)(!0),h=Object(x.a)(b,2),m=h[0],f=h[1],O=Object(r.useState)(null),g=Object(x.a)(O,2),v=g[0],_=g[1],C=Object(r.useState)(!1),N=Object(x.a)(C,2),k=N[0],P=N[1],E=Object(r.useState)(!1),I=Object(x.a)(E,2),A=I[0],T=I[1];Object(r.useEffect)((function(){a.length?(u(t.category),s(c.params.id),f(!1)):n().then((function(e){e.success&&(s(c.params.id),u(t.category),f(!1))}))}),[A]);if(m)return Object(y.jsx)("h1",{children:"LOADING..."});v&&setTimeout((function(){_(null)}),2500);var M=0===t.discount?t.price:((100-t.discount)/100*t.price).toFixed(2),F=t.photo.includes("http")?t.photo:"https://cozydeco.herokuapp.com/".concat(t.photo);return Object(y.jsxs)("div",{className:je.a.productSection,children:[v&&Object(y.jsx)(S,{productAlert:v,showCartCard:k,editShowCartCard:function(e){console.log("se ejecuta editshow"),P(e)}}),Object(y.jsxs)("div",{className:je.a.mainContainer,children:[Object(y.jsx)("div",{className:je.a.productImage,style:{backgroundImage:'url("'.concat(F,'")')}}),Object(y.jsxs)("div",{className:je.a.productInfo,children:[Object(y.jsx)("h2",{children:t.name}),Object(y.jsx)("p",{children:t.description}),Object(y.jsxs)("div",{children:[0!==t.discount&&Object(y.jsxs)("p",{className:0!==t.discount?je.a.sale:null,children:["$",t.price]}),Object(y.jsxs)("p",{children:["$",M]})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("i",{className:"far fa-credit-card fa-lg"}),Object(y.jsxs)("p",{className:je.a.interestCard,children:["3 payments of $",(1.1*M/3).toFixed(2)]})]}),Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:je.a.counter,children:[Object(y.jsx)("i",{className:"fas fa-minus",onClick:p>1?function(){return j(p-1)}:null}),Object(y.jsx)("p",{children:p}),Object(y.jsx)("i",{className:"fas fa-plus",onClick:function(){t.stock===p?alert("no hay stock"):j(p+1)}})]}),Object(y.jsx)("button",{onClick:function(){P(!0);var e={product:t,quantity:p};_(e),o(e)},children:"Add to Cart"})]}),Object(y.jsxs)("div",{className:je.a.shippingInfo,children:[Object(y.jsx)("i",{className:"fas fa-truck fa-lg"}),Object(y.jsx)("p",{children:"Free shipping on purchases from 200 dollars or more."})]}),Object(y.jsx)("p",{className:je.a.calculateSend,children:"Calculo de envio - CP"}),Object(y.jsx)(ce.a,{style:{padding:"0"},backgroundColor:"#61605e8a",toogleComponent:function(e){return Object(y.jsx)("button",{style:{alignSelf:"center"},onClick:e,children:"Open Cart"})},offsetX:0,offsetY:0,children:function(e){return Object(y.jsx)(oe,{onClickHandler:e})}})]})]}),Object(y.jsxs)("div",{className:je.a.suggestionContainer,children:[Object(y.jsx)("h3",{children:"Related Products"}),Object(y.jsx)("div",{className:je.a.suggestion,children:i.map((function(e){if(e._id!==c.params.id)return Object(y.jsx)("div",{onClick:function(){return T(!A)},className:je.a.productCardContainer,children:Object(y.jsx)(w,{product:e,newClass:"newClass"})})}))})]})]})})),me=c(12),fe=c.n(me),Oe={getUsers:function(){return function(){var e=Object(b.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("https://cozydeco.herokuapp.com/api/users",{withCredentials:!0});case 3:if((c=e.sent).data.success){e.next=6;break}return e.abrupt("return",c.data);case 6:return t({type:"GET_USERS",payload:c.data.response}),e.abrupt("return",{success:!0,response:c.data.response});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{success:!1,response:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},manageAdmin:function(e,t,c){return Object(b.a)(j.a.mark((function r(){var a;return j.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,m.a.put("https://cozydeco.herokuapp.com/api/user/admin/manage",{userToChange:e,actionToDo:!c},{headers:{Authorization:"Bearer "+t},withCredentials:!0});case 3:if(!(a=r.sent).data.success){r.next=6;break}return r.abrupt("return",a.data);case 6:r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),console.log(r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))}},xe={getUsers:Oe.getUsers,manageAdmin:Oe.manageAdmin},ge=Object(u.b)((function(e){return{loginUser:e.users.user}}),xe)((function(e){var t=e.getUsers,c=e.manageAdmin,a=e.loginUser,n=Object(r.useState)([]),s=Object(x.a)(n,2),o=s[0],i=s[1],u=Object(r.useState)(!1),d=Object(x.a)(u,2),l=d[0],p=d[1],h=Object(r.useState)([]),m=Object(x.a)(h,2),f=m[0],O=m[1];Object(r.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:(c=e.sent).success?i(c.response):console.log(c);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[l]);var g=function(){var e=Object(b.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="true"===t.target.dataset.admin,e.next=3,c(t.target.id,a.token,r);case 3:e.sent.success?p(!l):alert("error");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=f.length?f:o;return Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{children:"User list"}),Object(y.jsxs)("div",{className:fe.a.searchBar,children:[Object(y.jsx)("i",{className:"fas fa-search"}),Object(y.jsx)("input",{type:"text",placeholder:"Search user..",onChange:function(e){var t=o.filter((function(t){return t.eMail.toLowerCase().startsWith(e.target.value.trim().toLowerCase())}));O(t)}})]})]}),Object(y.jsx)("div",{className:fe.a.userContainer,children:v.map((function(e){return Object(y.jsxs)("div",{className:fe.a.userCard,children:[Object(y.jsx)("div",{children:Object(y.jsx)("p",{className:e.admin?fe.a.admin:null,children:e.eMail})}),Object(y.jsx)("div",{children:Object(y.jsx)("button",{onClick:g,"data-admin":e.admin,id:e._id,children:e.admin?"Remove admin":"Give admin"},e.eMail)})]})}))})]})})),ve={modifyProduct:I.modifyProduct},_e=Object(u.b)(null,ve)((function(e){var t=e.modifyProduct,c=e.product,a=e.fetch,n=Object(r.useState)(0),s=Object(x.a)(n,2),i=s[0],u=s[1];Object(r.useEffect)((function(){u(parseInt(c.stock))}),[c]);var d=function(){var e=Object(b.a)(j.a.mark((function e(c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(c.target.id,{stock:i});case 2:e.sent.success?a():alert("Fall\xf3");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:fe.a.stockCard,children:[Object(y.jsx)("div",{children:Object(y.jsx)("p",{children:c.name})}),Object(y.jsxs)("div",{className:fe.a.manageStock,children:[Object(y.jsx)("input",{value:i,onChange:function(e){u(parseInt(e.target.value))},type:"number"}),Object(y.jsx)("button",{id:c._id,onClick:d,children:"SET"}),Object(y.jsx)(o.b,{to:"/productform/".concat(c._id),children:Object(y.jsx)("button",{id:c._id,onClick:d,children:"EDIT"})})]})]})})),Ce={getProducts:I.getProducts},ye=Object(u.b)((function(e){return{products:e.products.products}}),Ce)((function(e){var t=e.products,c=e.getProducts,a=Object(r.useState)(!1),n=Object(x.a)(a,2),s=n[0],o=n[1];Object(r.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:e.sent.success||alert("Error");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[s]);var i=function(){o(!s)};return Object(y.jsxs)("div",{className:fe.a.stockContainer,children:[Object(y.jsx)("h1",{children:"Stock"}),t.map((function(e){return Object(y.jsx)(_e,{fetch:i,product:e},e._id)}))]})})),Ne={getProducts:I.getProducts},we=Object(u.b)((function(e){return{products:e.products.products}}),Ne)((function(e){var t=e.getProducts,c=e.products,a=Object(r.useState)(null),n=Object(x.a)(a,2),s=n[0],o=n[1],i=Object(r.useState)(null),u=Object(x.a)(i,2),d=u[0],l=u[1];Object(r.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:e.sent.success||alert("Error");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();0===c.length&&e()}),[]);var p=function(e,t){return e+t};return Object(r.useEffect)((function(){o(c.map((function(e){return e.sold})).reduce(p,0)),l(c.map((function(e){return e.discount>0?e.sold*(e.price*(1-e.discount/100)):e.sold*e.price})).reduce(p,0))}),[c]),Object(y.jsxs)("div",{className:fe.a.statsContainer,children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("i",{className:"fas fa-shopping-cart fa-2x"}),Object(y.jsxs)("p",{children:["Total sales: ",s]})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("i",{className:"fas fa-hand-holding-usd fa-2x"}),Object(y.jsxs)("p",{children:["Total profit: $",d&&d.toFixed(2)]})]})]})})),ke=function(){return Object(y.jsxs)("div",{className:fe.a.guideContainer,children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:"Admin Control Panel."}),Object(y.jsx)("hr",{}),Object(y.jsxs)("div",{children:[Object(y.jsx)("h3",{children:"In Statistics, you can see the total sales and the total profit."}),Object(y.jsx)("h3",{children:'If you\'re the owner, you have the tab "user list" to give the role of administrator to a user.'}),Object(y.jsx)("h3",{children:"In Manage Stock, any user with the administrator role will be able to edit the stock and information of any product."})]})]}),Object(y.jsx)("div",{children:Object(y.jsx)("h1",{className:fe.a.brand,children:"COZY"})})]})},Pe={logFromSession:O.logFromSession},Se=Object(u.b)((function(e){return{loginUser:e.users.user}}),Pe)((function(e){var t=e.loginUser,c=Object(r.useState)({screen:"adminGuide"}),a=Object(x.a)(c,2),n=a[0],s=a[1];return Object(r.useEffect)((function(){document.title="COZY | Admin Dashboard"}),[]),Object(y.jsx)("main",{className:fe.a.adminMain,children:Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:fe.a.topInfo,children:[Object(y.jsxs)("div",{onClick:function(){return s({screen:"statistics"})},children:[Object(y.jsx)("i",{className:"fas fa-sort-amount-up fa-2x"}),Object(y.jsx)("h2",{children:"Statistics"})]}),t.owner&&Object(y.jsxs)("div",{onClick:function(){return s({screen:"user"})},children:[Object(y.jsx)("i",{className:"far fa-user fa-2x"}),Object(y.jsx)("h2",{children:"Users list"})]}),Object(y.jsxs)("div",{onClick:function(){return s({screen:"stock"})},children:[Object(y.jsx)("i",{className:"fas fa-cart-plus fa-2x"}),Object(y.jsx)("h2",{children:"Manage Stock"})]})]}),Object(y.jsx)("hr",{}),Object(y.jsxs)("div",{className:fe.a.midInfo,children:["adminGuide"===n.screen&&Object(y.jsx)(ke,{}),"statistics"===n.screen&&Object(y.jsx)(we,{}),"user"===n.screen&&Object(y.jsx)(ge,{}),"stock"===n.screen&&Object(y.jsx)(ye,{})]})]})})})),Ee=c(68),Ie=c(26),Ae=c.n(Ie),Te=function(e){console.log(e);var t=Object(r.useRef)();return Object(r.useEffect)((function(){window.paypal.Buttons({createOrder:function(t,c,r){return c.order.create({intent:"CAPTURE",purchase_units:[{description:e.description,amount:{value:e.total,currency_code:"USD"}}]})},onApprove:function(){var e=Object(b.a)(j.a.mark((function e(t,c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.order.capture();case 2:console.log("entro al on aprove");case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),onError:function(e){alert("Hubo un error!"),console.log(e)}}).render(t.current)})),Object(y.jsx)("div",{ref:t})},Me=c(64);c(103);function Fe(e){var t=Object(r.useState)(void 0),c=Object(x.a)(t,2),a=c[0],n=c[1],s=function(e,t){var c=Object(r.useState)({}),a=Object(x.a)(c,2),n=a[0],s=a[1];return Object(r.useEffect)((function(){var c=document.createElement("script");return c.src=e,c.async=!0,c.onload=function(){return s(Object(M.a)({},t,window[t]))},document.body.appendChild(c),function(){document.body.removeChild(c)}}),[e]),n}("https://sdk.mercadopago.com/js/v2","MercadoPago"),o=s.MercadoPago,i={id:"form-checkout",cardholderName:{id:"form-checkout__cardholderName",placeholder:"Titular de la tarjeta"},cardholderEmail:{id:"form-checkout__cardholderEmail",placeholder:"E-mail"},cardNumber:{id:"form-checkout__cardNumber",placeholder:"N\xfamero de la tarjeta"},cardExpirationMonth:{id:"form-checkout__cardExpirationMonth",placeholder:"Mes de vencimiento"},cardExpirationYear:{id:"form-checkout__cardExpirationYear",placeholder:"A\xf1o de vencimiento"},securityCode:{id:"form-checkout__securityCode",placeholder:"C\xf3digo de seguridad"},installments:{id:"form-checkout__installments",placeholder:"Cuotas"},identificationType:{id:"form-checkout__identificationType",placeholder:"Tipo de documento"},identificationNumber:{id:"form-checkout__identificationNumber",placeholder:"N\xfamero de documento"},issuer:{id:"form-checkout__issuer",placeholder:"Banco emisor"}};return Object(r.useEffect)((function(){if(o)var t=new o("TEST-17812741-dd00-4207-b735-b9d1d47d8d96").cardForm({amount:e,autoMount:!0,form:i,callbacks:{onFormMounted:function(e){if(e)return console.warn("Form Mounted handling error: ",e)},onSubmit:function(c){c.preventDefault();var r=t.getCardFormData(),a=r.paymentMethodId,s=r.issuerId,o=r.cardholderEmail,i=(r.amount,r.token),u=r.installments,d=r.identificationNumber,l=r.identificationType;fetch("https://cozydeco.herokuapp.com/api/process-payment",{method:"POST",headers:{"Access-Control-Allow-Origin":"*","Access-Control-Request-Method":"GET, POST, DELETE, PUT, OPTIONS","Content-Type":"application/json"},body:JSON.stringify({token:i,issuer_id:s,payment_method_id:a,transaction_amount:parseInt(e),installments:Number(u),description:"Descripci\xf3n del producto",payer:{email:o,identification:{type:l,number:d}}})}).then((function(e){return e.json()})).then((function(e){return n(e)})).catch((function(e){return n(e)}))},onFetching:function(e){var t=document.querySelector(".progress-bar");return t.removeAttribute("value"),function(){return t.setAttribute("value","0")}}}})}),[o]),a}var Ge=c(65),Ue=c.n(Ge),qe={cvc:"",cardExpirationMonth:"",cardExpirationYear:"",focus:"cardNumber",cardholderName:"",cardNumber:"",issuer:""};function Re(e){var t,c=e.total,a=e.addNewOrderHandler,n=Object(r.useState)(qe),s=Object(x.a)(n,2),o=s[0],i=s[1],u=Fe(c),d=function(e){i(Object(l.a)(Object(l.a)({},o),{},Object(M.a)({},e.target.dataset.name||e.target.name,e.target.value)))},p=function(e){i(Object(l.a)(Object(l.a)({},o),{},{focus:e.target.dataset.name||e.target.name}))};return Object(y.jsxs)("div",{className:Ue.a.container,children:[Object(y.jsx)(Me.a,{cvc:o.cvc,expiry:o.cardExpirationMonth+o.cardExpirationYear,name:o.cardholderName,number:o.cardNumber,focused:o.focus,brand:o.issuer}),Object(y.jsxs)("form",{id:"form-checkout",children:[Object(y.jsx)("div",{className:"form-control",children:Object(y.jsx)("input",{type:"tel",name:"cardNumber",id:"form-checkout__cardNumber",onChange:d,onFocus:p})}),Object(y.jsxs)("div",{className:"form-control",children:[Object(y.jsx)("input",{type:"tel",name:"cardExpirationMonth",id:"form-checkout__cardExpirationMonth",onChange:d,onFocus:p}),Object(y.jsx)("input",{type:"tel",name:"cardExpirationYear",id:"form-checkout__cardExpirationYear",onChange:d,onFocus:p}),Object(y.jsx)("input",{type:"tel",name:"cvc",id:"form-checkout__securityCode",onChange:d,onFocus:p})]}),Object(y.jsxs)("div",{className:"form-control",children:[Object(y.jsx)("input",{type:"text",name:"cardholderName",id:"form-checkout__cardholderName",onChange:d,onFocus:p}),Object(y.jsx)("input",{type:"email",name:"cardholderEmail",id:"form-checkout__cardholderEmail",onFocus:p})]}),Object(y.jsxs)("div",{className:"form-control",children:[Object(y.jsx)("select",{name:"issuer",id:"form-checkout__issuer",on:!0}),Object(y.jsx)("select",{name:"identificationType",id:"form-checkout__identificationType"})]}),Object(y.jsx)("div",{className:"form-control",children:Object(y.jsx)("input",{type:"text",name:"identificationNumber",id:"form-checkout__identificationNumber"})}),Object(y.jsx)("div",{className:"form-control",children:Object(y.jsx)("select",{name:"installments",id:"form-checkout__installments"})}),Object(y.jsx)("div",{className:"form-control",children:Object(y.jsx)("button",{type:"submit",id:"form-checkout__submit",children:"Make the Payment"})}),Object(y.jsx)("progress",{value:"0",className:"progress-bar",children:"Cargando..."})]}),u&&(t=u,void("approved"===t.status?a():alert("intenta de nuevo")))]})}var De={manageUser:O.manageUser,addNewOrder:C.addNewOrder,getProducts:I.getProducts,addCard:C.addCard,getCard:C.getCard,editCard:C.editCard,deleteAllCartProduct:C.deleteAllCartProduct},Be=Object(u.b)((function(e){return{products:e.cart.products,loginUser:e.users.user}}),De)((function(e){var t=e.loginUser,c=e.products,a=e.manageUser,n=e.getProducts,s=e.editCard,o=e.addNewOrder,i=e.history,u=e.addCard,d=e.getCard,p=e.deleteAllCartProduct,j=Object(r.useState)(!1),b=Object(x.a)(j,2),h=b[0],m=b[1],f=Object(r.useState)(null),O=Object(x.a)(f,2),g=O[0],v=O[1],_=Object(r.useState)(null),C=Object(x.a)(_,2),N=C[0],w=C[1],k=Object(r.useState)(!0),P=Object(x.a)(k,2),S=P[0],E=P[1],I=Object(r.useState)(!1),A=Object(x.a)(I,2),T=A[0],F=A[1],G=Object(r.useState)(!0),U=Object(x.a)(G,2),q=U[0],R=U[1],D=Object(r.useState)(null),B=Object(x.a)(D,2),L=B[0],z=B[1],Y=Object(r.useState)({type:null,enable:!1}),H=Object(x.a)(Y,2),V=H[0],$=H[1],J=Object(r.useState)({zipCode:"",number:"",city:"",street:"",phone:"",dni:"",firstName:t.firstName,lastName:t.lastName,eMail:t.eMail}),K=Object(x.a)(J,2),X=K[0],Z=K[1],W=c.map((function(e){return 0===e.product.discount?e.product.price*e.quantity:(100-e.product.discount)/100*e.product.price*e.quantity})),Q=Object(r.useState)({products:c.map((function(e){return{productId:e.product._id,quantity:e.quantity}})),paymentMethod:{type:"",extraInfo:""},totalPrice:W.reduce((function(e,t){return e+t}),0).toFixed(2)}),ee=Object(x.a)(Q,2),te=ee[0],ce=ee[1],re=c.filter((function(e){return"GiftCard"===e.product.category}));if(re.length)var ae=re.map((function(e){return{balance:e.product.price}}));var ne=c.map((function(e){return Object(y.jsxs)("div",{className:Ae.a.productInCart,children:[Object(y.jsx)("div",{className:Ae.a.productCartPhoto,style:{backgroundImage:'url("'.concat(e.product.photo.includes("http")?e.product.photo:"https://cozydeco.herokuapp.com/".concat(e.product.photo),'")')}}),Object(y.jsx)("p",{children:e.product.name}),Object(y.jsx)("div",{className:Ae.a.productCartInfo,children:Object(y.jsxs)("div",{children:[Object(y.jsxs)("p",{children:[e.quantity," X "]}),Object(y.jsxs)("p",{children:["$",0===e.product.discount?e.product.price:((100-e.product.discount)/100*e.product.price).toFixed(2)]}),Object(y.jsxs)("p",{children:["$",((0===e.product.discount?e.product.price:(100-e.product.discount)/100*e.product.price)*e.quantity).toFixed(2)]})]})})]},e.product._id)})),se=function(e){Z(Object(l.a)(Object(l.a)({},X),{},Object(M.a)({},e.target.name,e.target.value)))},oe=function(e,t){ce(Object(l.a)(Object(l.a)({},te),{},{paymentMethod:{extraInfo:t?"giftCArd : $".concat(N," - ").concat(e.target.value," : $").concat(le," "):null,type:t?"".concat(te.paymentMethod.type," - ").concat(e.target.value):e.target.value}})),$(Object(l.a)(Object(l.a)({},V),{},{type:t?"".concat(V.type," - ").concat(e.target.value):e.target.value})),t&&m(!0)},ie=function(){(ae&&u.apply(void 0,Object(Ee.a)(ae)).then((function(e){return console.log(e)})),te.paymentMethod.extraInfo||"giftCard"===te.paymentMethod.type)&&s({balance:de<0?0:de,code:g});o(te).then((function(e){p(),n(),i.push("/")}))},ue=new Date,de="number"===typeof N?(N-te.totalPrice).toFixed(2):null,le=Math.abs(de);return Object(y.jsxs)("div",{className:Ae.a.gatewayContainer,children:[Object(y.jsxs)("div",{className:Ae.a.clientInfo,children:[Object(y.jsxs)("div",{className:Ae.a.personalInfo,children:[Object(y.jsx)("h1",{children:"Personal Info"}),Object(y.jsx)("label",{children:"Email"}),Object(y.jsx)("input",{type:"text",required:!0,name:"eMail",defaultValue:X.eMail,disabled:!0}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"Name"}),Object(y.jsx)("input",{type:"text",required:!0,name:"firstName",defaultValue:X.firstName,disabled:!0}),Object(y.jsx)("label",{children:"Lastname"}),Object(y.jsx)("input",{type:"text",required:!0,name:"lastName",defaultValue:X.lastName,disabled:!0})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"DNI"}),Object(y.jsx)("input",{type:"text",required:!0,name:"dni",defaultValue:X.dni,onChange:se,disabled:T}),Object(y.jsx)("label",{children:"Phone Number"}),Object(y.jsx)("input",{type:"text",required:!0,name:"phone",defaultValue:X.phone,onChange:se,disabled:T})]})]}),Object(y.jsxs)("div",{className:Ae.a.shipmentInfo,children:[Object(y.jsx)("h1",{children:"Shipment Info"}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"Calle"}),Object(y.jsx)("input",{type:"text",required:!0,name:"street",defaultValue:X.street,onChange:se,disabled:T}),Object(y.jsx)("label",{children:"Number - piso/depto:"}),Object(y.jsx)("input",{type:"text",required:!0,name:"number",defaultValue:X.number,onChange:se,disabled:T})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"Ciudad"}),Object(y.jsx)("input",{type:"text",required:!0,name:"city",defaultValue:X.city,onChange:se,disabled:T}),Object(y.jsx)("label",{children:"Zip Code"}),Object(y.jsx)("input",{type:"text",required:!0,name:"zipCode",defaultValue:X.zipCode,onChange:se,disabled:T})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:"Payment"}),S&&Object(y.jsxs)("div",{className:Ae.a.switchField,children:[Object(y.jsx)("input",{type:"radio",id:"paypal",name:"payMethod",defaultValue:"paypal",onChange:oe,onClick:function(){return R(!1)},disabled:T}),Object(y.jsx)("label",{for:"paypal",children:"Paypal"}),Object(y.jsx)("input",{type:"radio",id:"mercadopago",name:"payMethod",defaultValue:"mercadoPago",onChange:oe,onClick:function(){return R(!1)},disabled:T}),Object(y.jsx)("label",{for:"mercadopago",children:"Credit/Debit Card"}),Object(y.jsx)("input",{type:"radio",id:"giftcard",name:"payMethod",defaultValue:"giftCard",onChange:oe,onClick:function(){return R(!1)},disabled:T}),Object(y.jsx)("label",{for:"giftcard",children:"Gift Card"})]})]})]}),Object(y.jsx)("button",{disabled:q,onClick:function(){R(!0),Object.values(X).some((function(e){return""===e}))?z("necesitas completar todos los campos para continuar con el pago"):a(X).then((function(e){e.success?($(Object(l.a)(Object(l.a)({},V),{},{enable:!0})),F(!0),E(!1),R(!0),z("")):z("Los datos son incorrectos!")}))},children:"Completar Pago"}),Object(y.jsx)("p",{children:L}),V.enable&&V.type.includes("giftCard")&&Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"Enter your Giftcard Code"}),Object(y.jsx)("input",{type:"text",required:!0,name:"giftCardCode",defaultValue:" ",onChange:function(e){v(e.target.value)}}),Object(y.jsx)("button",{onClick:function(){d(g).then((function(e){e.success?w(e.res.balance):w("Tu tarjeta no es valida")}))},children:"Check balance"}),"string"===typeof N&&Object(y.jsx)("p",{children:N}),"number"===typeof N&&Object(y.jsxs)("p",{children:["el saldo de tu giftcard es de $",N]}),de<0&&Object(y.jsxs)("div",{className:Ae.a.switchField,children:[Object(y.jsxs)("p",{children:["el valor de tu compra $",te.totalPrice," supera el saldo que tienes en tu giftcard, el saldo que queda por pagar es de $",Math.abs(de),"."]}),Object(y.jsx)("input",{type:"radio",id:"paypal",name:"payMethod",defaultValue:"paypal",onChange:function(e){return oe(e,"add")},onClick:function(){return R(!1)},disabled:h}),Object(y.jsx)("label",{for:"paypal",children:"Paypal"}),Object(y.jsx)("input",{type:"radio",id:"mercadopago",name:"payMethod",defaultValue:"mercadoPago",onChange:function(e){return oe(e,"add")},onClick:function(){return R(!1)},disabled:h}),Object(y.jsx)("label",{for:"mercadopago",children:"Credit/Debit Card"})]}),de>0&&Object(y.jsxs)("div",{children:[Object(y.jsxs)("p",{children:["el valor de tu compra $",te.totalPrice," te queda un saldo de ",de]}),Object(y.jsx)("button",{onClick:ie,children:"pagar"})]}),de>0&&Object(y.jsx)("p",{})]}),V.enable&&V.type.includes("paypal")&&Object(y.jsx)(Te,{description:"Cozy  ".concat(ue.toLocaleDateString()),total:h?le:te.totalPrice,order:te,info:X}),V.enable&&V.type.includes("mercadoPago")&&Object(y.jsx)(Re,{addNewOrderHandler:ie,total:h?String(le):te.totalPrice})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:"Shopping Cart"}),ne]})]})})),Le=c(24),ze=c.n(Le),Ye={logOut:O.logOut},He=Object(u.b)((function(e){return{loginUser:e.users.user}}),Ye)((function(e){var t=e.loginUser,c=e.logOut,a=Object(r.useState)(!1),n=Object(x.a)(a,2),s=n[0],i=n[1],u=function(e){i(!s)};if(t)var d=t.photo.includes("http")?t.photo:"https://cozydeco.herokuapp.com/".concat(t.photo);return Object(y.jsxs)("header",{children:[Object(y.jsxs)("div",{className:ze.a.userMenu,children:[Object(y.jsxs)("div",{children:[!t&&Object(y.jsx)("i",{className:"iconSocial fas fa-user fa-2x"}),t&&Object(y.jsx)("div",{className:"logoUser",style:{backgroundImage:"url('".concat(d,"')")}})]}),Object(y.jsx)("div",{className:ze.a.iconsMenu,onClick:u,children:s?Object(y.jsx)("img",{className:ze.a.iconItem,src:"https://img.icons8.com/material-outlined/48/000000/cancel--v1.png"}):Object(y.jsx)("img",{className:ze.a.iconItem,src:"https://img.icons8.com/ios-filled/50/000000/menu--v1.png"})})]}),Object(y.jsx)("h1",{children:"COZY"}),Object(y.jsx)("div",{children:Object(y.jsxs)("nav",{children:[Object(y.jsx)(o.c,{active:!0,exact:!0,to:"/",children:"HOME"}),Object(y.jsx)(o.c,{active:!0,to:"/products",children:"STORE"}),!t&&Object(y.jsx)(o.c,{active:!0,to:"/signin",onClick:u,className:s?ze.a.menu1:ze.a.itemResponsive,children:"SIGN IN"}),!t&&Object(y.jsx)(o.c,{active:!0,to:"/signup",onClick:u,className:s?ze.a.menu2:ze.a.itemResponsive,children:"SIGN UP"}),t&&Object(y.jsx)(o.c,{active:!0,onClick:function(){c(),i(!s)},to:"/",className:s?ze.a.menu1:ze.a.itemResponsive,children:"SIGN OUT"}),t&&t.admin&&Object(y.jsx)(o.c,{to:"/admin",children:"ADMIN"}),Object(y.jsx)(ce.a,{style:{padding:"0"},backgroundColor:"#61605e8a",toogleComponent:function(e){return Object(y.jsx)("i",{onClick:e,className:"iconSocial fas fa-shopping-cart fa-1x"})},offsetX:0,offsetY:0,children:function(e){return Object(y.jsx)(oe,{onClickHandler:e})}})]})})]})})),Ve={logFromSession:O.logFromSession,addCartLS:C.addCartLS},$e=Object(u.b)((function(e){return{loginUser:e.users.user}}),Ve)((function(e){var t=e.loginUser,c=e.logFromSession,a=e.addCartLS;return Object(r.useEffect)((function(){t||c(),localStorage.getItem("cart")&&a(JSON.parse(localStorage.getItem("cart")))}),[]),Object(y.jsxs)(o.a,{children:[Object(y.jsx)(d.a,{}),Object(y.jsx)(He,{}),Object(y.jsxs)(i.d,{children:[Object(y.jsx)(i.b,{exact:!0,path:"/",component:ee}),!t&&Object(y.jsx)(i.b,{path:"/signin",component:B}),!t&&Object(y.jsx)(i.b,{path:"/signup",component:z}),Object(y.jsx)(i.b,{exact:!0,path:"/products",component:T}),Object(y.jsx)(i.b,{path:"/products/:category",component:T}),Object(y.jsx)(i.b,{path:"/product/:id",component:he}),Object(y.jsx)(i.b,{exact:!0,path:"/productform",component:t&&t.admin?q:ee}),Object(y.jsx)(i.b,{path:"/productform/:id",component:t&&t.admin?q:ee}),Object(y.jsx)(i.b,{exact:!0,path:"/hover",component:te}),t&&t.admin&&Object(y.jsx)(i.b,{path:"/admin",component:Se}),t&&Object(y.jsx)(i.b,{path:"/payment",component:Be}),Object(y.jsx)(i.a,{to:"/"})]}),Object(y.jsx)(le,{})]})})),Je=c(35),Ke=c(66),Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_IN_USER":return{user:Object(l.a)({},t.payload)};case"LOG_OUT":return{user:null};default:return e}},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[],productsCategory:[],product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_PRODUCTS":return Object(l.a)(Object(l.a)({},e),{},{products:t.payload,productsCategory:t.payload.filter((function(e){return e.stock>0}))});case"GET_PRODUCT":return Object(l.a)(Object(l.a)({},e),{},{product:t.payload});case"FIND_A_PRODUCT":return Object(l.a)(Object(l.a)({},e),{},{product:e.products.find((function(e){return e._id===t.payload}))});case"GET_ALL":return Object(l.a)(Object(l.a)({},e),{},{productsCategory:e.products.filter((function(e){return e.stock>0}))});case"GET_BY_CATEGORY":return Object(l.a)(Object(l.a)({},e),{},{productsCategory:e.products.filter((function(e){return e.category===t.payload&&e.stock>0}))});default:return e}},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0,c=null;switch(t.type){case"ADD_CART_PRODUCT":var r=e.products.find((function(e){return e.product._id===t.payload.product._id}));return c=r?e.products.map((function(e){return e.product._id===t.payload.product._id?Object(l.a)(Object(l.a)({},e),{},{quantity:e.quantity+t.payload.quantity}):e})):e.products.concat(t.payload),localStorage.setItem("cart",JSON.stringify(c)),{products:r?e.products.map((function(e){return e.product._id===t.payload.product._id?Object(l.a)(Object(l.a)({},e),{},{quantity:e.quantity+t.payload.quantity}):e})):e.products.concat(t.payload)};case"DELETE_ONE_CART_PRODUCT":return c=e.products.filter((function(e){return e.product._id!==t.payload})),localStorage.setItem("cart",JSON.stringify(c)),{products:e.products.filter((function(e){return e.product._id!==t.payload}))};case"UPDATE_CART_PRODUCT":return c=e.products.map((function(e){return e.product._id===t.payload.product._id?Object(l.a)(Object(l.a)({},e),{},{quantity:t.payload.quantity}):e})),localStorage.setItem("cart",JSON.stringify(c)),{products:e.products.map((function(e){return e.product._id===t.payload.product._id?Object(l.a)(Object(l.a)({},e),{},{quantity:t.payload.quantity}):e}))};case"ADD_CART_LS":return console.log(t.payload),{products:t.payload};case"DELETE_CART":return localStorage.removeItem("cart"),{products:[]};default:return e}},Qe=Object(Je.b)({users:Xe,products:Ze,cart:We}),et=Object(Je.c)(Qe,Object(Je.a)(Ke.a));s.a.render(Object(y.jsx)(u.a,{store:et,children:Object(y.jsx)($e,{})}),document.getElementById("root"))},12:function(e,t,c){e.exports={adminMain:"Admin_adminMain__1gcZR",topInfo:"Admin_topInfo__bEnTf",midInfo:"Admin_midInfo__5YMgE",searchBar:"Admin_searchBar__1lflP",userContainer:"Admin_userContainer__2Ti3G",statsContainer:"Admin_statsContainer__3F4iK",userCard:"Admin_userCard__2kWQn",stockCard:"Admin_stockCard__MwAqp",manageStock:"Admin_manageStock__2_ojq",admin:"Admin_admin__2w2li",stockContainer:"Admin_stockContainer__12J2-",guideContainer:"Admin_guideContainer__1ucfU",brand:"Admin_brand__3JMKa"}},14:function(e,t,c){e.exports={productsGallery:"ProductsGallery_productsGallery__1TFsx",productsCards:"ProductsGallery_productsCards__39kwc",wrapper:"ProductsGallery_wrapper__3UNVU",container:"ProductsGallery_container__1jO5D",top:"ProductsGallery_top__127m1",bottom:"ProductsGallery_bottom__2m017",nameAndPrice:"ProductsGallery_nameAndPrice__3X_UT",cardButtons:"ProductsGallery_cardButtons__qVQfC",fas:"ProductsGallery_fas__2_Vr1",inside:"ProductsGallery_inside__1mAJF",icon:"ProductsGallery_icon__2K-YW",newClass:"ProductsGallery_newClass__3dMqW",sale:"ProductsGallery_sale__3CXNT",filterContainer:"ProductsGallery_filterContainer__7Xa9f",inputContainer:"ProductsGallery_inputContainer__1zg3l"}},16:function(e,t,c){e.exports={cartContainer:"Cart_cartContainer__1-bxf",cartContainerHeader:"Cart_cartContainerHeader__11sJn",productCartPhoto:"Cart_productCartPhoto__3y0_J",cartContainerMain:"Cart_cartContainerMain__1NdBI",divPrice:"Cart_divPrice__2W9rG",divSpan:"Cart_divSpan__2_B1Z",divButton:"Cart_divButton__1q7ak",productInCart:"Cart_productInCart__22mk0",productCartInfo:"Cart_productCartInfo__3TBmF",counter:"Cart_counter__2GXMO",warning:"Cart_warning__nGOLl",warningButton:"Cart_warningButton__1apYT"}},21:function(e,t,c){e.exports={productSection:"Product_productSection__EMq02",mainContainer:"Product_mainContainer__2ihrJ",productImage:"Product_productImage__15Dvw",productInfo:"Product_productInfo__28nRk",shippingInfo:"Product_shippingInfo__v2L86",suggestionContainer:"Product_suggestionContainer__3nHCx",suggestion:"Product_suggestion__Cdh7A",productCardContainer:"Product_productCardContainer__34JXb",counter:"Product_counter__23kxa","sc-bdfBQB":"Product_sc-bdfBQB__3vAff",efwhzj:"Product_efwhzj__1dilf",interestCard:"Product_interestCard__C3gvd",calculateSend:"Product_calculateSend__2McgV",sale:"Product_sale__crGYY"}},22:function(e,t,c){e.exports={footer:"Footer_footer__1O20_",socialNetworks:"Footer_socialNetworks___MRON",infoContact:"Footer_infoContact__3lIr4",iconSocial:"Footer_iconSocial__3BRSa",iconContact:"Footer_iconContact__31z3o",iconResponsive:"Footer_iconResponsive__1-iiF"}},23:function(e,t,c){e.exports={home:"Home_home__YwGDK",homeStore:"Home_homeStore__1Ts2x",categories:"Home_categories__2zigw",galleryWrap:"Home_galleryWrap__CpF82",textButton:"Home_textButton__3hU8R",quote:"Home_quote__1aV7h",info:"Home_info__1BFVP",infoContainer:"Home_infoContainer__2tKE_",fondoInfo:"Home_fondoInfo__2-CUA",infoItem:"Home_infoItem__3G1kt"}},24:function(e,t,c){e.exports={iconsMenu:"MenuResponsive_iconsMenu__1nNQd",menu:"MenuResponsive_menu__1e5XJ",userMenu:"MenuResponsive_userMenu__22pnr",menu1:"MenuResponsive_menu1__wS6K7",menu2:"MenuResponsive_menu2__1uw7I",itemResponsive:"MenuResponsive_itemResponsive__117sg",iconItem:"MenuResponsive_iconItem__Leig-"}},25:function(e,t,c){e.exports={formContainer:"ProductForm_formContainer__1XldU",mainForm:"ProductForm_mainForm__3XltR",picture:"ProductForm_picture__1f5J8",productPic:"ProductForm_productPic__52_Ck",productForm:"ProductForm_productForm__2GFQb",price:"ProductForm_price__3ikQY",saleInput:"ProductForm_saleInput__u7C4D",saleRadios:"ProductForm_saleRadios__3Z0SY",formButton:"ProductForm_formButton__3P0eX"}},26:function(e,t,c){e.exports={gatewayContainer:"PaymentGateway_gatewayContainer__1EZtk",productInCart:"PaymentGateway_productInCart__2aS66",productCartInfo:"PaymentGateway_productCartInfo__3VhkX",productCartPhoto:"PaymentGateway_productCartPhoto__tJBNf",personalInfo:"PaymentGateway_personalInfo__1voxv",switchField:"PaymentGateway_switchField__4SrSD"}},29:function(e,t,c){e.exports={hideCard:"CartCard_hideCard__11m6H",showCard:"CartCard_showCard__tG4gd",cartCard:"CartCard_cartCard__2wavj",topToast:"CartCard_topToast__1rqgA",infoCart:"CartCard_infoCart__30ABV",bold:"CartCard_bold__1nK-C",total:"CartCard_total__2-YP4",close:"CartCard_close__3h-YL",buttonContainer:"CartCard_buttonContainer__2Cxjw"}},41:function(e,t,c){e.exports={button1:"Button1_button1__KkYYx",buttonContent:"Button1_buttonContent__1uDaF",accent:"Button1_accent__2wz6a"}},56:function(e,t,c){},65:function(e,t,c){e.exports={container:"MercadoPagoForm_container__Skthw"}},75:function(e,t,c){}},[[104,1,2]]]);
//# sourceMappingURL=main.95e56409.chunk.js.map